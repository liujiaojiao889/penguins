/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 21);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* no static exports found */
/* all exports used */
/*!*********************************************!*\
  !*** ./laya_game/src/module/init_module.js ***!
  \*********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.sceneManager = exports.observer = exports.messageCenter = undefined;\nexports.setViewCenter = setViewCenter;\n\nvar _config = __webpack_require__(/*! ../config/config */ 3);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _utils = __webpack_require__(/*! ../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _data = __webpack_require__(/*! ../config/data */ 7);\n\nvar _messageCenter = __webpack_require__(/*! ./com/messageCenter */ 23);\n\nvar _observer = __webpack_require__(/*! ./com/observer */ 24);\n\nvar _sceneManager = __webpack_require__(/*! ./com/sceneManager */ 25);\n\nvar _room = __webpack_require__(/*! ../uiScene/room */ 6);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// 进房间\nfunction enterRoom(messageCenter) {\n    var roomscene = _room2.default.getInstance(messageCenter);\n\n    // 直接进房间\n    if (sceneManager.currentScene !== roomscene) {\n        sceneManager.loadScene(roomscene);\n    }\n}\n\n// 错误信息处理\nfunction conError(data) {\n    switch (Number(data.res.code)) {\n        // 异地登陆\n        case 1003:\n            var reload = function reload() {\n                window.location.reload();\n            };\n\n            // 断开连接\n            messageCenter.disconnectSocket();\n\n            // 提示弹层\n            observer.publish('common::tips', '异地登录，请刷新页面', reload, reload);\n\n            break;\n    }\n}\n\n// 模块初始化\nvar param = {\n    websocketurl: window.websocketurl,\n    lib: typeof window.Primus === \"undefined\" ? \"socketio\" : \"primus\", //io就是socketio的namespace    //是false\n    publicKey: typeof window.publicKey === \"undefined\" ? \"\" : window.publicKey, //是false\n    token: window.token,\n    ajaxUrl: _data.AJAX_URL,\n    endCallBack: function endCallBack() {\n        var cb = function cb() {\n            /*           observer.publish('game::reset');\r\n                       observer.publish('walk::stop');*/\n            window.location.reload();\n        };\n        var txt = '网络已断开，请确定后重试！';\n        observer.publish('common::tips', txt, cb, cb);\n\n        observer.publish('walk::stop');\n        observer.publish('game::reset');\n    },\n    unLoginCallBack: function unLoginCallBack() {\n        // 未登录情况下无法知道sokcet已连接\n        if (!_utils2.default.checkLoginStatus()) {\n            // 进房间\n            enterRoom(messageCenter);\n            console.log('open~~~未登录。。。');\n        }\n    },\n    // 打印信息\n    logInfo: function logInfo(parsedData) {\n        // 公告不展开\n        if (parsedData.cmd === \"bet\") {\n            _utils2.default.log(\"接收数据：===>\", parsedData.cmd, JSON.stringify(parsedData, null, 4));\n        } else {\n            _utils2.default.log(\"接收数据：===>\", parsedData.cmd, parsedData);\n        }\n    }\n\n    // 本地\n};if (_config2.default.localStatus) {\n    for (var key in param.ajaxUrl) {\n        param.ajaxUrl[key] = window.DEV_URL + param.ajaxUrl[key];\n    }\n}\n\n// 通信\nvar messageCenter = exports.messageCenter = new _messageCenter.MessageCenterModule(param);\n\n// 绑定消息\nmessageCenter.initAction = function () {\n    var _this = this;\n\n    //一切请求等待首次连接后在发出\n    this.registerAction(\"conn::init\", function () {\n        // 进房间\n        enterRoom(_this);\n    });\n\n    // 连接错误信息处理\n    this.registerAction('conn::error', function (data) {\n        conError(data);\n    });\n};\n\n// 场景切换的观察者\nvar observer = exports.observer = new _observer.ObserverModule();\n\n// 场景切换\nvar sceneManager = exports.sceneManager = new _sceneManager.SceneManagerModule();\n\n// 设置视图居中\nfunction setViewCenter() {\n    var _height = Laya.stage.height;\n    var currentView = sceneManager.currentScene;\n    if (currentView) {\n        currentView.height = _height;\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL21vZHVsZS9pbml0X21vZHVsZS5qcz82MmVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHQU1FX0NPTkZJRyBmcm9tICcuLi9jb25maWcvY29uZmlnJztcclxuaW1wb3J0IFVUSUxTIGZyb20gJy4uL2NvbmZpZy91dGlscyc7XHJcbmltcG9ydCB7IEFKQVhfVVJMIH0gZnJvbSAnLi4vY29uZmlnL2RhdGEnO1xyXG5cclxuaW1wb3J0IHsgTWVzc2FnZUNlbnRlck1vZHVsZSB9IGZyb20gJy4vY29tL21lc3NhZ2VDZW50ZXInO1xyXG5pbXBvcnQgeyBPYnNlcnZlck1vZHVsZSB9IGZyb20gJy4vY29tL29ic2VydmVyJztcclxuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyTW9kdWxlIH0gZnJvbSAnLi9jb20vc2NlbmVNYW5hZ2VyJztcclxuXHJcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi4vdWlTY2VuZS9yb29tJztcclxuXHJcbi8vIOi/m+aIv+mXtFxyXG5mdW5jdGlvbiBlbnRlclJvb20obWVzc2FnZUNlbnRlcikge1xyXG4gICAgbGV0IHJvb21zY2VuZSA9IFJvb21TY2VuZS5nZXRJbnN0YW5jZShtZXNzYWdlQ2VudGVyKTtcclxuXHJcbiAgICAvLyDnm7TmjqXov5vmiL/pl7RcclxuICAgIGlmKHNjZW5lTWFuYWdlci5jdXJyZW50U2NlbmUgIT09IHJvb21zY2VuZSl7XHJcbiAgICAgICAgc2NlbmVNYW5hZ2VyLmxvYWRTY2VuZShyb29tc2NlbmUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyDplJnor6/kv6Hmga/lpITnkIZcclxuZnVuY3Rpb24gY29uRXJyb3IoZGF0YSkge1xyXG4gICAgc3dpdGNoIChOdW1iZXIoZGF0YS5yZXMuY29kZSkpIHtcclxuICAgICAgICAvLyDlvILlnLDnmbvpmYZcclxuICAgICAgICBjYXNlIDEwMDM6XHJcbiAgICAgICAgICAgIGxldCByZWxvYWQgPSAoKSA9PiB7IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSB9O1xyXG5cclxuICAgICAgICAgICAgLy8g5pat5byA6L+e5o6lXHJcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZGlzY29ubmVjdFNvY2tldCgpO1xyXG5cclxuICAgICAgICAgICAgLy8g5o+Q56S65by55bGCXHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2NvbW1vbjo6dGlwcycsICflvILlnLDnmbvlvZXvvIzor7fliLfmlrDpobXpnaInLCByZWxvYWQsIHJlbG9hZCk7XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxuLy8g5qih5Z2X5Yid5aeL5YyWXHJcbmxldCBwYXJhbSA9IHtcclxuICAgIHdlYnNvY2tldHVybDogd2luZG93LndlYnNvY2tldHVybCxcclxuICAgIGxpYjogdHlwZW9mIHdpbmRvdy5QcmltdXMgPT09IFwidW5kZWZpbmVkXCIgPyBcInNvY2tldGlvXCIgOiBcInByaW11c1wiLCAvL2lv5bCx5pivc29ja2V0aW/nmoRuYW1lc3BhY2UgICAgLy/mmK9mYWxzZVxyXG4gICAgcHVibGljS2V5OiB0eXBlb2Ygd2luZG93LnB1YmxpY0tleSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwiXCIgOiB3aW5kb3cucHVibGljS2V5LCAgIC8v5pivZmFsc2VcclxuICAgIHRva2VuOiB3aW5kb3cudG9rZW4sXHJcbiAgICBhamF4VXJsOiBBSkFYX1VSTCxcclxuICAgIGVuZENhbGxCYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGNiID0gKCkgPT4ge1xyXG4gLyogICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2dhbWU6OnJlc2V0Jyk7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ3dhbGs6OnN0b3AnKTsqL1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkgO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHR4dCA9ICfnvZHnu5zlt7Lmlq3lvIDvvIzor7fnoa7lrprlkI7ph43or5XvvIEnO1xyXG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2NvbW1vbjo6dGlwcycsIHR4dCwgY2IsIGNiKTtcclxuXHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnd2Fsazo6c3RvcCcpO1xyXG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2dhbWU6OnJlc2V0Jyk7XHJcblxyXG4gICAgfSxcclxuICAgIHVuTG9naW5DYWxsQmFjazogKCkgPT4ge1xyXG4gICAgICAgIC8vIOacqueZu+W9leaDheWGteS4i+aXoOazleefpemBk3Nva2NldOW3sui/nuaOpVxyXG4gICAgICAgIGlmICghVVRJTFMuY2hlY2tMb2dpblN0YXR1cygpKSB7XHJcbiAgICAgICAgICAgIC8vIOi/m+aIv+mXtFxyXG4gICAgICAgICAgICBlbnRlclJvb20obWVzc2FnZUNlbnRlcik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvcGVufn5+5pyq55m75b2V44CC44CC44CCJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vIOaJk+WNsOS/oeaBr1xyXG4gICAgbG9nSW5mbzogKHBhcnNlZERhdGEpPT57XHJcbiAgICAgICAgLy8g5YWs5ZGK5LiN5bGV5byAXHJcbiAgICAgICAgaWYgKHBhcnNlZERhdGEuY21kID09PSBcImJldFwiKSB7XHJcbiAgICAgICAgICAgIFVUSUxTLmxvZyhcIuaOpeaUtuaVsOaNru+8mj09PT5cIiwgcGFyc2VkRGF0YS5jbWQsIEpTT04uc3RyaW5naWZ5KHBhcnNlZERhdGEsIG51bGwsIDQpKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgVVRJTFMubG9nKFwi5o6l5pS25pWw5o2u77yaPT09PlwiLCBwYXJzZWREYXRhLmNtZCwgcGFyc2VkRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8g5pys5ZywXHJcbmlmKEdBTUVfQ09ORklHLmxvY2FsU3RhdHVzKXtcclxuICAgIGZvcihsZXQga2V5IGluIHBhcmFtLmFqYXhVcmwpe1xyXG4gICAgICAgIHBhcmFtLmFqYXhVcmxba2V5XSA9IHdpbmRvdy5ERVZfVVJMICsgcGFyYW0uYWpheFVybFtrZXldO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyDpgJrkv6FcclxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VDZW50ZXIgPSBuZXcgTWVzc2FnZUNlbnRlck1vZHVsZShwYXJhbSk7XHJcblxyXG4vLyDnu5Hlrprmtojmga9cclxubWVzc2FnZUNlbnRlci5pbml0QWN0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvL+S4gOWIh+ivt+axguetieW+hemmluasoei/nuaOpeWQjuWcqOWPkeWHulxyXG4gICAgdGhpcy5yZWdpc3RlckFjdGlvbihcImNvbm46OmluaXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIC8vIOi/m+aIv+mXtFxyXG4gICAgICAgIGVudGVyUm9vbSh0aGlzKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDov57mjqXplJnor6/kv6Hmga/lpITnkIZcclxuICAgIHRoaXMucmVnaXN0ZXJBY3Rpb24oJ2Nvbm46OmVycm9yJywgKGRhdGEpID0+IHtcclxuICAgICAgICBjb25FcnJvcihkYXRhKTtcclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8g5Zy65pmv5YiH5o2i55qE6KeC5a+f6ICFXHJcbmV4cG9ydCBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZlck1vZHVsZSgpO1xyXG5cclxuLy8g5Zy65pmv5YiH5o2iXHJcbmV4cG9ydCBjb25zdCBzY2VuZU1hbmFnZXIgPSBuZXcgU2NlbmVNYW5hZ2VyTW9kdWxlKCk7XHJcblxyXG4vLyDorr7nva7op4blm77lsYXkuK1cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFZpZXdDZW50ZXIoKSB7XHJcbiAgICBsZXQgX2hlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG4gICAgbGV0IGN1cnJlbnRWaWV3ID0gc2NlbmVNYW5hZ2VyLmN1cnJlbnRTY2VuZTtcclxuICAgIGlmIChjdXJyZW50Vmlldykge1xyXG4gICAgICAgIGN1cnJlbnRWaWV3LmhlaWdodCA9IF9oZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9tb2R1bGUvaW5pdF9tb2R1bGUuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQStHQTtBQUNBO0FBaEhBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUF4Q0E7QUEwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 1 */
/* no static exports found */
/* all exports used */
/*!***************************************!*\
  !*** ./laya_game/src/config/utils.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; //工具\n\n\nvar _config = __webpack_require__(/*! ./config.js */ 3);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UTILS = {};\n\nUTILS.log = function () {\n    var _window$console;\n\n    _config2.default.debug && window.console && (_window$console = window.console).log.apply(_window$console, arguments);\n};\nUTILS.warn = function () {\n    var _window$console2;\n\n    _config2.default.debug && window.console && (_window$console2 = window.console).warn.apply(_window$console2, arguments);\n};\nUTILS.info = function () {\n    var _window$console3;\n\n    _config2.default.debug && window.console && (_window$console3 = window.console).info.apply(_window$console3, arguments);\n};\n\n// 是否打印信息\nUTILS.initDebug = function (key, val) {\n    var arr = location.search.slice(1).split('&');\n    var result = false;\n    arr.forEach(function (item) {\n        var list = item.split('=');\n        if (list[0] === key && list[1] === val) {\n            result = true;\n        }\n    });\n\n    return result;\n};\n\n//生产0-num范围的随机数\nUTILS.randomNumber = function (n1, n2) {\n    var start = n1,\n        end = n2;\n    if (typeof n2 === 'undefined') {\n        start = 0;\n        end = n1;\n    }\n    return Math.round(Math.random() * (end - start) + start);\n};\n\n//登录\nUTILS.gotoLogin = function () {\n    location.href = GM.userLoginUrl;\n};\n\n//验证登录\nUTILS.checkLoginStatus = function () {\n    return _config2.default.localStatus || window.token && GM.userLogged;\n};\n\n// otp验证\nUTILS.otpCheckHandler = function () {\n    location.href = \"/?act=otp&st=otpPage\";\n};\n\nUTILS.willGotoLogin = function () {\n    if (!UTILS.checkLoginStatus()) {\n        UTILS.gotoLogin();\n        return true;\n    }\n};\n\n// 查看别处游戏币\nUTILS.checkOtherYxb = function () {\n    if (window.GM && GM.whereYxb) {\n        GM.whereYxb();\n    }\n};\n\n//获取字符串长度，支持中文\nUTILS.getStringLength = function () {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    return (\"\" + str.replace(/[^\\x00-\\xff]/gi, \"ox\")).length;\n};\n\n// 截取字符长度限制以内的字符\nUTILS.getActiveStr = function () {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var total = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n\n    var realLength = 0;\n    str = String(str);\n    var len = str.length;\n    var result = '';\n    if (len === 0) {\n        return '';\n    }\n    for (var i = 0; i < len; i++) {\n        if (str.charCodeAt(i) > 128) {\n            realLength += 2;\n        } else {\n            realLength += 1;\n        }\n        if (realLength > total) {\n            return result + '...';\n        }\n        result = result + str.charAt(i);\n    }\n    return result;\n};\n\n// 深度克隆\nUTILS.extendDeep = function (parent, child) {\n    var child = child || {};\n    var _tostr = Object.prototype.toString;\n    for (var key in parent) {\n        if (parent.hasOwnProperty(key)) {\n            if ((typeof _val === 'undefined' ? 'undefined' : _typeof(_val)) === 'object') {\n                child[key] = _tostr.call(parent[key]) === '[object Array]' ? [] : {};\n                extendDeep(parent[key], child[key]);\n            } else {\n                child[key] = parent[key];\n            }\n        }\n    }\n    return child;\n};\n\n// 运行时间\nUTILS.runningTime = function (fn) {\n    var time1 = Date.now();\n    fn();\n    var time2 = Date.now();\n\n    console.log(time2 - time1);\n};\n\nUTILS.getCookie = function (name) {\n    var cookieName = encodeURIComponent(name) + \"=\",\n        cookieStart = document.cookie.indexOf(cookieName),\n        cookieValue = null;\n\n    if (cookieStart > -1) {\n        var cookieEnd = document.cookie.indexOf(\";\", cookieStart);\n        if (cookieEnd == -1) {\n            cookieEnd = document.cookie.length;\n        }\n        cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));\n    }\n\n    return cookieValue;\n};\n\nUTILS.setCookie = function (cname, cvalue) {\n    var exdays = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;\n\n    var d = new Date();\n    d.setTime(d.getTime() + exdays * 24 * 60 * 1000);\n    var expires = \"expires=\" + d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires;\n};\n\nUTILS.clearCookie = function (name) {\n    UTILS.setCookie(name, \"\", -1);\n};\n\n// 输入框投币额加减的粒度计算\nUTILS.addSubHandler = function (type, base, min, max, current) {\n    if (type === 'sub') {\n        if (current <= 100) {\n            base = -1 * base;\n        } else if (current > 100 && current <= 1000) {\n            base = -100;\n            if (current < 100) {\n                base = -10;\n            }\n        } else if (current > 1000 && current <= 10000) {\n            base = -1000;\n            if (current < 1000) {\n                base = -100;\n            }\n        } else if (current > 10000 && current <= 100000) {\n            base = -10000;\n            if (current < 10000) {\n                base = -1000;\n            }\n        } else if (current > 100000) {\n            base = -100000;\n            if (current <= 100000) {\n                base = -10000;\n            }\n        }\n    } else if (type === 'add') {\n        if (current >= 100 && current < 1000) {\n            base = 100;\n        } else if (current >= 1000 && current < 10000) {\n            base = 1000;\n        } else if (current >= 10000 && current < 100000) {\n            base = 10000;\n        } else if (current >= 100000) {\n            base = 100000;\n        }\n    }\n\n    current += base;\n    current = Math.min(current, max);\n    current = Math.max(current, min);\n\n    return current;\n};\n\n// 添加千分符\nUTILS.addThousandSymbol = function (num) {\n    var str = String(num);\n    var result = '';\n    var count = 0;\n    for (var i = str.length - 1; i >= 0; i--) {\n        count++;\n        result = str.charAt(i) + result;\n        if (count % 3 === 0 && i !== 0) {\n            result = ',' + result;\n        }\n    }\n\n    return result;\n};\n\n// 转化为万为单位\nUTILS.toWanSymbol = function (num) {\n    var s = Number(num) / 10000;\n\n    if (s >= 1) {\n        return Math.floor(s) + '万';\n    } else {\n        return num;\n    }\n};\n\n// 把秒转化为时分秒\nUTILS.toDetailTime = function (num) {\n    var time = Number(num);\n    var days = Math.floor(time / 1440 / 60);\n    var hours = Math.floor((time - days * 1440 * 60) / 3600);\n    var minutes = Math.floor((time - days * 1440 * 60 - hours * 3600) / 60);\n    var seconds = time - days * 1440 * 60 - hours * 3600 - minutes * 60;\n    var result = '';\n    if (days) result += days + '日';\n    if (hours) result += hours + '时';\n    if (minutes) result += minutes + '分';\n    if (seconds) result += seconds + '秒';\n\n    return result;\n};\n\n// 倒计时\nUTILS.createTimeCountDown = function () {\n    return {\n        // 创建 (总时间, 倒计时进行回调， 倒计时结束回调)\n        start: function start(time, timeGoingCb, timeOutCb) {\n            var _this = this;\n\n            var count = Number(time);\n\n            this.loop = function () {\n                if (--count > 0) {\n                    timeGoingCb && timeGoingCb(count);\n                    Laya.timer.once(1000, _this, _this.loop);\n                } else {\n                    timeOutCb && timeOutCb();\n                    _this.clear();\n                }\n            };\n\n            this.loop();\n        },\n        clear: function clear() {\n            if (this.loop) {\n                Laya.timer.clear(this, this.loop);\n                this.loop = null;\n            }\n        }\n    };\n};\n\nexports.default = UTILS;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL2NvbmZpZy91dGlscy5qcz9iYWI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8v5bel5YW3XHJcbmltcG9ydCBHQU1FX0NPTkZJRyBmcm9tICcuL2NvbmZpZy5qcyc7XHJcblxyXG5jb25zdCBVVElMUyA9IHt9O1xyXG5cclxuVVRJTFMubG9nID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIEdBTUVfQ09ORklHLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyguLi5hcmdzKTtcclxufVxyXG5VVElMUy53YXJuID0gKC4uLmFyZ3MpID0+IHtcclxuICAgIEdBTUVfQ09ORklHLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4oLi4uYXJncyk7XHJcbn1cclxuVVRJTFMuaW5mbyA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICBHQU1FX0NPTkZJRy5kZWJ1ZyAmJiB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5pbmZvKC4uLmFyZ3MpO1xyXG59XHJcblxyXG4vLyDmmK/lkKbmiZPljbDkv6Hmga9cclxuVVRJTFMuaW5pdERlYnVnID0gKGtleSwgdmFsKSA9PiB7XHJcbiAgICBsZXQgYXJyID0gbG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCcmJyk7XHJcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGxldCBsaXN0ID0gaXRlbS5zcGxpdCgnPScpO1xyXG4gICAgICAgIGlmIChsaXN0WzBdID09PSBrZXkgJiYgbGlzdFsxXSA9PT0gdmFsKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vL+eUn+S6pzAtbnVt6IyD5Zu055qE6ZqP5py65pWwXHJcblVUSUxTLnJhbmRvbU51bWJlciA9IChuMSwgbjIpID0+IHtcclxuICAgIGxldCBzdGFydCA9IG4xLFxyXG4gICAgICAgIGVuZCA9IG4yO1xyXG4gICAgaWYgKHR5cGVvZiBuMiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzdGFydCA9IDA7XHJcbiAgICAgICAgZW5kID0gbjE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGVuZCAtIHN0YXJ0KSArIHN0YXJ0KTtcclxufVxyXG5cclxuLy/nmbvlvZVcclxuVVRJTFMuZ290b0xvZ2luID0gKCkgPT4ge1xyXG4gICAgbG9jYXRpb24uaHJlZiA9IEdNLnVzZXJMb2dpblVybDtcclxufVxyXG5cclxuLy/pqozor4HnmbvlvZVcclxuVVRJTFMuY2hlY2tMb2dpblN0YXR1cyA9ICgpID0+IHtcclxuICAgIHJldHVybiBHQU1FX0NPTkZJRy5sb2NhbFN0YXR1cyB8fCAod2luZG93LnRva2VuICYmIEdNLnVzZXJMb2dnZWQpO1xyXG59XHJcblxyXG4vLyBvdHDpqozor4FcclxuVVRJTFMub3RwQ2hlY2tIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgbG9jYXRpb24uaHJlZiA9IFwiLz9hY3Q9b3RwJnN0PW90cFBhZ2VcIjtcclxufVxyXG5cclxuVVRJTFMud2lsbEdvdG9Mb2dpbiA9ICgpID0+IHtcclxuICAgIGlmICghVVRJTFMuY2hlY2tMb2dpblN0YXR1cygpKSB7XHJcbiAgICAgICAgVVRJTFMuZ290b0xvZ2luKCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOafpeeci+WIq+WkhOa4uOaIj+W4gVxyXG5VVElMUy5jaGVja090aGVyWXhiID0gKCkgPT4ge1xyXG4gICAgaWYgKHdpbmRvdy5HTSAmJiBHTS53aGVyZVl4Yikge1xyXG4gICAgICAgIEdNLndoZXJlWXhiKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6I635Y+W5a2X56ym5Liy6ZW/5bqm77yM5pSv5oyB5Lit5paHXHJcblVUSUxTLmdldFN0cmluZ0xlbmd0aCA9IChzdHIgPSAnJykgPT4ge1xyXG4gICAgcmV0dXJuIChcIlwiICsgc3RyLnJlcGxhY2UoL1teXFx4MDAtXFx4ZmZdL2dpLCBcIm94XCIpKS5sZW5ndGg7XHJcbn1cclxuXHJcbi8vIOaIquWPluWtl+espumVv+W6pumZkOWItuS7peWGheeahOWtl+esplxyXG5VVElMUy5nZXRBY3RpdmVTdHIgPSAoc3RyID0gJycsIHRvdGFsID0gOCkgPT4ge1xyXG4gICAgbGV0IHJlYWxMZW5ndGggPSAwO1xyXG4gICAgc3RyID0gU3RyaW5nKHN0cik7XHJcbiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aDtcclxuICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgIGlmIChsZW4gPT09IDApIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHN0ci5jaGFyQ29kZUF0KGkpID4gMTI4KSB7XHJcbiAgICAgICAgICAgIHJlYWxMZW5ndGggKz0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZWFsTGVuZ3RoICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWFsTGVuZ3RoID4gdG90YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArICcuLi4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBzdHIuY2hhckF0KGkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLy8g5rex5bqm5YWL6ZqGXHJcblVUSUxTLmV4dGVuZERlZXAgPSAocGFyZW50LCBjaGlsZCkgPT4ge1xyXG4gICAgdmFyIGNoaWxkID0gY2hpbGQgfHwge307XHJcbiAgICB2YXIgX3Rvc3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuICAgIGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHtcclxuICAgICAgICBpZiAocGFyZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdmFsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRba2V5XSA9IChfdG9zdHIuY2FsbChwYXJlbnRba2V5XSkgPT09ICdbb2JqZWN0IEFycmF5XScpID8gW10gOiB7fTtcclxuICAgICAgICAgICAgICAgIGV4dGVuZERlZXAocGFyZW50W2tleV0sIGNoaWxkW2tleV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoaWxkO1xyXG59XHJcblxyXG4vLyDov5DooYzml7bpl7RcclxuVVRJTFMucnVubmluZ1RpbWUgPSAoZm4pID0+IHtcclxuICAgIGxldCB0aW1lMSA9IERhdGUubm93KCk7XHJcbiAgICBmbigpO1xyXG4gICAgbGV0IHRpbWUyID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyh0aW1lMiAtIHRpbWUxKTtcclxufVxyXG5cclxuVVRJTFMuZ2V0Q29va2llID0gKG5hbWUpID0+IHtcclxuICAgIHZhciBjb29raWVOYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCI9XCIsXHJcbiAgICAgICAgY29va2llU3RhcnQgPSBkb2N1bWVudC5jb29raWUuaW5kZXhPZihjb29raWVOYW1lKSxcclxuICAgICAgICBjb29raWVWYWx1ZSA9IG51bGw7XHJcblxyXG4gICAgaWYgKGNvb2tpZVN0YXJ0ID4gLTEpIHtcclxuICAgICAgICB2YXIgY29va2llRW5kID0gZG9jdW1lbnQuY29va2llLmluZGV4T2YoXCI7XCIsIGNvb2tpZVN0YXJ0KVxyXG4gICAgICAgIGlmIChjb29raWVFbmQgPT0gLTEpIHtcclxuICAgICAgICAgICAgY29va2llRW5kID0gZG9jdW1lbnQuY29va2llLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29va2llVmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llLnN1YnN0cmluZyhjb29raWVTdGFydCArIGNvb2tpZU5hbWUubGVuZ3RoLCBjb29raWVFbmQpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29va2llVmFsdWU7XHJcbn1cclxuXHJcblVUSUxTLnNldENvb2tpZSA9IChjbmFtZSwgY3ZhbHVlLCBleGRheXMgPSA3KSA9PiB7XHJcbiAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzICogMjQgKiA2MCAqIDEwMDApKTtcclxuICAgIGxldCBleHBpcmVzID0gXCJleHBpcmVzPVwiICsgZC50b1VUQ1N0cmluZygpO1xyXG4gICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcztcclxufVxyXG5cclxuVVRJTFMuY2xlYXJDb29raWUgPSAobmFtZSkgPT4ge1xyXG4gICAgVVRJTFMuc2V0Q29va2llKG5hbWUsIFwiXCIsIC0xKTtcclxufVxyXG5cclxuLy8g6L6T5YWl5qGG5oqV5biB6aKd5Yqg5YeP55qE57KS5bqm6K6h566XXHJcblVUSUxTLmFkZFN1YkhhbmRsZXIgPSAodHlwZSwgYmFzZSwgbWluLCBtYXgsIGN1cnJlbnQpID0+IHtcclxuICAgIGlmICh0eXBlID09PSAnc3ViJykge1xyXG4gICAgICAgIGlmIChjdXJyZW50IDw9IDEwMCkge1xyXG4gICAgICAgICAgICBiYXNlID0gLTEgKiBiYXNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudCA+IDEwMCAmJiBjdXJyZW50IDw9IDEwMDApIHtcclxuICAgICAgICAgICAgYmFzZSA9IC0xMDA7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50IDwgMTAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlID0gLTEwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50ID4gMTAwMCAmJiBjdXJyZW50IDw9IDEwMDAwKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAtMTAwMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPCAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlID0gLTEwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudCA+IDEwMDAwICYmIGN1cnJlbnQgPD0gMTAwMDAwKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAtMTAwMDA7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50IDwgMTAwMDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2UgPSAtMTAwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudCA+IDEwMDAwMCkge1xyXG4gICAgICAgICAgICBiYXNlID0gLTEwMDAwMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPD0gMTAwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlID0gLTEwMDAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FkZCcpIHtcclxuICAgICAgICBpZiAoY3VycmVudCA+PSAxMDAgJiYgY3VycmVudCA8IDEwMDApIHtcclxuICAgICAgICAgICAgYmFzZSA9IDEwMDtcclxuICAgICAgICB9ZWxzZSBpZiAoY3VycmVudCA+PSAxMDAwICYmIGN1cnJlbnQgPCAxMDAwMCkge1xyXG4gICAgICAgICAgICBiYXNlID0gMTAwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQgPj0gMTAwMDAgJiYgY3VycmVudCA8IDEwMDAwMCkge1xyXG4gICAgICAgICAgICBiYXNlID0gMTAwMDA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50ID49IDEwMDAwMCkge1xyXG4gICAgICAgICAgICBiYXNlID0gMTAwMDAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjdXJyZW50ICs9IGJhc2U7XHJcbiAgICBjdXJyZW50ID0gTWF0aC5taW4oY3VycmVudCwgbWF4KTtcclxuICAgIGN1cnJlbnQgPSBNYXRoLm1heChjdXJyZW50LCBtaW4pO1xyXG5cclxuICAgIHJldHVybiBjdXJyZW50O1xyXG59XHJcblxyXG4vLyDmt7vliqDljYPliIbnrKZcclxuVVRJTFMuYWRkVGhvdXNhbmRTeW1ib2wgPSAobnVtKSA9PiB7XHJcbiAgICBsZXQgc3RyID0gU3RyaW5nKG51bSk7XHJcbiAgICBsZXQgcmVzdWx0ID0gJyc7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IHN0ci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgcmVzdWx0ID0gc3RyLmNoYXJBdChpKSArIHJlc3VsdDtcclxuICAgICAgICBpZiAoY291bnQgJSAzID09PSAwICYmIGkgIT09IDApIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gJywnICsgcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vLyDovazljJbkuLrkuIfkuLrljZXkvY1cclxuVVRJTFMudG9XYW5TeW1ib2wgPSAobnVtKSA9PiB7XHJcbiAgICBsZXQgcyA9IE51bWJlcihudW0pIC8gMTAwMDA7XHJcblxyXG4gICAgaWYgKHMgPj0gMSkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHMpICsgJ+S4hyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudW07XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOaKiuenkui9rOWMluS4uuaXtuWIhuenklxyXG5VVElMUy50b0RldGFpbFRpbWUgPSAobnVtKSA9PiB7XHJcbiAgICB2YXIgdGltZSA9IE51bWJlcihudW0pO1xyXG4gICAgdmFyIGRheXMgPSBNYXRoLmZsb29yKHRpbWUgLyAxNDQwIC8gNjApO1xyXG4gICAgdmFyIGhvdXJzID0gTWF0aC5mbG9vcigodGltZSAtIGRheXMgKiAxNDQwICogNjApIC8gMzYwMCk7XHJcbiAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoKHRpbWUgLSBkYXlzICogMTQ0MCAqIDYwIC0gaG91cnMgKiAzNjAwKSAvIDYwKTtcclxuICAgIHZhciBzZWNvbmRzID0gKHRpbWUgLSBkYXlzICogMTQ0MCAqIDYwIC0gaG91cnMgKiAzNjAwIC0gbWludXRlcyAqIDYwKTtcclxuICAgIHZhciByZXN1bHQgPSAnJztcclxuICAgIGlmIChkYXlzKSByZXN1bHQgKz0gZGF5cyArICfml6UnO1xyXG4gICAgaWYgKGhvdXJzKSByZXN1bHQgKz0gaG91cnMgKyAn5pe2JztcclxuICAgIGlmIChtaW51dGVzKSByZXN1bHQgKz0gbWludXRlcyArICfliIYnO1xyXG4gICAgaWYgKHNlY29uZHMpIHJlc3VsdCArPSBzZWNvbmRzICsgJ+enkic7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLy8g5YCS6K6h5pe2XHJcblVUSUxTLmNyZWF0ZVRpbWVDb3VudERvd24gPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLy8g5Yib5bu6ICjmgLvml7bpl7QsIOWAkuiuoeaXtui/m+ihjOWbnuiwg++8jCDlgJLorqHml7bnu5PmnZ/lm57osIMpXHJcbiAgICAgICAgc3RhcnQodGltZSwgdGltZUdvaW5nQ2IsIHRpbWVPdXRDYikge1xyXG4gICAgICAgICAgICBsZXQgY291bnQgPSBOdW1iZXIodGltZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoLS1jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lR29pbmdDYiAmJiB0aW1lR29pbmdDYihjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDEwMDAsIHRoaXMsIHRoaXMubG9vcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lT3V0Q2IgJiYgdGltZU91dENiKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsZWFyKCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLmxvb3Ape1xyXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCB0aGlzLmxvb3ApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb29wID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVUSUxTO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9jb25maWcvdXRpbHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXhCQTtBQTBCQTtBQUNBO0FBSUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 2 */
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./laya_game/src/module/com/audio.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _config = __webpack_require__(/*! ../../config/config */ 3);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _data = __webpack_require__(/*! ../../config/data */ 7);\n\nvar _init_module = __webpack_require__(/*! ../init_module */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AudioMudule = function () {\n    function AudioMudule() {\n        _classCallCheck(this, AudioMudule);\n\n        this.init();\n\n        AudioMudule.instance = this;\n    }\n\n    _createClass(AudioMudule, [{\n        key: 'init',\n        value: function init() {\n            Laya.SoundManager.setMusicVolume(0.6);\n            Laya.SoundManager.setSoundVolume(1);\n\n            // 声音变化\n            _init_module.observer.subscribe('game::voice', this.changeVoiceState.bind(this));\n        }\n\n        // 初始化加载资源（除背景乐）\n\n    }, {\n        key: 'initResource',\n        value: function initResource() {\n            var _this = this;\n\n            _data.AUDIO_SOURCES.forEach(function (item, index) {\n                if (item !== 'bg') {\n                    _this.play(item);\n                }\n            });\n\n            this.stopAllSound();\n        }\n\n        // times播放次数 0表示循环播放， 1表示播放一次\n\n    }, {\n        key: 'play',\n        value: function play(id) {\n            var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n            var src = 'audio/' + id + '.mp3?v=' + _config2.default.STATIC_VERTION;\n            if (!_data.AUDIO_SOURCES.includes(id)) {\n                console.log('没有该资源音效: ' + id);\n                return;\n            }\n\n            // 背景乐必定是循环播放\n            if (id === 'bg') {\n                Laya.SoundManager.playMusic(src, 0);\n            } else {\n                Laya.SoundManager.playSound(src, times);\n            }\n        }\n    }, {\n        key: 'changeVoiceState',\n        value: function changeVoiceState(bool) {\n            if (!bool) {\n                this.setMuted();\n            } else {\n                this.setMutedNot();\n            }\n        }\n\n        //设置静音\n\n    }, {\n        key: 'setMuted',\n        value: function setMuted() {\n            Laya.SoundManager.muted = true;\n        }\n\n        //设置非静音(如果需要在播放背景音乐，需要重新play('gameBg')方法);\n\n    }, {\n        key: 'setMutedNot',\n        value: function setMutedNot() {\n            Laya.SoundManager.muted = false;\n            this.play('bg');\n        }\n\n        //停止背景音乐播放\n\n    }, {\n        key: 'stopBgMusic',\n        value: function stopBgMusic() {\n            Laya.SoundManager.stopMusic(); //停止背景音乐\n        }\n\n        //停止所有音效（除了背景音乐）\n\n    }, {\n        key: 'stopAllSound',\n        value: function stopAllSound() {\n            Laya.SoundManager.stopAllSound();\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return AudioMudule;\n}();\n\nexports.default = AudioMudule;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL21vZHVsZS9jb20vYXVkaW8uanM/ZWJhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR0FNRV9DT05GSUcgZnJvbSAnLi4vLi4vY29uZmlnL2NvbmZpZyc7XHJcbmltcG9ydCB7IEFVRElPX1NPVVJDRVMgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YSc7XHJcbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnLi4vaW5pdF9tb2R1bGUnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdWRpb011ZHVsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICAgICAgQXVkaW9NdWR1bGUuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZSB8fCBuZXcgdGhpcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIuc2V0TXVzaWNWb2x1bWUoMC42KTtcclxuICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zZXRTb3VuZFZvbHVtZSgxKTtcclxuXHJcbiAgICAgICAgLy8g5aOw6Z+z5Y+Y5YyWXHJcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdnYW1lOjp2b2ljZScsIHRoaXMuY2hhbmdlVm9pY2VTdGF0ZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDliJ3lp4vljJbliqDovb3otYTmupDvvIjpmaTog4zmma/kuZDvvIlcclxuICAgIGluaXRSZXNvdXJjZSgpIHtcclxuICAgICAgICBBVURJT19TT1VSQ0VTLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnYmcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnN0b3BBbGxTb3VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRpbWVz5pKt5pS+5qyh5pWwIDDooajnpLrlvqrnjq/mkq3mlL7vvIwgMeihqOekuuaSreaUvuS4gOasoVxyXG4gICAgcGxheShpZCwgdGltZXMgPSAxKSB7XHJcbiAgICAgICAgbGV0IHNyYyA9IGBhdWRpby8ke2lkfS5tcDM/dj0ke0dBTUVfQ09ORklHLlNUQVRJQ19WRVJUSU9OfWA7XHJcbiAgICAgICAgaWYgKCFBVURJT19TT1VSQ0VTLmluY2x1ZGVzKGlkKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5rKh5pyJ6K+l6LWE5rqQ6Z+z5pWIOiAnICsgaWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDog4zmma/kuZDlv4XlrprmmK/lvqrnjq/mkq3mlL5cclxuICAgICAgICBpZiAoaWQgPT09ICdiZycpIHtcclxuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheU11c2ljKHNyYywgMCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChzcmMsIHRpbWVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlVm9pY2VTdGF0ZShib29sKXtcclxuICAgICAgICBpZighYm9vbCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TXV0ZWQoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5zZXRNdXRlZE5vdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+iuvue9rumdmemfs1xyXG4gICAgc2V0TXV0ZWQoKSB7XHJcbiAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIubXV0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6K6+572u6Z2e6Z2Z6Z+zKOWmguaenOmcgOimgeWcqOaSreaUvuiDjOaZr+mfs+S5kO+8jOmcgOimgemHjeaWsHBsYXkoJ2dhbWVCZycp5pa55rOVKTtcclxuICAgIHNldE11dGVkTm90KCkge1xyXG4gICAgICAgIExheWEuU291bmRNYW5hZ2VyLm11dGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGF5KCdiZycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5YGc5q2i6IOM5pmv6Z+z5LmQ5pKt5pS+XHJcbiAgICBzdG9wQmdNdXNpYygpIHtcclxuICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5zdG9wTXVzaWMoKTsgLy/lgZzmraLog4zmma/pn7PkuZBcclxuICAgIH1cclxuXHJcbiAgICAvL+WBnOatouaJgOaciemfs+aViO+8iOmZpOS6huiDjOaZr+mfs+S5kO+8iVxyXG4gICAgc3RvcEFsbFNvdW5kKCkge1xyXG4gICAgICAgIExheWEuU291bmRNYW5hZ2VyLnN0b3BBbGxTb3VuZCgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9tb2R1bGUvY29tL2F1ZGlvLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7OztBQW5FQTtBQUNBO0FBQ0E7Ozs7OztBQVRBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 3 */
/* no static exports found */
/* all exports used */
/*!****************************************!*\
  !*** ./laya_game/src/config/config.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _utils = __webpack_require__(/*! ./utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar localStatus = !_utils2.default.initDebug('act', 'game_polarhunter'); //配置\n\nvar debug = localStatus || _utils2.default.initDebug('debugFE', '1');\nvar STATIC_VERTION = window.staticVertion || Date.now();\n\nvar GAME_CONFIG = {\n    localStatus: localStatus, //本地\n    debug: debug, //是否开启debug模式\n    STATIC_VERTION: STATIC_VERTION, // 静态资源版本号\n    gameWidth: 1334, //游戏宽度\n    gameHeight: 750, //游戏高度\n    screenMode: Laya.Stage.SCREEN_HORIZONTAL, //游戏水平横屏\n    scaleMode: Laya.Stage.SCALE_FIXED_WIDTH, //屏幕适配\n    alignH: Laya.Stage.ALIGN_CENTER, //水平居中\n    alignV: Laya.Stage.ALIGN_MIDDLE //垂直居中\n    // SOUND_STATE_KEY: `sound_${GM.gameId}` // 纪录游戏的声音状态的字段\n};\n\nexports.default = GAME_CONFIG;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL2NvbmZpZy9jb25maWcuanM/OTMwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL+mFjee9rlxyXG5pbXBvcnQgVVRJTFMgZnJvbSAnLi91dGlscyc7XHJcblxyXG5sZXQgbG9jYWxTdGF0dXMgPSAhVVRJTFMuaW5pdERlYnVnKCdhY3QnLCAnZ2FtZV9wb2xhcmh1bnRlcicpO1xyXG5sZXQgZGVidWcgPSBsb2NhbFN0YXR1cyB8fCBVVElMUy5pbml0RGVidWcoJ2RlYnVnRkUnLCAnMScpO1xyXG5sZXQgU1RBVElDX1ZFUlRJT04gPSB3aW5kb3cuc3RhdGljVmVydGlvbiB8fCBEYXRlLm5vdygpO1xyXG5cclxuY29uc3QgR0FNRV9DT05GSUcgPSB7XHJcbiAgICBsb2NhbFN0YXR1cywgLy/mnKzlnLBcclxuICAgIGRlYnVnLCAvL+aYr+WQpuW8gOWQr2RlYnVn5qih5byPXHJcbiAgICBTVEFUSUNfVkVSVElPTiwgLy8g6Z2Z5oCB6LWE5rqQ54mI5pys5Y+3XHJcbiAgICBnYW1lV2lkdGg6IDEzMzQsIC8v5ri45oiP5a695bqmXHJcbiAgICBnYW1lSGVpZ2h0OiA3NTAsIC8v5ri45oiP6auY5bqmXHJcbiAgICBzY3JlZW5Nb2RlOiBMYXlhLlN0YWdlLlNDUkVFTl9IT1JJWk9OVEFMLCAvL+a4uOaIj+awtOW5s+aoquWxj1xyXG4gICAgc2NhbGVNb2RlOiBMYXlhLlN0YWdlLlNDQUxFX0ZJWEVEX1dJRFRILCAvL+Wxj+W5lemAgumFjVxyXG4gICAgYWxpZ25IOiBMYXlhLlN0YWdlLkFMSUdOX0NFTlRFUiwgLy/msLTlubPlsYXkuK1cclxuICAgIGFsaWduVjogTGF5YS5TdGFnZS5BTElHTl9NSURETEUsIC8v5Z6C55u05bGF5LitXHJcbiAgICAvLyBTT1VORF9TVEFURV9LRVk6IGBzb3VuZF8ke0dNLmdhbWVJZH1gIC8vIOe6quW9lea4uOaIj+eahOWjsOmfs+eKtuaAgeeahOWtl+autVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHQU1FX0NPTkZJRztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9jb25maWcvY29uZmlnLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFDQTtBQVlBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 4 */
/* no static exports found */
/* all exports used */
/*!*********************************************!*\
  !*** ./laya_game/src/common/laya.custom.js ***!
  \*********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createSkeleton = createSkeleton;\nexports.clickOtherAreaHandler = clickOtherAreaHandler;\nexports.addLongClickEvent = addLongClickEvent;\n/**\r\n * @public\r\n * 创建骨骼动画\r\n * @param {String} path 骨骼动画路径\r\n * @param {Number} rate 骨骼动画帧率，引擎默认为30，一般传24\r\n * @param {Number} type 动画类型\r\n * 0,使用模板缓冲的数据，模板缓冲的数据，不允许修改  （内存开销小，计算开销小，不支持换装）\r\n * 1,使用动画自己的缓冲区，每个动画都会有自己的缓冲区，相当耗费内存 （内存开销大，计算开销小，支持换装）\r\n * 2,使用动态方式，去实时去画 （内存开销小，计算开销大，支持换装,不建议使用）\r\n * @return Skeleton骨骼动画\r\n */\nvar paths = [];\nvar temps = [];\nfunction createSkeleton(path, rate, type) {\n    rate = rate || 24;\n    type = type || 0;\n    var png = Laya.loader.getRes(path + \".png\");\n    var sk = Laya.loader.getRes(path + \".sk\");\n    if (!png || !sk) {\n        console.error(\"资源没有预加载:\" + path);\n        return null;\n    }\n    var index = paths.indexOf(path),\n        templet = void 0;\n    if (index === -1) {\n        templet = new Laya.Templet();\n        var len = paths.length;\n        paths[len] = path;\n        temps[len] = templet;\n        templet.parseData(png, sk, rate);\n    } else {\n        templet = temps[index];\n    }\n    return new Laya.Skeleton(templet, type);\n}\n\n// 扩展Dialog可以随时决定是否点击遮罩关闭弹层\nlaya.ui.DialogManager.prototype._closeOnSide = function () {\n    if (!window.UIConfig.closeDialogOnSide) return;\n    var dialog = this.getChildAt(this.numChildren - 1);\n    if (dialog instanceof laya.ui.Dialog) dialog.close(\"side\");\n};\n\nLaya.Node.prototype.set = function (param) {\n    var self = this;\n    Object.keys(param).forEach(function (key, i) {\n        switch (key) {\n            case 'pos':\n                self.pos(param[key][0], param[key][1]);\n                break;\n            default:\n                self[key] = param[key];\n                break;\n        }\n    });\n    return self;\n};\n\n// 获得深度节点, flag 为 找到一个就不再寻找, 还是查找所有的\nLaya.Node.prototype.findType = function (type, flag) {\n    var loop = function loop(root_dom) {\n        var arr = [];\n        var typeParent = mapType(type);\n        if (!typeParent) {\n            return arr;\n        }\n        for (var i = 0; i < root_dom.numChildren; i++) {\n            if (root_dom.getChildAt(i) instanceof typeParent) {\n                arr.push(root_dom.getChildAt(i));\n            }\n        }\n        for (var i = 0; i < root_dom.numChildren; i++) {\n            arr = arr.concat(loop(root_dom.getChildAt(i)));\n        }\n        return arr;\n    };\n\n    function mapType(typeStr) {\n        var type_arr = typeStr.split('.');\n        var result;\n        for (var i = 0; i < type_arr.length; i++) {\n            var type = type_arr[i];\n            if (i === 0) {\n                result = laya.ui[type] || ui[type] || laya.display[type];\n            } else {\n                result = result[type];\n            }\n            if (!result) {\n                // 如果没有\n                break;\n            }\n        }\n\n        return result;\n    }\n    var res = loop(this);\n    var len = res.length;\n\n    if (flag) {\n        return res;\n    }\n\n    if (len == 0) {\n        res = null;\n    } else if (len == 1) {\n        res = res[0];\n    }\n    return res;\n};\n\n// 本地相对应父元素的坐标节点\nLaya.Node.prototype.localToTarget = function (target) {\n    var point = { x: 0, y: 0 };\n    var ele = this;\n    while (ele) {\n        if (ele == target || ele == Laya.stage) break;\n        point = ele.toParentPoint(point);\n        ele = ele.parent;\n    }\n    return point;\n};\n\n// 获得深度节点, flag 为 找到一个就不再寻找, 还是查找所有的\nLaya.Node.prototype.find = function (name, flag) {\n    var loop = function loop(nodes) {\n        var childs = nodes._childs;\n        var it;\n        var arr = [];\n        if (!childs) {\n            return arr;\n        }\n        for (var i = 0, n = childs.length; i < n; i++) {\n            var item = childs[i];\n            if (item.name === name) {\n                arr.push(item);\n                if (flag !== true) {\n                    break;\n                }\n            } else {\n                it = loop(item);\n                arr = arr.concat(it);\n                // 若找到了 并且当前的 flag不为true, 则直接 return\n                if (it.length > 0 && flag !== true) {\n                    break;\n                }\n            }\n        }\n        return arr;\n    };\n\n    var res = loop(this);\n    var len = res.length;\n    // 张世阳加的\n    if (flag) {\n        return res;\n    }\n    if (len == 0) {\n        res = null;\n    } else if (len == 1) {\n        res = res[0];\n    }\n    return res;\n};\n\n// 点击小弹层以外的区域则隐藏\nfunction clickOtherAreaHandler(btn, viewBox) {\n    Laya.stage.on(Laya.Event.CLICK, this, function (event) {\n        if (!event) {\n            return;\n        }\n        var _target = event.target;\n        var child = viewBox.getChildAt(0);\n\n        // 菜单栏\n        if (child && child.visible && _target !== btn && !viewBox.contains(_target)) {\n            child.visible = false;\n        }\n    });\n}\n\nfunction addLongClickEvent(dom, clickHandler, longClickHandler) {\n    var _this = this;\n\n    var DURING_TIME = 1000;\n    var startTime = 0;\n\n    dom.on(Laya.Event.MOUSE_DOWN, this, function () {\n        startTime = Date.now();\n        Laya.timer.once(DURING_TIME, _this, longClickHandler);\n    });\n\n    dom.on(Laya.Event.MOUSE_UP, this, function () {\n        var during = Date.now() - startTime;\n\n        // 长按时间短\n        if (during < DURING_TIME) {\n            Laya.timer.clear(null, longClickHandler);\n            clickHandler();\n        }\n    });\n\n    dom.on(Laya.Event.MOUSE_OUT, this, function () {\n        Laya.timer.clear(null, longClickHandler);\n    });\n}\n\nLaya.Monitor = function () {\n\n    function Monitor() {}\n\n    var _isActive = true,\n        _blurTime = void 0,\n        _monitorNum = void 0,\n        _checkTimer = void 0;\n\n    var _stageOnBlur = function _stageOnBlur() {\n        if (!_isActive) return;\n        _isActive = false;\n        _monitorNum = 0;\n        Laya.stage.once(\"mousedown\", null, _stageOnFocus);\n        _monitorCount();\n        _blurTime = Laya.Browser.now();\n        if (Monitor.onBack) Monitor.onBack();\n    };\n\n    var _stageOnFocus = function _stageOnFocus() {\n        if (_isActive) return;\n        _isActive = true;\n        clearInterval(_checkTimer);\n        Laya.stage.off(\"mousedown\", null, _stageOnFocus);\n        var _now = Laya.Browser.now();\n        var _vorNum = Math.floor((_now - _blurTime) / 1000);\n        if (Monitor.onFront) Monitor.onFront();\n        console.log(_vorNum, _monitorNum);\n        if (_vorNum > _monitorNum + 1 && Monitor.onSleep) Monitor.onSleep();\n    };\n\n    var _monitorCount = function _monitorCount() {\n        _checkTimer = setInterval(function () {\n            _monitorNum++;\n        }, 1000);\n    };\n\n    var _visibilityChange = function _visibilityChange() {\n        if (Laya.stage.isVisibility) {\n            _stageOnFocus();\n        } else {\n            _stageOnBlur();\n        }\n    };\n\n    Monitor.init = function () {\n        _isActive = true;\n        Laya.stage.on(\"blur\", null, _stageOnBlur);\n        Laya.stage.on(\"focus\", null, _stageOnFocus);\n        Laya.stage.on(\"visibilitychange\", null, _visibilityChange);\n    };\n\n    return Monitor;\n}();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL2NvbW1vbi9sYXlhLmN1c3RvbS5qcz80ZGI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAcHVibGljXHJcbiAqIOWIm+W7uumqqOmqvOWKqOeUu1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aCDpqqjpqrzliqjnlLvot6/lvoRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhdGUg6aqo6aq85Yqo55S75bin546H77yM5byV5pOO6buY6K6k5Li6MzDvvIzkuIDoiKzkvKAyNFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSDliqjnlLvnsbvlnotcclxuICogMCzkvb/nlKjmqKHmnb/nvJPlhrLnmoTmlbDmja7vvIzmqKHmnb/nvJPlhrLnmoTmlbDmja7vvIzkuI3lhYHorrjkv67mlLkgIO+8iOWGheWtmOW8gOmUgOWwj++8jOiuoeeul+W8gOmUgOWwj++8jOS4jeaUr+aMgeaNouijhe+8iVxyXG4gKiAxLOS9v+eUqOWKqOeUu+iHquW3seeahOe8k+WGsuWMuu+8jOavj+S4quWKqOeUu+mDveS8muacieiHquW3seeahOe8k+WGsuWMuu+8jOebuOW9k+iAl+i0ueWGheWtmCDvvIjlhoXlrZjlvIDplIDlpKfvvIzorqHnrpflvIDplIDlsI/vvIzmlK/mjIHmjaLoo4XvvIlcclxuICogMizkvb/nlKjliqjmgIHmlrnlvI/vvIzljrvlrp7ml7bljrvnlLsg77yI5YaF5a2Y5byA6ZSA5bCP77yM6K6h566X5byA6ZSA5aSn77yM5pSv5oyB5o2i6KOFLOS4jeW7uuiuruS9v+eUqO+8iVxyXG4gKiBAcmV0dXJuIFNrZWxldG9u6aqo6aq85Yqo55S7XHJcbiAqL1xyXG5sZXQgcGF0aHMgPSBbXTtcclxubGV0IHRlbXBzID0gW107XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTa2VsZXRvbihwYXRoLCByYXRlLCB0eXBlKSB7XHJcbiAgICByYXRlID0gcmF0ZSB8fCAyNDtcclxuICAgIHR5cGUgPSB0eXBlIHx8IDA7XHJcbiAgICB2YXIgcG5nID0gTGF5YS5sb2FkZXIuZ2V0UmVzKHBhdGggKyBcIi5wbmdcIik7XHJcbiAgICB2YXIgc2sgPSBMYXlhLmxvYWRlci5nZXRSZXMocGF0aCArIFwiLnNrXCIpO1xyXG4gICAgaWYgKCFwbmcgfHwgIXNrKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIui1hOa6kOayoeaciemihOWKoOi9vTpcIiArIHBhdGgpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGluZGV4ID0gcGF0aHMuaW5kZXhPZihwYXRoKSxcclxuICAgICAgICB0ZW1wbGV0O1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgIHRlbXBsZXQgPSBuZXcgTGF5YS5UZW1wbGV0KCk7XHJcbiAgICAgICAgbGV0IGxlbiA9IHBhdGhzLmxlbmd0aDtcclxuICAgICAgICBwYXRoc1tsZW5dID0gcGF0aDtcclxuICAgICAgICB0ZW1wc1tsZW5dID0gdGVtcGxldDtcclxuICAgICAgICB0ZW1wbGV0LnBhcnNlRGF0YShwbmcsIHNrLCByYXRlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGVtcGxldCA9IHRlbXBzW2luZGV4XTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgTGF5YS5Ta2VsZXRvbih0ZW1wbGV0LCB0eXBlKTtcclxufVxyXG5cclxuLy8g5omp5bGVRGlhbG9n5Y+v5Lul6ZqP5pe25Yaz5a6a5piv5ZCm54K55Ye76YGu572p5YWz6Zet5by55bGCXHJcbmxheWEudWkuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUuX2Nsb3NlT25TaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoIXdpbmRvdy5VSUNvbmZpZy5jbG9zZURpYWxvZ09uU2lkZSkgcmV0dXJuO1xyXG4gICAgdmFyIGRpYWxvZyA9IHRoaXMuZ2V0Q2hpbGRBdCh0aGlzLm51bUNoaWxkcmVuIC0gMSk7XHJcbiAgICBpZiAoKGRpYWxvZyBpbnN0YW5jZW9mIGxheWEudWkuRGlhbG9nKSkgZGlhbG9nLmNsb3NlKFwic2lkZVwiKTtcclxufVxyXG5cclxuTGF5YS5Ob2RlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihwYXJhbSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgT2JqZWN0LmtleXMocGFyYW0pLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpKSB7XHJcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgY2FzZSAncG9zJzpcclxuICAgICAgICAgICAgICAgIHNlbGYucG9zKHBhcmFtW2tleV1bMF0sIHBhcmFtW2tleV1bMV0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBzZWxmW2tleV0gPSBwYXJhbVtrZXldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc2VsZjtcclxufTtcclxuXHJcbi8vIOiOt+W+l+a3seW6puiKgueCuSwgZmxhZyDkuLog5om+5Yiw5LiA5Liq5bCx5LiN5YaN5a+75om+LCDov5jmmK/mn6Xmib7miYDmnInnmoRcclxuTGF5YS5Ob2RlLnByb3RvdHlwZS5maW5kVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIGZsYWcpIHtcclxuICAgIHZhciBsb29wID0gZnVuY3Rpb24ocm9vdF9kb20pIHtcclxuICAgICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICAgdmFyIHR5cGVQYXJlbnQgPSBtYXBUeXBlKHR5cGUpO1xyXG4gICAgICAgIGlmICghdHlwZVBhcmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3RfZG9tLm51bUNoaWxkcmVuOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHJvb3RfZG9tLmdldENoaWxkQXQoaSkgaW5zdGFuY2VvZiB0eXBlUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaChyb290X2RvbS5nZXRDaGlsZEF0KGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3RfZG9tLm51bUNoaWxkcmVuOyBpKyspIHtcclxuICAgICAgICAgICAgYXJyID0gYXJyLmNvbmNhdChsb29wKHJvb3RfZG9tLmdldENoaWxkQXQoaSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwVHlwZSh0eXBlU3RyKSB7XHJcbiAgICAgICAgdmFyIHR5cGVfYXJyID0gdHlwZVN0ci5zcGxpdCgnLicpO1xyXG4gICAgICAgIHZhciByZXN1bHQ7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlX2Fyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IHR5cGVfYXJyW2ldO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbGF5YS51aVt0eXBlXSB8fCB1aVt0eXBlXSB8fCBsYXlhLmRpc3BsYXlbdHlwZV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbdHlwZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIC8vIOWmguaenOayoeaciVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICB2YXIgcmVzID0gbG9vcCh0aGlzKTtcclxuICAgIHZhciBsZW4gPSByZXMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChmbGFnKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAobGVuID09IDApIHtcclxuICAgICAgICByZXMgPSBudWxsO1xyXG4gICAgfSBlbHNlIGlmIChsZW4gPT0gMSkge1xyXG4gICAgICAgIHJlcyA9IHJlc1swXTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcblxyXG4vLyDmnKzlnLDnm7jlr7nlupTniLblhYPntKDnmoTlnZDmoIfoioLngrlcclxuTGF5YS5Ob2RlLnByb3RvdHlwZS5sb2NhbFRvVGFyZ2V0ID0gZnVuY3Rpb24odGFyZ2V0KSB7XHJcbiAgICB2YXIgcG9pbnQgPSB7IHg6IDAsIHk6IDAgfTtcclxuICAgIHZhciBlbGUgPSB0aGlzO1xyXG4gICAgd2hpbGUgKGVsZSkge1xyXG4gICAgICAgIGlmIChlbGUgPT0gdGFyZ2V0IHx8IGVsZSA9PSBMYXlhLnN0YWdlKSBicmVhaztcclxuICAgICAgICBwb2ludCA9IGVsZS50b1BhcmVudFBvaW50KHBvaW50KTtcclxuICAgICAgICBlbGUgPSBlbGUucGFyZW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvaW50O1xyXG59XHJcblxyXG4vLyDojrflvpfmt7HluqboioLngrksIGZsYWcg5Li6IOaJvuWIsOS4gOS4quWwseS4jeWGjeWvu+aJviwg6L+Y5piv5p+l5om+5omA5pyJ55qEXHJcbkxheWEuTm9kZS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKG5hbWUsIGZsYWcpIHtcclxuICAgIHZhciBsb29wID0gZnVuY3Rpb24obm9kZXMpIHtcclxuICAgICAgICB2YXIgY2hpbGRzID0gbm9kZXMuX2NoaWxkcztcclxuICAgICAgICB2YXIgaXQ7XHJcbiAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgIGlmICghY2hpbGRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gY2hpbGRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGNoaWxkc1tpXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgYXJyLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmxhZyAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXQgPSBsb29wKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgYXJyID0gYXJyLmNvbmNhdChpdCk7XHJcbiAgICAgICAgICAgICAgICAvLyDoi6Xmib7liLDkuoYg5bm25LiU5b2T5YmN55qEIGZsYWfkuI3kuLp0cnVlLCDliJnnm7TmjqUgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXQubGVuZ3RoID4gMCAmJiBmbGFnICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcmVzID0gbG9vcCh0aGlzKTtcclxuICAgIHZhciBsZW4gPSByZXMubGVuZ3RoO1xyXG4gICAgLy8g5byg5LiW6Ziz5Yqg55qEXHJcbiAgICBpZiAoZmxhZykge1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcbiAgICBpZiAobGVuID09IDApIHtcclxuICAgICAgICByZXMgPSBudWxsO1xyXG4gICAgfSBlbHNlIGlmIChsZW4gPT0gMSkge1xyXG4gICAgICAgIHJlcyA9IHJlc1swXTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuXHJcblxyXG4vLyDngrnlh7vlsI/lvLnlsYLku6XlpJbnmoTljLrln5/liJnpmpDol49cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrT3RoZXJBcmVhSGFuZGxlcihidG4sIHZpZXdCb3gpIHtcclxuICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCFldmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBfdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgIGxldCBjaGlsZCA9IHZpZXdCb3guZ2V0Q2hpbGRBdCgwKTtcclxuXHJcbiAgICAgICAgLy8g6I+c5Y2V5qCPXHJcbiAgICAgICAgaWYgKGNoaWxkICYmIGNoaWxkLnZpc2libGUgJiYgX3RhcmdldCAhPT0gYnRuICYmICF2aWV3Qm94LmNvbnRhaW5zKF90YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZExvbmdDbGlja0V2ZW50KGRvbSwgY2xpY2tIYW5kbGVyLCBsb25nQ2xpY2tIYW5kbGVyKSB7XHJcbiAgICBsZXQgRFVSSU5HX1RJTUUgPSAxMDAwO1xyXG4gICAgbGV0IHN0YXJ0VGltZSA9IDA7XHJcblxyXG4gICAgZG9tLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKERVUklOR19USU1FLCB0aGlzLCBsb25nQ2xpY2tIYW5kbGVyKTtcclxuXHJcbiAgICB9KVxyXG5cclxuICAgIGRvbS5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGR1cmluZyA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcblxyXG4gICAgICAgIC8vIOmVv+aMieaXtumXtOefrVxyXG4gICAgICAgIGlmIChkdXJpbmcgPCBEVVJJTkdfVElNRSkge1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKG51bGwsIGxvbmdDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICBjbGlja0hhbmRsZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGRvbS5vbihMYXlhLkV2ZW50Lk1PVVNFX09VVCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIobnVsbCwgbG9uZ0NsaWNrSGFuZGxlcik7XHJcblxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcblxyXG5cclxuTGF5YS5Nb25pdG9yID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gIGZ1bmN0aW9uIE1vbml0b3IoKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgbGV0IF9pc0FjdGl2ZSA9IHRydWUsIF9ibHVyVGltZSwgX21vbml0b3JOdW0sIF9jaGVja1RpbWVyO1xyXG5cclxuICBsZXQgX3N0YWdlT25CbHVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoIV9pc0FjdGl2ZSkgcmV0dXJuO1xyXG4gICAgX2lzQWN0aXZlID0gZmFsc2U7XHJcbiAgICBfbW9uaXRvck51bSA9IDA7XHJcbiAgICBMYXlhLnN0YWdlLm9uY2UoXCJtb3VzZWRvd25cIiwgbnVsbCwgX3N0YWdlT25Gb2N1cyk7XHJcbiAgICBfbW9uaXRvckNvdW50KCk7XHJcbiAgICBfYmx1clRpbWUgPSBMYXlhLkJyb3dzZXIubm93KCk7XHJcbiAgICBpZiAoTW9uaXRvci5vbkJhY2spIE1vbml0b3Iub25CYWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IF9zdGFnZU9uRm9jdXMgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChfaXNBY3RpdmUpIHJldHVybjtcclxuICAgIF9pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICBjbGVhckludGVydmFsKF9jaGVja1RpbWVyKTtcclxuICAgIExheWEuc3RhZ2Uub2ZmKFwibW91c2Vkb3duXCIsIG51bGwsIF9zdGFnZU9uRm9jdXMpO1xyXG4gICAgbGV0IF9ub3cgPSBMYXlhLkJyb3dzZXIubm93KCk7XHJcbiAgICBsZXQgX3Zvck51bSA9IE1hdGguZmxvb3IoKF9ub3ctX2JsdXJUaW1lKS8xMDAwKTtcclxuICAgIGlmIChNb25pdG9yLm9uRnJvbnQpIE1vbml0b3Iub25Gcm9udCgpO1xyXG4gICAgY29uc29sZS5sb2coX3Zvck51bSwgX21vbml0b3JOdW0pO1xyXG4gICAgaWYgKF92b3JOdW0+X21vbml0b3JOdW0rMSAmJuOAgE1vbml0b3Iub25TbGVlcCkgTW9uaXRvci5vblNsZWVwKCk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IF9tb25pdG9yQ291bnQgPSBmdW5jdGlvbigpIHtcclxuICAgIF9jaGVja1RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgIF9tb25pdG9yTnVtKys7XHJcbiAgICB9LCAxMDAwKTtcclxuICB9O1xyXG5cclxuICBsZXQgX3Zpc2liaWxpdHlDaGFuZ2U9ZnVuY3Rpb24oKXtcclxuICAgIGlmIChMYXlhLnN0YWdlLmlzVmlzaWJpbGl0eSl7XHJcbiAgICAgIF9zdGFnZU9uRm9jdXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF9zdGFnZU9uQmx1cigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIE1vbml0b3IuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX2lzQWN0aXZlID0gdHJ1ZTtcclxuICAgIExheWEuc3RhZ2Uub24oXCJibHVyXCIsIG51bGwsIF9zdGFnZU9uQmx1cik7XHJcbiAgICBMYXlhLnN0YWdlLm9uKFwiZm9jdXNcIiwgbnVsbCwgX3N0YWdlT25Gb2N1cyk7XHJcbiAgICBMYXlhLnN0YWdlLm9uKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBudWxsLCBfdmlzaWJpbGl0eUNoYW5nZSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIE1vbml0b3I7XHJcbn0oKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9jb21tb24vbGF5YS5jdXN0b20uanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBYUE7QUF5SkE7QUFlQTtBQXJMQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 5 */
/* no static exports found */
/* all exports used */
/*!******************************************************!*\
  !*** ./laya_game/src/module/com/commonGameModule.js ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // 公共模块\n\n\nvar _init_module = __webpack_require__(/*! ../init_module */ 0);\n\nvar _data = __webpack_require__(/*! ../../config/data */ 7);\n\nvar _utils = __webpack_require__(/*! ../../config/utils.js */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _room = __webpack_require__(/*! ../../uiScene/room */ 6);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _penguin = __webpack_require__(/*! ../../uiScene/penguin */ 9);\n\nvar _penguin2 = _interopRequireDefault(_penguin);\n\nvar _audio = __webpack_require__(/*! ./audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CommonGameModule = function () {\n    function CommonGameModule() {\n        _classCallCheck(this, CommonGameModule);\n\n        CommonGameModule.instance = this;\n    }\n\n    _createClass(CommonGameModule, [{\n        key: 'registerAction',\n        value: function registerAction(messageCenter, observer) {\n            messageCenter.registerAction(\"losePointFreeze\", this.losePointFreezeFn.bind(this)); // 输分禁用\n            messageCenter.registerAction(\"losePointRemind\", this.losePointRemindFn.bind(this)); // 输分提醒\n\n            messageCenter.registerAction(\"userForbidden\", this.userForbiddenFn.bind(this)); // 用户禁用\n            messageCenter.registerAction(\"gameRepair\", this.gameRepairFn.bind(this)); // 游戏维护\n        }\n\n        // 是否要显示返回按钮\n\n    }, {\n        key: 'isShowBtnBackHandler',\n        value: function isShowBtnBackHandler(dom) {\n            // Laya 返回按钮\n            if (window.GM && GM.isCall_out === 1 && GM.isShowBtnBack_out && GM.btnBackCall_out) {\n                dom.visible = true; // 显示返回按钮\n                dom.on(Laya.Event.CLICK, null, GM.btnBackCall_out);\n            }\n        }\n\n        // 是否要显示home主页按钮\n\n    }, {\n        key: 'isShowBtnHomeHandler',\n        value: function isShowBtnHomeHandler(dom) {\n            if (GM.backHomeUrl) {\n                // 显示按钮\n                dom.visible = true;\n                // 绑定事件\n                dom.on(Laya.Event.CLICK, null, function () {\n                    location.href = GM.backHomeUrl;\n                });\n            }\n        }\n\n        // 系统公告\n\n    }, {\n        key: 'noticeSystem',\n        value: function noticeSystem(menu_box, height) {\n            var _this = this;\n\n            var btn_notice = menu_box.getChildByName('btn_notice');\n            var dom_red = btn_notice.getChildByName('red');\n            var dom_notice = btn_notice.getChildByName('notice');\n            var noticeCallBack = function noticeCallBack() {\n                var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                // 是否显示系统公告\n                if (!data.isShowNotice) {\n\n                    return;\n                }\n\n                // 是否需要显示小红点\n                if (data.isShowRedPoint) {\n                    // 显示小红点\n                    dom_red.visible = true;\n                }\n\n                btn_notice.on(Laya.Event.CLICK, _this, function () {\n                    // 直接隐藏小红点\n                    dom_red.visible = false;\n                    dom_notice.visible = false;\n                    menu_box.visible = false;\n                    menu_box.getChildByName('bg').height = 185;\n                    _audio2.default.getInstance().play('btn');\n                    GM.noticePopShow_out && GM.noticePopShow_out();\n                });\n\n                // 显示出公告按钮\n                btn_notice.visible = true;\n                dom_notice.visible = true;\n                // 长背景\n                menu_box.getChildByName('bg').height = height;\n            };\n\n            if (window.GM && GM.isCall_out === 1 && GM.noticeStatus_out) {\n                GM.noticeStatus_out(noticeCallBack);\n            }\n        }\n\n        // 默认提示押注额提示\n\n    }, {\n        key: 'defaultInputNotice',\n        value: function defaultInputNotice(n1, n2) {\n            var total = Math.max(n1, n2);\n            var result = void 0;\n            var isAdd = false; //是否进位\n            if (total < 100) {\n                result = 10;\n            } else if (total >= 100 && total < 10001) {\n                result = 100;\n            } else {\n                result = Math.ceil(total / 100);\n\n                // 先转字符串\n                result = String(result);\n                for (var i = 1, l = result.length; i < l; i++) {\n                    if (result[i] !== '0') {\n                        isAdd = true;\n                    }\n                }\n                result = isAdd ? Number(result[0]) + 1 + result.slice(1).replace(/\\d/g, '0') : result;\n            }\n\n            // 最后转数字\n            result = Number(result);\n            result = result > 500000 ? 500000 : result;\n\n            return result;\n        }\n        // 停止游戏\n\n    }, {\n        key: 'stopGame',\n        value: function stopGame(text) {\n            var _this2 = this;\n\n            var penguin = _penguin2.default.getInstance(),\n                isComplete = penguin.isComplete;\n            if (isComplete) {\n                console.log(\"完成一局重置\");\n                _init_module.observer.publish('walk::stop');\n                _init_module.observer.publish('game::reset');\n                _init_module.observer.publish('common::tips', text);\n            } else {\n                console.log(\"没完成，延迟4秒重置\");\n                Laya.timer.once(4000, this, function () {\n                    _init_module.observer.publish('walk::stop');\n                    _init_module.observer.publish('game::reset');\n                    var clearTimer = function clearTimer() {\n                        console.log(\"清空定时器\");\n                        Laya.timer.clear(_this2, _this2.stopGame);\n                    };\n                    _init_module.observer.publish('common::tips', text, clearTimer, clearTimer);\n                });\n            }\n        }\n        // 输分提醒\n\n    }, {\n        key: 'losePointRemindFn',\n        value: function losePointRemindFn(data) {\n            var losePL = data.res;\n            var _level = losePL.level;\n            if (_level === 2 || _level === 3) {\n                console.log(\"输分禁用\");\n                var text = '\\u60A8\\u7684\\u8F93\\u5206\\u91D1\\u989D\\u5DF2\\u8FBE\\u4E0A\\u9650\\uFF0C\\u6545\\u8D26\\u6237\\u7981\\u7528\\u5F00\\u59CB\\u65F6\\u95F4\\uFF1A' + losePL.beginTime + '\\uFF0C\\u7981\\u7528\\u7ED3\\u675F\\u65F6\\u95F4\\uFF1A' + losePL.endTime;\n                this.stopGame(text);\n                // observer.publish('common::tips', text);\n            } else if (_level === 1) {\n                console.log(\"输分提醒\");\n                _init_module.observer.publish('common::tips', '今天输分金额即将达到上限，注意休息...');\n            }\n        }\n\n        // 黑名单输分禁用\n\n    }, {\n        key: 'losePointFreezeFn',\n        value: function losePointFreezeFn(data) {\n            var text = '客官，您已被输分禁用，请联系客服！';\n            this.stopGame(text);\n            // observer.publish('common::tips', text);\n        }\n\n        // 用户禁用\n\n    }, {\n        key: 'userForbiddenFn',\n        value: function userForbiddenFn(data) {\n            var text = '客官，您的账号已被禁用，请联系客服！';\n            this.stopGame(text);\n            // observer.publish('common::tips', text);\n        }\n\n        // 游戏维护\n\n    }, {\n        key: 'gameRepairFn',\n        value: function gameRepairFn(data) {\n            var reload = function reload() {\n                return window.location.reload();\n            };\n            var text = '游戏维护中，请刷新页面';\n            _init_module.observer.publish('common::tips', text, reload, reload);\n        }\n\n        //救济金\n\n    }, {\n        key: 'jiujijin',\n        value: function jiujijin() {\n            Laya.timer.once(3000, this, function () {\n                if (window.GM && window.GM.socket_RJ && window.GM.socket_RJ.exec) {\n                    // 延时确保服务器那边有了\n                    window.GM.socket_RJ.exec();\n\n                    // 更新余额\n                    _init_module.messageCenter.emitAjax(\"userAccount\");\n                }\n            });\n        }\n\n        // 错误处理\n\n    }, {\n        key: 'errorHandler',\n        value: function errorHandler(data) {\n            var code = String(data.code);\n            var text = '';\n            var confirmCallBack = null;\n            var cancelCallBack = null;\n\n            // 接口返回正常直接返回\n            if (code === '0') {\n                return false;\n            }\n\n            var reload = function reload() {\n                return window.location.reload();\n            };\n\n            switch (code) {\n                // otp验证\n                case '81':\n                    _utils2.default.otpCheckHandler();\n                    return;\n                    break;\n\n                // 余额不足\n                case '5':\n                    confirmCallBack = function confirmCallBack() {\n                        _init_module.observer.publish('pop::recharge');\n                    };\n                    // 更新余额\n                    _init_module.messageCenter.emitAjax(\"userAccount\");\n                    break;\n\n                // 服务器开小差\n                case '4':\n                    confirmCallBack = cancelCallBack = reload;\n                    break;\n                // 地球信号不好\n                case '7':\n                    confirmCallBack = cancelCallBack = reload;\n                    break;\n                // 未登录\n                case '1':\n                    confirmCallBack = cancelCallBack = _utils2.default.checkLoginStatus;\n                    break;\n            }\n\n            // 没有这项默认为31错误码\n            if (!_data.ERROR_TEXT.hasOwnProperty(code)) {\n                code = '7';\n            }\n\n            text = _data.ERROR_TEXT[code];\n            _init_module.observer.publish('common::tips', text, confirmCallBack, cancelCallBack);\n\n            return true;\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return CommonGameModule;\n}();\n\nexports.default = CommonGameModule;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL21vZHVsZS9jb20vY29tbW9uR2FtZU1vZHVsZS5qcz83ZDYwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOWFrOWFseaooeWdl1xyXG5pbXBvcnQgeyBvYnNlcnZlciwgbWVzc2FnZUNlbnRlciB9IGZyb20gJy4uL2luaXRfbW9kdWxlJztcclxuaW1wb3J0IHsgRVJST1JfVEVYVCB9IGZyb20gJy4uLy4uL2NvbmZpZy9kYXRhJztcclxuaW1wb3J0IFVUSUxTIGZyb20gJy4uLy4uL2NvbmZpZy91dGlscy5qcyc7XHJcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi4vLi4vdWlTY2VuZS9yb29tJztcclxuaW1wb3J0IFBlbmd1aW5VSVZpZXcgZnJvbSAnLi4vLi4vdWlTY2VuZS9wZW5ndWluJztcclxuaW1wb3J0IEF1ZGlvTXVkdWxlIGZyb20gJy4vYXVkaW8nO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tb25HYW1lTW9kdWxlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBDb21tb25HYW1lTW9kdWxlLmluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgbmV3IHRoaXMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckFjdGlvbihtZXNzYWdlQ2VudGVyLCBvYnNlcnZlcikge1xyXG4gICAgICAgIG1lc3NhZ2VDZW50ZXIucmVnaXN0ZXJBY3Rpb24oXCJsb3NlUG9pbnRGcmVlemVcIiwgdGhpcy5sb3NlUG9pbnRGcmVlemVGbi5iaW5kKHRoaXMpKSAvLyDovpPliIbnpoHnlKhcclxuICAgICAgICBtZXNzYWdlQ2VudGVyLnJlZ2lzdGVyQWN0aW9uKFwibG9zZVBvaW50UmVtaW5kXCIsIHRoaXMubG9zZVBvaW50UmVtaW5kRm4uYmluZCh0aGlzKSkgLy8g6L6T5YiG5o+Q6YaSXHJcblxyXG4gICAgICAgIG1lc3NhZ2VDZW50ZXIucmVnaXN0ZXJBY3Rpb24oXCJ1c2VyRm9yYmlkZGVuXCIsIHRoaXMudXNlckZvcmJpZGRlbkZuLmJpbmQodGhpcykpIC8vIOeUqOaIt+emgeeUqFxyXG4gICAgICAgIG1lc3NhZ2VDZW50ZXIucmVnaXN0ZXJBY3Rpb24oXCJnYW1lUmVwYWlyXCIsIHRoaXMuZ2FtZVJlcGFpckZuLmJpbmQodGhpcykpIC8vIOa4uOaIj+e7tOaKpFxyXG4gICAgfVxyXG5cclxuICAgIC8vIOaYr+WQpuimgeaYvuekuui/lOWbnuaMiemSrlxyXG4gICAgaXNTaG93QnRuQmFja0hhbmRsZXIoZG9tKSB7XHJcbiAgICAgICAgLy8gTGF5YSDov5Tlm57mjInpkq5cclxuICAgICAgICBpZiAod2luZG93LkdNICYmIEdNLmlzQ2FsbF9vdXQgPT09IDEgJiYgR00uaXNTaG93QnRuQmFja19vdXQgJiYgR00uYnRuQmFja0NhbGxfb3V0KSB7XHJcbiAgICAgICAgICAgIGRvbS52aXNpYmxlID0gdHJ1ZTsgLy8g5pi+56S66L+U5Zue5oyJ6ZKuXHJcbiAgICAgICAgICAgIGRvbS5vbihMYXlhLkV2ZW50LkNMSUNLLCBudWxsLCBHTS5idG5CYWNrQ2FsbF9vdXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmmK/lkKbopoHmmL7npLpob21l5Li76aG15oyJ6ZKuXHJcbiAgICBpc1Nob3dCdG5Ib21lSGFuZGxlcihkb20pIHtcclxuICAgICAgICBpZiAoR00uYmFja0hvbWVVcmwpIHtcclxuICAgICAgICAgICAgLy8g5pi+56S65oyJ6ZKuXHJcbiAgICAgICAgICAgIGRvbS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8g57uR5a6a5LqL5Lu2XHJcbiAgICAgICAgICAgIGRvbS5vbihMYXlhLkV2ZW50LkNMSUNLLCBudWxsLCAoKSA9PiB7IGxvY2F0aW9uLmhyZWYgPSBHTS5iYWNrSG9tZVVybDsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOezu+e7n+WFrOWRilxyXG4gICAgbm90aWNlU3lzdGVtKG1lbnVfYm94LCBoZWlnaHQpIHtcclxuICAgICAgICBsZXQgYnRuX25vdGljZSA9IG1lbnVfYm94LmdldENoaWxkQnlOYW1lKCdidG5fbm90aWNlJyk7XHJcbiAgICAgICAgbGV0IGRvbV9yZWQgPSBidG5fbm90aWNlLmdldENoaWxkQnlOYW1lKCdyZWQnKTtcclxuICAgICAgICBsZXQgZG9tX25vdGljZSA9IGJ0bl9ub3RpY2UuZ2V0Q2hpbGRCeU5hbWUoJ25vdGljZScpO1xyXG4gICAgICAgIGxldCBub3RpY2VDYWxsQmFjayA9IChkYXRhID0ge30pID0+IHtcclxuICAgICAgICAgICAgLy8g5piv5ZCm5pi+56S657O757uf5YWs5ZGKXHJcbiAgICAgICAgICAgIGlmICghZGF0YS5pc1Nob3dOb3RpY2UpIHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIOaYr+WQpumcgOimgeaYvuekuuWwj+e6oueCuVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5pc1Nob3dSZWRQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgLy8g5pi+56S65bCP57qi54K5XHJcbiAgICAgICAgICAgICAgICBkb21fcmVkLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBidG5fbm90aWNlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOebtOaOpemakOiXj+Wwj+e6oueCuVxyXG4gICAgICAgICAgICAgICAgZG9tX3JlZC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBkb21fbm90aWNlLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG1lbnVfYm94LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG1lbnVfYm94LmdldENoaWxkQnlOYW1lKCdiZycpLmhlaWdodCA9IDE4NTtcclxuICAgICAgICAgICAgICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkucGxheSgnYnRuJyk7XHJcbiAgICAgICAgICAgICAgICBHTS5ub3RpY2VQb3BTaG93X291dCAmJiBHTS5ub3RpY2VQb3BTaG93X291dCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOaYvuekuuWHuuWFrOWRiuaMiemSrlxyXG4gICAgICAgICAgICBidG5fbm90aWNlLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBkb21fbm90aWNlLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyDplb/og4zmma9cclxuICAgICAgICAgICAgbWVudV9ib3guZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdpbmRvdy5HTSAmJiBHTS5pc0NhbGxfb3V0ID09PSAxICYmIEdNLm5vdGljZVN0YXR1c19vdXQpIHtcclxuICAgICAgICAgICAgR00ubm90aWNlU3RhdHVzX291dChub3RpY2VDYWxsQmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOm7mOiupOaPkOekuuaKvOazqOmineaPkOekulxyXG4gICAgZGVmYXVsdElucHV0Tm90aWNlKG4xLCBuMikge1xyXG4gICAgICAgIGxldCB0b3RhbCA9IE1hdGgubWF4KG4xLCBuMik7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBsZXQgaXNBZGQgPSBmYWxzZTsgLy/mmK/lkKbov5vkvY1cclxuICAgICAgICBpZiAodG90YWwgPCAxMDApIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gMTA7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRvdGFsID49MTAwICYmIHRvdGFsIDwgMTAwMDEpe1xyXG4gICAgICAgICAgICByZXN1bHQgPSAxMDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gTWF0aC5jZWlsKHRvdGFsIC8gMTAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWFiOi9rOWtl+espuS4slxyXG4gICAgICAgICAgICByZXN1bHQgPSBTdHJpbmcocmVzdWx0KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDEsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldICE9PSAnMCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0FkZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0ID0gaXNBZGQgPyBOdW1iZXIocmVzdWx0WzBdKSArIDEgKyByZXN1bHQuc2xpY2UoMSkucmVwbGFjZSgvXFxkL2csICcwJykgOiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmnIDlkI7ovazmlbDlrZdcclxuICAgICAgICByZXN1bHQgPSBOdW1iZXIocmVzdWx0KTtcclxuICAgICAgICByZXN1bHQgPSByZXN1bHQgPiA1MDAwMDAgPyA1MDAwMDAgOiByZXN1bHQ7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgfVxyXG4gICAgICAvLyDlgZzmraLmuLjmiI9cclxuICAgIHN0b3BHYW1lKHRleHQpIHtcclxuICAgICAgICBsZXQgcGVuZ3VpbiA9IFBlbmd1aW5VSVZpZXcuZ2V0SW5zdGFuY2UoKSxcclxuICAgICAgICBpc0NvbXBsZXRlID0gcGVuZ3Vpbi5pc0NvbXBsZXRlO1xyXG4gICAgICAgIGlmKGlzQ29tcGxldGUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWujOaIkOS4gOWxgOmHjee9rlwiKTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnd2Fsazo6c3RvcCcpO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdnYW1lOjpyZXNldCcpO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdjb21tb246OnRpcHMnLCB0ZXh0KTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLmsqHlrozmiJDvvIzlu7bov58056eS6YeN572uXCIpO1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoNDAwMCwgdGhpcywgKCk9PntcclxuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ3dhbGs6OnN0b3AnKTtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2dhbWU6OnJlc2V0Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xlYXJUaW1lciA9KCk9PntcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIua4heepuuWumuaXtuWZqFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCB0aGlzLnN0b3BHYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2NvbW1vbjo6dGlwcycsIHRleHQsIGNsZWFyVGltZXIsIGNsZWFyVGltZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICAvLyDovpPliIbmj5DphpJcclxuICAgIGxvc2VQb2ludFJlbWluZEZuKGRhdGEpIHtcclxuICAgICAgICBsZXQgbG9zZVBMID0gZGF0YS5yZXM7XHJcbiAgICAgICAgbGV0IF9sZXZlbCA9IGxvc2VQTC5sZXZlbDtcclxuICAgICAgICBpZiAoX2xldmVsID09PSAyIHx8IF9sZXZlbCA9PT0gMykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIui+k+WIhuemgeeUqFwiKTtcclxuICAgICAgICAgICAgbGV0IHRleHQgPSBg5oKo55qE6L6T5YiG6YeR6aKd5bey6L6+5LiK6ZmQ77yM5pWF6LSm5oi356aB55So5byA5aeL5pe26Ze077yaJHtsb3NlUEwuYmVnaW5UaW1lfe+8jOemgeeUqOe7k+adn+aXtumXtO+8miR7bG9zZVBMLmVuZFRpbWV9YDtcclxuICAgICAgICAgICAgdGhpcy5zdG9wR2FtZSh0ZXh0KTtcclxuICAgICAgICAgICAgLy8gb2JzZXJ2ZXIucHVibGlzaCgnY29tbW9uOjp0aXBzJywgdGV4dCk7XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKF9sZXZlbCA9PT0gMSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6L6T5YiG5o+Q6YaSXCIpO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdjb21tb246OnRpcHMnLCAn5LuK5aSp6L6T5YiG6YeR6aKd5Y2z5bCG6L6+5Yiw5LiK6ZmQ77yM5rOo5oSP5LyR5oGvLi4uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOm7keWQjeWNlei+k+WIhuemgeeUqFxyXG4gICAgbG9zZVBvaW50RnJlZXplRm4oZGF0YSkge1xyXG4gICAgICAgIGxldCB0ZXh0ID0gJ+WuouWumO+8jOaCqOW3suiiq+i+k+WIhuemgeeUqO+8jOivt+iBlOezu+Wuouacje+8gSc7XHJcbiAgICAgICAgdGhpcy5zdG9wR2FtZSh0ZXh0KTtcclxuICAgICAgICAvLyBvYnNlcnZlci5wdWJsaXNoKCdjb21tb246OnRpcHMnLCB0ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDnlKjmiLfnpoHnlKhcclxuICAgIHVzZXJGb3JiaWRkZW5GbihkYXRhKSB7XHJcbiAgICAgICAgbGV0IHRleHQgPSAn5a6i5a6Y77yM5oKo55qE6LSm5Y+35bey6KKr56aB55So77yM6K+36IGU57O75a6i5pyN77yBJztcclxuICAgICAgICB0aGlzLnN0b3BHYW1lKHRleHQpO1xyXG4gICAgICAgIC8vIG9ic2VydmVyLnB1Ymxpc2goJ2NvbW1vbjo6dGlwcycsIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOa4uOaIj+e7tOaKpFxyXG4gICAgZ2FtZVJlcGFpckZuKGRhdGEpIHtcclxuICAgICAgICBsZXQgcmVsb2FkID0gKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIGxldCB0ZXh0ID0gJ+a4uOaIj+e7tOaKpOS4re+8jOivt+WIt+aWsOmhtemdoic7XHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY29tbW9uOjp0aXBzJywgdGV4dCAscmVsb2FkICxyZWxvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5pWR5rWO6YeRXHJcbiAgICBqaXVqaWppbigpIHtcclxuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMzAwMCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LkdNICYmIHdpbmRvdy5HTS5zb2NrZXRfUkogJiYgd2luZG93LkdNLnNvY2tldF9SSi5leGVjKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlu7bml7bnoa7kv53mnI3liqHlmajpgqPovrnmnInkuoZcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5HTS5zb2NrZXRfUkouZXhlYygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOabtOaWsOS9meminVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0QWpheChcInVzZXJBY2NvdW50XCIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6ZSZ6K+v5aSE55CGXHJcbiAgICBlcnJvckhhbmRsZXIoZGF0YSkge1xyXG4gICAgICAgIGxldCBjb2RlID0gU3RyaW5nKGRhdGEuY29kZSk7XHJcbiAgICAgICAgbGV0IHRleHQgPSAnJztcclxuICAgICAgICBsZXQgY29uZmlybUNhbGxCYWNrID0gbnVsbDtcclxuICAgICAgICBsZXQgY2FuY2VsQ2FsbEJhY2sgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyDmjqXlj6Pov5Tlm57mraPluLjnm7TmjqXov5Tlm55cclxuICAgICAgICBpZihjb2RlID09PSAnMCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVsb2FkID0gKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGNvZGUpe1xyXG4gICAgICAgICAgICAvLyBvdHDpqozor4FcclxuICAgICAgICAgICAgY2FzZSAnODEnOlxyXG4gICAgICAgICAgICAgICAgVVRJTFMub3RwQ2hlY2tIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8vIOS9memineS4jei2s1xyXG4gICAgICAgICAgICBjYXNlICc1JzpcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1DYWxsQmFjayA9ICgpID0+IHsgb2JzZXJ2ZXIucHVibGlzaCgncG9wOjpyZWNoYXJnZScpOyB9XHJcbiAgICAgICAgICAgICAgICAgIC8vIOabtOaWsOS9meminVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0QWpheChcInVzZXJBY2NvdW50XCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvLyDmnI3liqHlmajlvIDlsI/lt65cclxuICAgICAgICAgICAgY2FzZSAnNCc6XHJcbiAgICAgICAgICAgICAgICBjb25maXJtQ2FsbEJhY2sgPSBjYW5jZWxDYWxsQmFjayA9IHJlbG9hZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyDlnLDnkIPkv6Hlj7fkuI3lpb1cclxuICAgICAgICAgICAgY2FzZSAnNyc6XHJcbiAgICAgICAgICAgICAgICBjb25maXJtQ2FsbEJhY2sgPSBjYW5jZWxDYWxsQmFjayA9IHJlbG9hZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyDmnKrnmbvlvZVcclxuICAgICAgICAgICAgY2FzZSAnMSc6XHJcbiAgICAgICAgICAgICAgICBjb25maXJtQ2FsbEJhY2sgPSBjYW5jZWxDYWxsQmFjayA9IFVUSUxTLmNoZWNrTG9naW5TdGF0dXM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOayoeaciei/memhuem7mOiupOS4ujMx6ZSZ6K+v56CBXHJcbiAgICAgICAgaWYoIUVSUk9SX1RFWFQuaGFzT3duUHJvcGVydHkoY29kZSkpe1xyXG4gICAgICAgICAgICBjb2RlID0gJzcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGV4dCA9IEVSUk9SX1RFWFRbY29kZV07XHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY29tbW9uOjp0aXBzJywgdGV4dCwgY29uZmlybUNhbGxCYWNrLCBjYW5jZWxDYWxsQmFjayk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9tb2R1bGUvY29tL2NvbW1vbkdhbWVNb2R1bGUuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekJBO0FBQ0E7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQWxPQTtBQUNBO0FBQ0E7Ozs7OztBQVJBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 6 */
/* no static exports found */
/* all exports used */
/*!***************************************!*\
  !*** ./laya_game/src/uiScene/room.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../module/init_module */ 0);\n\nvar _utils = __webpack_require__(/*! ../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _header = __webpack_require__(/*! ./header */ 8);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _bottom = __webpack_require__(/*! ./bottom */ 11);\n\nvar _bottom2 = _interopRequireDefault(_bottom);\n\nvar _penguin = __webpack_require__(/*! ./penguin */ 9);\n\nvar _penguin2 = _interopRequireDefault(_penguin);\n\nvar _gainNotice = __webpack_require__(/*! ./com/gainNotice */ 35);\n\nvar _gainNotice2 = _interopRequireDefault(_gainNotice);\n\nvar _commonGameModule = __webpack_require__(/*! ../module/com/commonGameModule */ 5);\n\nvar _commonGameModule2 = _interopRequireDefault(_commonGameModule);\n\nvar _audio = __webpack_require__(/*! ../module/com/audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nvar _menu = __webpack_require__(/*! ./com/menu */ 12);\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _laya = __webpack_require__(/*! ../common/laya.custom */ 4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// 房间\nvar RoomScene = function (_roomUI) {\n    _inherits(RoomScene, _roomUI);\n\n    function RoomScene(messageCenter) {\n        _classCallCheck(this, RoomScene);\n\n        var _this = _possibleConstructorReturn(this, (RoomScene.__proto__ || Object.getPrototypeOf(RoomScene)).call(this));\n\n        _this.sceneName = 'roomScene';\n        _this.init(messageCenter);\n        RoomScene.instance = _this;\n        return _this;\n    }\n\n    _createClass(RoomScene, [{\n        key: 'init',\n        value: function init(messageCenter) {\n            //  setTimeout(function(){\n            //     console.log(\"确定代码更新uuuuuuuuu\");\n            //     let reload = () => window.location.reload();\n            //     observer.publish('common::tips', '是是是是是是网络异常，请刷新界面！', reload, reload);\n            // },2000);\n            // 声音模块\n            _audio2.default.getInstance().initResource();\n            _audio2.default.getInstance().play('bg');\n            // MenuUIView.getInstance();\n\n\n            this.initEvent();\n            this.listenSocketRJ();\n\n            // 配置数据\n            this.isGameing = false; //是否游戏中\n            this.tips = true; //新手引导提示\n\n            // 头部\n            this.top_box.addChild(_header2.default.getInstance());\n\n            // 游戏区域\n            this.game_box.addChild(_penguin2.default.getInstance());\n\n            // 底部\n            this.bottom_box.addChild(_bottom2.default.getInstance());\n\n            this.menu_box.addChild(_menu2.default.getInstance());\n\n            this.game_box.height = Math.floor(Laya.stage.height / 750 * 370);\n            this.game_box.y = Math.floor(Laya.stage.height / 750 * 210);\n            this.btn_instruct.y = Math.floor(Laya.stage.height / 750 * 120);\n\n            //订阅场景加载事件，请注意bind方法似乎会改变function，导致取消订阅的时候判断的回调函数和绑定的回调函数不相同\n            _init_module.observer.subscribe(this.sceneName + \"_enter\", this.onEnter.bind(this));\n            messageCenter.registerAction(\"initGame\", this.initGame.bind(this));\n            messageCenter.registerAction(\"tip\", this.tip.bind(this));\n\n            _init_module.observer.subscribe('pop::newguide', this.newGuide.bind(this));\n            // 用户余额\n            messageCenter.registerAction(\"userAccount\", function (data) {\n                _header2.default.getInstance().renderUserAccount(data);\n            });\n\n            // 服务端主动推送，更新福袋金额\n            messageCenter.registerAction(\"fudai\", this.renderFudaiAmount.bind(this));\n            _init_module.observer.subscribe('fudai::update', this.fudaiUpdate.bind(this));\n\n            _commonGameModule2.default.getInstance().registerAction(messageCenter, _init_module.observer);\n\n            // observer.subscribe('game::start', this.gameStart.bind(this));\n            // observer.subscribe('game::stop', this.gameStop.bind(this));\n            _init_module.observer.subscribe('game::reset', this.isReset.bind(this));\n        }\n    }, {\n        key: 'onEnter',\n        value: function onEnter() {\n            // 视图居中\n            (0, _init_module.setViewCenter)();\n\n            _utils2.default.log(this.sceneName + \" enter\");\n\n            //取消订阅时不用传递回调函数\n            _init_module.observer.unsubscribe(this.sceneName + \"_enter\");\n\n            this.dispatchAction();\n            // 必须等到初始化游戏拿到数据后再去更新用户默认投币额\n            // 是否登录\n            if (_utils2.default.checkLoginStatus()) {\n                // 用户余额\n                _init_module.messageCenter.emitAjax('userAccount');\n            } else {\n                _init_module.observer.publish('bet::inputamount');\n            }\n        }\n    }, {\n        key: 'listenSocketRJ',\n        value: function listenSocketRJ() {\n            //大奖播报\n            if (window.GM && GM.socket_RJ && GM.socket_RJ.listen) {\n                GM.socket_RJ.listen('dajiangbobao', function (data) {\n                    _gainNotice2.default.getInstance().enter(data);\n                }, this);\n            }\n        }\n\n        // 触发\n\n    }, {\n        key: 'dispatchAction',\n        value: function dispatchAction() {\n            _init_module.messageCenter.emit(\"initGame\");\n        }\n    }, {\n        key: 'initEvent',\n        value: function initEvent() {\n            var _this2 = this;\n\n            this.btn_fudai.on(Laya.Event.CLICK, this, function (e) {\n                // 游戏进行中判断\n                // if (this.btnDisAble()) return;\n                _audio2.default.getInstance().play('btn');\n                _init_module.observer.publish(\"pop::fudai\");\n            });\n\n            this.btn_instruct.on(Laya.Event.CLICK, this, function () {\n                // 游戏进行中判断\n                // if (this.btnDisAble()) return;\n                _audio2.default.getInstance().play('btn');\n                _init_module.observer.publish(\"pop::instruct\");\n            });\n\n            // 点击其它区域菜单隐藏\n            Laya.stage.on(Laya.Event.CLICK, this, function (event) {\n                if (!event) {\n                    return;\n                }\n                var _target = event.target;\n                var child = _this2.menu_box.getChildAt(0);\n                var header = _header2.default.getInstance();\n\n                // 菜单栏\n                if (child && child.visible && _target !== header.btn_more && !_this2.menu_box.contains(_target)) {\n                    child.visible = false;\n                }\n            });\n\n            Laya.stage.on('resize', this, function () {\n                this.monitorHeight();\n            });\n        }\n    }, {\n        key: 'initGame',\n        value: function initGame(data) {\n            var amount = data.res.amount;\n            this.fudai_amount.text = _utils2.default.addThousandSymbol(amount);\n\n            this.tips = data.res.tip;\n            this.newUser = data.res.isNew;\n        }\n\n        // 处理福袋数据\n\n    }, {\n        key: 'renderFudaiAmount',\n        value: function renderFudaiAmount(data) {\n\n            var dom = this.fudai_amount;\n            var target = Number(data.res);\n            var currentNum = this.fudai_amount.text;\n            currentNum = Number(currentNum.replace(/,/g, ''));\n            var step = Math.max(1, Math.floor(target * 2 / 300));\n\n            var loop = function loop() {\n                currentNum += step;\n                if (currentNum >= target) {\n                    currentNum = target;\n                } else {\n                    Laya.timer.frameOnce(2, null, loop);\n                }\n                dom.text = _utils2.default.addThousandSymbol(currentNum);\n            };\n            loop();\n        }\n\n        // 更新福袋金额\n\n    }, {\n        key: 'fudaiUpdate',\n        value: function fudaiUpdate(data) {\n            this.fudai_amount.text = _utils2.default.addThousandSymbol(data.amount);\n        }\n    }, {\n        key: 'monitorHeight',\n        value: function monitorHeight(_num) {\n            var penguin = _penguin2.default.getInstance();\n            this.areaHeight = Math.floor(Laya.stage.height / 750 * 370);\n            this.areaY = Math.floor(Laya.stage.height / 750 * 210);\n\n            // 游戏区域\n            // PenguinUIView.getInstance().penguinArea = this.areaHeight;\n            penguin.height = this.areaHeight;\n            penguin.area.height = this.areaHeight;\n            penguin.digArea.height = this.areaHeight;\n\n            this.game_box.height = this.areaHeight;\n            this.game_box.y = this.areaY;\n            this.btn_instruct.y = Math.floor(Laya.stage.height / 750 * 120);\n\n            // 新手引导区域\n            if (!this.guideContainer && !this.tips) {\n                this.guideContainer = new Laya.Sprite();\n                this.guideContainer.cacheAs = \"bitmap\";\n                this.addChild(this.guideContainer);\n\n                this.maskArea = new Laya.Sprite();\n                this.guideContainer.addChild(this.maskArea);\n\n                this.interactionArea = new Laya.Sprite(); //挖宝区域\n                this.interactionArea.blendMode = \"destination-out\";\n                this.maskArea.addChild(this.interactionArea);\n\n                this.interactionArea.graphics.clear();\n\n                this.betArea = new Laya.Sprite(); //投币区域\n                this.betArea.blendMode = \"destination-out\";\n                this.maskArea.addChild(this.betArea);\n                this.betArea.graphics.clear();\n\n                this.tips_bet = new Laya.Image(); //默认投币\n                this.tips_bet.skin = 'images/room/guide_two.png';\n                this.tips_bet.x = 450;\n                this.tips_bet.y = Math.floor(Laya.stage.height - 230);\n                this.guideContainer.addChild(this.tips_bet);\n\n                this.bet_num = new Laya.Label(); //投币金额\n                this.bet_num.font = \"guide_font\";\n                this.bet_num.x = 590;\n                this.bet_num.y = Math.floor(Laya.stage.height - 168);\n                this.bet_num.text = _num;\n                this.guideContainer.addChild(this.bet_num);\n\n                /*this.tips_des = new Laya.Image();                     //提示文案\r\n                this.tips_des.skin = 'images/room/guide_one.png';\r\n                this.tips_des.x = 915;\r\n                this.tips_des.y = this.areaY-40;\r\n                this.guideContainer.addChild(this.tips_des);*/\n\n                this.tips_des2 = new Laya.Image(); // 提示文案2\n                this.tips_des2.skin = 'images/room/guide_five.png';\n                this.tips_des2.x = 438;\n                this.tips_des2.y = this.areaY + 40;\n                this.guideContainer.addChild(this.tips_des2);\n\n                this.tips_today = new Laya.Image(); //今日提示图案\n                this.tips_today.skin = 'images/room/guide_three.png';\n                this.tips_today.x = 970;\n                this.tips_today.y = this.areaHeight + this.areaY + 10;\n                this.guideContainer.addChild(this.tips_today);\n\n                this.tips_check = new Laya.Image(); //今日提示对勾\n                this.tips_check.skin = 'images/room/guide_four.png';\n                this.tips_check.x = 970;\n                this.tips_check.y = this.areaHeight + this.areaY + 13;\n                this.tips_check.visible = false;\n                this.guideContainer.addChild(this.tips_check);\n\n                this.guide_close = new Laya.Image(); //关闭按钮\n                this.guide_close.skin = 'images/pop/tips/close.png';\n                this.guide_close.x = 1230;\n                this.guide_close.y = this.areaY;\n                this.guideContainer.addChild(this.guide_close);\n\n                this.guide_start = new Laya.Image(); //开始按钮\n                this.guide_start.skin = 'images/room/guide_six.png';\n                this.guide_start.x = 960;\n                this.guide_start.y = this.areaHeight + this.areaY - 100;\n                this.guideContainer.addChild(this.guide_start);\n\n                this.guideHand = (0, _laya.createSkeleton)('images/animate/hand'); //引导手指\n                this.guideContainer.addChildAt(this.guideHand, 1);\n                this.guideHand.play('hand', true);\n                this.guideHand.x = 530;\n                this.guideHand.y = this.areaHeight - 60;\n            }\n\n            if (this.guideContainer && !this.tips) {\n\n                this.guideContainer.width = Laya.stage.width;\n                this.guideContainer.height = Laya.stage.height;\n                this.maskArea.graphics.clear();\n                this.maskArea.alpha = 0.7;\n                this.maskArea.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, \"#000000\");\n\n                var path = [[\"moveTo\", 0, 0], //画笔的起始点，\n                [\"arcTo\", 1100, 0, 1100, 30, 30], [\"arcTo\", 1100, this.areaHeight, 970, this.areaHeight, 30], [\"arcTo\", 0, this.areaHeight, 0, 340, 30], [\"arcTo\", 0, 0, 30, 0, 30]];\n                this.interactionArea.graphics.clear();\n                this.interactionArea.graphics.drawPath(117, this.areaY, path, { fillStyle: \"#ff0000\" });\n\n                var betAreaY = Math.floor(Laya.stage.height - 100);\n\n                var pathBet = [[\"moveTo\", 0, 0], [\"arcTo\", 360, 0, 360, 45, 45], [\"arcTo\", 360, 90, 315, 90, 45], [\"arcTo\", 0, 90, 0, 45, 45], [\"arcTo\", 0, 0, 45, 0, 45]];\n                this.betArea.graphics.clear();\n                this.betArea.graphics.drawPath(420, betAreaY, pathBet, { fillStyle: \"#ff0000\" });\n\n                this.tips_bet.y = Math.floor(Laya.stage.height - 230);\n                this.bet_num.y = Math.floor(Laya.stage.height - 168);\n                // this.tips_des.y = this.areaY-40;\n                this.tips_des2.y = this.areaY + 40;\n                this.tips_today.y = this.areaHeight + this.areaY + 10;\n                this.tips_check.y = this.areaHeight + this.areaY + 13;\n                this.guide_close.y = this.areaY;\n                this.guideHand.y = this.areaHeight - 60;\n                this.guide_start.y = this.areaHeight + this.areaY - 100;\n                penguin.digPenguin.y = Math.floor(Laya.stage.height / 750 * 260); //企鹅位置只在新手引导显示时才变动\n            }\n        }\n        // 新手引导\n\n    }, {\n        key: 'newGuide',\n        value: function newGuide(_num) {\n\n            this.monitorHeight(_num);\n            this.newGuideCookie();\n        }\n\n        //设置新手引导cookie\n\n    }, {\n        key: 'newGuideCookie',\n        value: function newGuideCookie() {\n            var _this3 = this;\n\n            /*  this.guideContainer.on(Laya.Event.CLICK, this, (e)=>{\r\n                   if(e.target ==  this.tips_today) return;\r\n                   this.guideContainer.destroy();\r\n              });*/\n\n            this.tips_today.on(Laya.Event.CLICK, this, function () {\n                _this3.tips_check.visible ? _this3.tips_check.visible = false : _this3.tips_check.visible = true;\n            });\n\n            this.guide_close.on(Laya.Event.CLICK, this, function (e) {\n                if (_this3.tips_check.visible) {\n                    _init_module.messageCenter.emit(\"tip\");\n                }\n                _this3.tips = true;\n                _this3.guideContainer.removeSelf();\n            });\n\n            this.guide_start.on(Laya.Event.CLICK, this, function (e) {\n                if (_this3.tips_check.visible) {\n                    _init_module.messageCenter.emit(\"tip\");\n                }\n                _this3.tips = true;\n                _this3.guideContainer.removeSelf();\n            });\n        }\n    }, {\n        key: 'tip',\n        value: function tip() {\n            console.log(\"不用弹新手引导\");\n        }\n\n        // 游戏进行中 按钮不可点\n\n    }, {\n        key: 'btnDisAble',\n        value: function btnDisAble() {\n            var bool = this.isGameing;\n            if (bool) {\n                console.log('游戏进行中,不可点...');\n            }\n            return bool;\n        }\n        // 开始游戏\n\n    }, {\n        key: 'gameStart',\n        value: function gameStart() {\n            this.isGameing = true;\n        }\n\n        // 结束游戏\n\n    }, {\n        key: 'gameStop',\n        value: function gameStop() {\n            this.isGameing = false;\n        }\n\n        // 异步优化\n\n    }, {\n        key: 'myPromise',\n        value: function myPromise(context, delay) {\n            return new Promise(function (resolve, reject) {\n                Laya.timer.once(delay, context, resolve);\n            });\n        }\n    }, {\n        key: 'onExit',\n        value: function onExit() {\n            _utils2.default.log(this.sceneName + \" exit\");\n\n            // 取消所有注册\n            this.unRegisterAction();\n\n            //发布退出事件\n            _init_module.observer.publish(this.sceneName + \"_exit\");\n\n            this.clear();\n        }\n    }, {\n        key: 'isReset',\n        value: function isReset() {\n            this.isGameing = false;\n            this.tips = true;\n        }\n\n        //自定义方法，场景退出的时候是销毁还是removeSelf请自行抉择\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            this.removeSelf();\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance(messageCenter) {\n            return this.instance || new this(messageCenter);\n        }\n    }]);\n\n    return RoomScene;\n}(roomUI);\n\nexports.default = RoomScene;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL3VpU2NlbmUvcm9vbS5qcz8wNDVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmVyLCBzZXRWaWV3Q2VudGVyLCBtZXNzYWdlQ2VudGVyIH0gZnJvbSAnLi4vbW9kdWxlL2luaXRfbW9kdWxlJztcclxuaW1wb3J0IFVUSUxTIGZyb20gJy4uL2NvbmZpZy91dGlscyc7XHJcbmltcG9ydCBIZWFkZXJVSVZpZXcgZnJvbSAnLi9oZWFkZXInO1xyXG5pbXBvcnQgQm90dG9tVUlWaWV3IGZyb20gJy4vYm90dG9tJztcclxuaW1wb3J0IFBlbmd1aW5VSVZpZXcgZnJvbSAnLi9wZW5ndWluJztcclxuaW1wb3J0IEdhaW5Ob3RpY2VVSVZpZXcgZnJvbSAnLi9jb20vZ2Fpbk5vdGljZSc7XHJcbmltcG9ydCBDb21tb25HYW1lTW9kdWxlIGZyb20gJy4uL21vZHVsZS9jb20vY29tbW9uR2FtZU1vZHVsZSc7XHJcbmltcG9ydCBBdWRpb011ZHVsZSBmcm9tICcuLi9tb2R1bGUvY29tL2F1ZGlvJztcclxuaW1wb3J0IE1lbnVVSVZpZXcgZnJvbSAnLi9jb20vbWVudSc7XHJcbmltcG9ydCB7IGNyZWF0ZVNrZWxldG9uIH0gZnJvbSAnLi4vY29tbW9uL2xheWEuY3VzdG9tJztcclxuXHJcbi8vIOaIv+mXtFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb29tU2NlbmUgZXh0ZW5kcyByb29tVUkge1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZUNlbnRlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmVOYW1lID0gJ3Jvb21TY2VuZSc7XHJcbiAgICAgICAgdGhpcy5pbml0KG1lc3NhZ2VDZW50ZXIpO1xyXG4gICAgICAgIFJvb21TY2VuZS5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEluc3RhbmNlKG1lc3NhZ2VDZW50ZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZSB8fCBuZXcgdGhpcyhtZXNzYWdlQ2VudGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KG1lc3NhZ2VDZW50ZXIpIHtcclxuICAgICAgICAvLyAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIuehruWumuS7o+eggeabtOaWsHV1dXV1dXV1dVwiKTtcclxuICAgICAgICAvLyAgICAgbGV0IHJlbG9hZCA9ICgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAvLyAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY29tbW9uOjp0aXBzJywgJ+aYr+aYr+aYr+aYr+aYr+aYr+e9kee7nOW8guW4uO+8jOivt+WIt+aWsOeVjOmdou+8gScsIHJlbG9hZCwgcmVsb2FkKTtcclxuICAgICAgICAvLyB9LDIwMDApO1xyXG4gICAgICAgIC8vIOWjsOmfs+aooeWdl1xyXG4gICAgICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkuaW5pdFJlc291cmNlKCk7XHJcbiAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdiZycpO1xyXG4gICAgICAgIC8vIE1lbnVVSVZpZXcuZ2V0SW5zdGFuY2UoKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEV2ZW50KCk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5Tb2NrZXRSSigpO1xyXG5cclxuICAgICAgICAvLyDphY3nva7mlbDmja5cclxuICAgICAgICB0aGlzLmlzR2FtZWluZyA9IGZhbHNlOyAvL+aYr+WQpua4uOaIj+S4rVxyXG4gICAgICAgIHRoaXMudGlwcyA9IHRydWUgOyAvL+aWsOaJi+W8leWvvOaPkOekulxyXG5cclxuICAgICAgICAgLy8g5aS06YOoXHJcbiAgICAgICAgdGhpcy50b3BfYm94LmFkZENoaWxkKEhlYWRlclVJVmlldy5nZXRJbnN0YW5jZSgpKTtcclxuXHJcbiAgICAgICAgLy8g5ri45oiP5Yy65Z+fXHJcbiAgICAgICAgdGhpcy5nYW1lX2JveC5hZGRDaGlsZChQZW5ndWluVUlWaWV3LmdldEluc3RhbmNlKCkpO1xyXG5cclxuICAgICAgICAvLyDlupXpg6hcclxuICAgICAgICB0aGlzLmJvdHRvbV9ib3guYWRkQ2hpbGQoQm90dG9tVUlWaWV3LmdldEluc3RhbmNlKCkpO1xyXG5cclxuICAgICAgICB0aGlzLm1lbnVfYm94LmFkZENoaWxkKE1lbnVVSVZpZXcuZ2V0SW5zdGFuY2UoKSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmdhbWVfYm94LmhlaWdodCA9IE1hdGguZmxvb3IoTGF5YS5zdGFnZS5oZWlnaHQvNzUwKjM3MCk7XHJcbiAgICAgICAgdGhpcy5nYW1lX2JveC55ID0gTWF0aC5mbG9vcihMYXlhLnN0YWdlLmhlaWdodC83NTAqMjEwKTtcclxuICAgICAgICB0aGlzLmJ0bl9pbnN0cnVjdC55ICA9IE1hdGguZmxvb3IoTGF5YS5zdGFnZS5oZWlnaHQvNzUwKjEyMCk7XHJcblxyXG5cclxuICAgICAgICAvL+iuoumYheWcuuaZr+WKoOi9veS6i+S7tu+8jOivt+azqOaEj2JpbmTmlrnms5XkvLzkuY7kvJrmlLnlj5hmdW5jdGlvbu+8jOWvvOiHtOWPlua2iOiuoumYheeahOaXtuWAmeWIpOaWreeahOWbnuiwg+WHveaVsOWSjOe7keWumueahOWbnuiwg+WHveaVsOS4jeebuOWQjFxyXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSh0aGlzLnNjZW5lTmFtZSArIFwiX2VudGVyXCIsIHRoaXMub25FbnRlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICBtZXNzYWdlQ2VudGVyLnJlZ2lzdGVyQWN0aW9uKFwiaW5pdEdhbWVcIiwgdGhpcy5pbml0R2FtZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgbWVzc2FnZUNlbnRlci5yZWdpc3RlckFjdGlvbihcInRpcFwiLCB0aGlzLnRpcC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdwb3A6Om5ld2d1aWRlJywgdGhpcy5uZXdHdWlkZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyDnlKjmiLfkvZnpop1cclxuICAgICAgICBtZXNzYWdlQ2VudGVyLnJlZ2lzdGVyQWN0aW9uKFwidXNlckFjY291bnRcIiwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgSGVhZGVyVUlWaWV3LmdldEluc3RhbmNlKCkucmVuZGVyVXNlckFjY291bnQoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOacjeWKoeerr+S4u+WKqOaOqOmAge+8jOabtOaWsOemj+iii+mHkeminVxyXG4gICAgICAgIG1lc3NhZ2VDZW50ZXIucmVnaXN0ZXJBY3Rpb24oXCJmdWRhaVwiLCB0aGlzLnJlbmRlckZ1ZGFpQW1vdW50LmJpbmQodGhpcykpO1xyXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnZnVkYWk6OnVwZGF0ZScsIHRoaXMuZnVkYWlVcGRhdGUuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIENvbW1vbkdhbWVNb2R1bGUuZ2V0SW5zdGFuY2UoKS5yZWdpc3RlckFjdGlvbihtZXNzYWdlQ2VudGVyLCBvYnNlcnZlcik7XHJcblxyXG4gICAgICAgIC8vIG9ic2VydmVyLnN1YnNjcmliZSgnZ2FtZTo6c3RhcnQnLCB0aGlzLmdhbWVTdGFydC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyBvYnNlcnZlci5zdWJzY3JpYmUoJ2dhbWU6OnN0b3AnLCB0aGlzLmdhbWVTdG9wLmJpbmQodGhpcykpO1xyXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnZ2FtZTo6cmVzZXQnLCB0aGlzLmlzUmVzZXQuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uRW50ZXIoKSB7XHJcbiAgICAgICAgLy8g6KeG5Zu+5bGF5LitXHJcbiAgICAgICAgc2V0Vmlld0NlbnRlcigpO1xyXG5cclxuICAgICAgICBVVElMUy5sb2codGhpcy5zY2VuZU5hbWUgKyBcIiBlbnRlclwiKTtcclxuXHJcbiAgICAgICAgLy/lj5bmtojorqLpmIXml7bkuI3nlKjkvKDpgJLlm57osIPlh73mlbBcclxuICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSh0aGlzLnNjZW5lTmFtZSArIFwiX2VudGVyXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmRpc3BhdGNoQWN0aW9uKCk7XHJcbiAgICAgICAgLy8g5b+F6aG7562J5Yiw5Yid5aeL5YyW5ri45oiP5ou/5Yiw5pWw5o2u5ZCO5YaN5Y675pu05paw55So5oi36buY6K6k5oqV5biB6aKdXHJcbiAgICAgICAgLy8g5piv5ZCm55m75b2VXHJcbiAgICAgICAgaWYgKFVUSUxTLmNoZWNrTG9naW5TdGF0dXMoKSkge1xyXG4gICAgICAgICAgICAvLyDnlKjmiLfkvZnpop1cclxuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0QWpheCgndXNlckFjY291bnQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdiZXQ6OmlucHV0YW1vdW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxpc3RlblNvY2tldFJKKCkgeyAgICAgICAgLy/lpKflpZbmkq3miqVcclxuICAgICAgICBpZih3aW5kb3cuR00gJiYgR00uc29ja2V0X1JKICYmIEdNLnNvY2tldF9SSi5saXN0ZW4pe1xyXG4gICAgICAgICAgICBHTS5zb2NrZXRfUkoubGlzdGVuKCdkYWppYW5nYm9iYW8nLCBmdW5jdGlvbihkYXRhKSB7ICBHYWluTm90aWNlVUlWaWV3LmdldEluc3RhbmNlKCkuZW50ZXIoZGF0YSk7IH0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDop6blj5FcclxuICAgIGRpc3BhdGNoQWN0aW9uKCkge1xyXG4gICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdChcImluaXRHYW1lXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRFdmVudCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5idG5fZnVkYWkub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKGUpPT57XHJcbiAgICAgICAgICAgIC8vIOa4uOaIj+i/m+ihjOS4reWIpOaWrVxyXG4gICAgICAgICAgICAvLyBpZiAodGhpcy5idG5EaXNBYmxlKCkpIHJldHVybjtcclxuICAgICAgICAgICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkucGxheSgnYnRuJyk7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJwb3A6OmZ1ZGFpXCIpO1xyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmJ0bl9pbnN0cnVjdC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKT0+e1xyXG4gICAgICAgICAgICAgLy8g5ri45oiP6L+b6KGM5Lit5Yik5patXHJcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLmJ0bkRpc0FibGUoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdidG4nKTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcInBvcDo6aW5zdHJ1Y3RcIik7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8g54K55Ye75YW25a6D5Yy65Z+f6I+c5Y2V6ZqQ6JePXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFldmVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBfdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLm1lbnVfYm94LmdldENoaWxkQXQoMCk7XHJcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSBIZWFkZXJVSVZpZXcuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOiPnOWNleagj1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQgJiYgY2hpbGQudmlzaWJsZSAgJiYgX3RhcmdldCAhPT0gaGVhZGVyLmJ0bl9tb3JlICYmICF0aGlzLm1lbnVfYm94LmNvbnRhaW5zKF90YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbigncmVzaXplJywgdGhpcywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5tb25pdG9ySGVpZ2h0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gICAgaW5pdEdhbWUoZGF0YSkge1xyXG4gICAgICAgIGxldCBhbW91bnQgPSBkYXRhLnJlcy5hbW91bnQ7XHJcbiAgICAgICAgdGhpcy5mdWRhaV9hbW91bnQudGV4dCA9IFVUSUxTLmFkZFRob3VzYW5kU3ltYm9sKGFtb3VudCk7XHJcblxyXG4gICAgICAgIHRoaXMudGlwcyA9IGRhdGEucmVzLnRpcDtcclxuICAgICAgICB0aGlzLm5ld1VzZXIgPSBkYXRhLnJlcy5pc05ldztcclxuICAgIH1cclxuXHJcbiAgICAvLyDlpITnkIbnpo/ooovmlbDmja5cclxuICAgIHJlbmRlckZ1ZGFpQW1vdW50KGRhdGEpIHtcclxuXHJcbiAgICAgICAgbGV0IGRvbSA9IHRoaXMuZnVkYWlfYW1vdW50O1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBOdW1iZXIoZGF0YS5yZXMpO1xyXG4gICAgICAgIGxldCBjdXJyZW50TnVtID10aGlzLmZ1ZGFpX2Ftb3VudC50ZXh0O1xyXG4gICAgICAgIGN1cnJlbnROdW0gPSBOdW1iZXIoY3VycmVudE51bS5yZXBsYWNlKC8sL2csICcnKSk7XHJcbiAgICAgICAgbGV0IHN0ZXAgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRhcmdldCAqIDIgLyAzMDApKTtcclxuXHJcbiAgICAgICAgbGV0IGxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGN1cnJlbnROdW0gKz0gc3RlcDtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnROdW0gPj0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TnVtID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgTGF5YS50aW1lci5mcmFtZU9uY2UoMiwgbnVsbCwgbG9vcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9tLnRleHQgPSBVVElMUy5hZGRUaG91c2FuZFN5bWJvbChjdXJyZW50TnVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9vcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOabtOaWsOemj+iii+mHkeminVxyXG4gICAgZnVkYWlVcGRhdGUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuZnVkYWlfYW1vdW50LnRleHQgID0gVVRJTFMuYWRkVGhvdXNhbmRTeW1ib2woZGF0YS5hbW91bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vbml0b3JIZWlnaHQoX251bSkge1xyXG4gICAgICAgIGxldCBwZW5ndWluID0gUGVuZ3VpblVJVmlldy5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuYXJlYUhlaWdodCA9IE1hdGguZmxvb3IoTGF5YS5zdGFnZS5oZWlnaHQvNzUwKjM3MCk7XHJcbiAgICAgICAgdGhpcy5hcmVhWSA9IE1hdGguZmxvb3IoTGF5YS5zdGFnZS5oZWlnaHQvNzUwKjIxMCk7XHJcblxyXG4gICAgICAgIC8vIOa4uOaIj+WMuuWfn1xyXG4gICAgICAgIC8vIFBlbmd1aW5VSVZpZXcuZ2V0SW5zdGFuY2UoKS5wZW5ndWluQXJlYSA9IHRoaXMuYXJlYUhlaWdodDtcclxuICAgICAgICBwZW5ndWluLmhlaWdodCA9dGhpcy5hcmVhSGVpZ2h0O1xyXG4gICAgICAgIHBlbmd1aW4uYXJlYS5oZWlnaHQgPSB0aGlzLmFyZWFIZWlnaHQ7XHJcbiAgICAgICAgcGVuZ3Vpbi5kaWdBcmVhLmhlaWdodCA9ICB0aGlzLmFyZWFIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZV9ib3guaGVpZ2h0ID0gIHRoaXMuYXJlYUhlaWdodDtcclxuICAgICAgICB0aGlzLmdhbWVfYm94LnkgPXRoaXMuYXJlYVk7XHJcbiAgICAgICAgdGhpcy5idG5faW5zdHJ1Y3QueSAgPSBNYXRoLmZsb29yKExheWEuc3RhZ2UuaGVpZ2h0Lzc1MCoxMjApO1xyXG5cclxuICAgICAgICAvLyDmlrDmiYvlvJXlr7zljLrln59cclxuICAgICAgICBpZighdGhpcy5ndWlkZUNvbnRhaW5lciAmJiAhdGhpcy50aXBzKXtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZUNvbnRhaW5lciA9IG5ldyBMYXlhLlNwcml0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlQ29udGFpbmVyLmNhY2hlQXMgPSBcImJpdG1hcFwiO1xyXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuZ3VpZGVDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXNrQXJlYT0gbmV3IExheWEuU3ByaXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVDb250YWluZXIuYWRkQ2hpbGQodGhpcy5tYXNrQXJlYSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkFyZWEgPSBuZXcgTGF5YS5TcHJpdGUoKTsgICAgICAgICAgICAgIC8v5oyW5a6d5Yy65Z+fXHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25BcmVhLmJsZW5kTW9kZSA9IFwiZGVzdGluYXRpb24tb3V0XCI7XHJcbiAgICAgICAgICAgIHRoaXMubWFza0FyZWEuYWRkQ2hpbGQodGhpcy5pbnRlcmFjdGlvbkFyZWEpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkFyZWEuZ3JhcGhpY3MuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYmV0QXJlYSAgPSBuZXcgTGF5YS5TcHJpdGUoKTsgICAgICAgICAgICAgICAgICAgLy/mipXluIHljLrln59cclxuICAgICAgICAgICAgdGhpcy5iZXRBcmVhLmJsZW5kTW9kZSA9IFwiZGVzdGluYXRpb24tb3V0XCI7XHJcbiAgICAgICAgICAgIHRoaXMubWFza0FyZWEuYWRkQ2hpbGQodGhpcy5iZXRBcmVhKTtcclxuICAgICAgICAgICAgdGhpcy5iZXRBcmVhLmdyYXBoaWNzLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpcHNfYmV0ID0gbmV3IExheWEuSW1hZ2UoKTsgICAgICAgICAgICAgICAgICAgICAvL+m7mOiupOaKleW4gVxyXG4gICAgICAgICAgICB0aGlzLnRpcHNfYmV0LnNraW4gPSAnaW1hZ2VzL3Jvb20vZ3VpZGVfdHdvLnBuZyc7XHJcbiAgICAgICAgICAgIHRoaXMudGlwc19iZXQueCA9IDQ1MDtcclxuICAgICAgICAgICAgdGhpcy50aXBzX2JldC55ID0gTWF0aC5mbG9vcihMYXlhLnN0YWdlLmhlaWdodC0yMzApO1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlQ29udGFpbmVyLmFkZENoaWxkKHRoaXMudGlwc19iZXQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5iZXRfbnVtID0gbmV3IExheWEuTGFiZWwoKTsgICAgICAgICAgICAgICAgICAgICAvL+aKleW4gemHkeminVxyXG4gICAgICAgICAgICB0aGlzLmJldF9udW0uZm9udCA9IFwiZ3VpZGVfZm9udFwiO1xyXG4gICAgICAgICAgICB0aGlzLmJldF9udW0ueCA9IDU5MDtcclxuICAgICAgICAgICAgdGhpcy5iZXRfbnVtLnkgPSBNYXRoLmZsb29yKExheWEuc3RhZ2UuaGVpZ2h0LTE2OCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmV0X251bS50ZXh0ID0gX251bTtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZUNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLmJldF9udW0pO1xyXG5cclxuICAgICAgICAgICAgLyp0aGlzLnRpcHNfZGVzID0gbmV3IExheWEuSW1hZ2UoKTsgICAgICAgICAgICAgICAgICAgICAvL+aPkOekuuaWh+ahiFxyXG4gICAgICAgICAgICB0aGlzLnRpcHNfZGVzLnNraW4gPSAnaW1hZ2VzL3Jvb20vZ3VpZGVfb25lLnBuZyc7XHJcbiAgICAgICAgICAgIHRoaXMudGlwc19kZXMueCA9IDkxNTtcclxuICAgICAgICAgICAgdGhpcy50aXBzX2Rlcy55ID0gdGhpcy5hcmVhWS00MDtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZUNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnRpcHNfZGVzKTsqL1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aXBzX2RlczIgPSBuZXcgTGF5YS5JbWFnZSgpOyAgICAgICAgICAgICAgICAgICAvLyDmj5DnpLrmlofmoYgyXHJcbiAgICAgICAgICAgIHRoaXMudGlwc19kZXMyLnNraW4gPSAnaW1hZ2VzL3Jvb20vZ3VpZGVfZml2ZS5wbmcnO1xyXG4gICAgICAgICAgICB0aGlzLnRpcHNfZGVzMi54ID0gNDM4O1xyXG4gICAgICAgICAgICB0aGlzLnRpcHNfZGVzMi55ID0gdGhpcy5hcmVhWSs0MDtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZUNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnRpcHNfZGVzMik7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy50aXBzX3RvZGF5ID0gbmV3IExheWEuSW1hZ2UoKTsgICAgICAgICAgICAgICAgICAgICAvL+S7iuaXpeaPkOekuuWbvuahiFxyXG4gICAgICAgICAgICB0aGlzLnRpcHNfdG9kYXkuc2tpbiA9ICdpbWFnZXMvcm9vbS9ndWlkZV90aHJlZS5wbmcnO1xyXG4gICAgICAgICAgICB0aGlzLnRpcHNfdG9kYXkueCA9IDk3MDtcclxuICAgICAgICAgICAgdGhpcy50aXBzX3RvZGF5LnkgPSB0aGlzLmFyZWFIZWlnaHQgKyB0aGlzLmFyZWFZICsgMTA7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVDb250YWluZXIuYWRkQ2hpbGQodGhpcy50aXBzX3RvZGF5KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGlwc19jaGVjayA9IG5ldyBMYXlhLkltYWdlKCk7ICAgICAgICAgICAgICAgICAgICAgLy/ku4rml6Xmj5DnpLrlr7nli75cclxuICAgICAgICAgICAgdGhpcy50aXBzX2NoZWNrLnNraW4gPSAnaW1hZ2VzL3Jvb20vZ3VpZGVfZm91ci5wbmcnO1xyXG4gICAgICAgICAgICB0aGlzLnRpcHNfY2hlY2sueCA9IDk3MDtcclxuICAgICAgICAgICAgdGhpcy50aXBzX2NoZWNrLnkgPSB0aGlzLmFyZWFIZWlnaHQgKyB0aGlzLmFyZWFZICsgMTM7XHJcbiAgICAgICAgICAgIHRoaXMudGlwc19jaGVjay52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVDb250YWluZXIuYWRkQ2hpbGQodGhpcy50aXBzX2NoZWNrKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVfY2xvc2UgPSBuZXcgTGF5YS5JbWFnZSgpOyAgICAgICAgICAgICAgICAgICAgIC8v5YWz6Zet5oyJ6ZKuXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVfY2xvc2Uuc2tpbiA9ICdpbWFnZXMvcG9wL3RpcHMvY2xvc2UucG5nJztcclxuICAgICAgICAgICAgdGhpcy5ndWlkZV9jbG9zZS54ID0gMTIzMDtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZV9jbG9zZS55ID0gdGhpcy5hcmVhWTtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZUNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLmd1aWRlX2Nsb3NlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVfc3RhcnQgPSBuZXcgTGF5YS5JbWFnZSgpOyAgICAgICAgICAgICAgICAgICAgIC8v5byA5aeL5oyJ6ZKuXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVfc3RhcnQuc2tpbiA9ICdpbWFnZXMvcm9vbS9ndWlkZV9zaXgucG5nJztcclxuICAgICAgICAgICAgdGhpcy5ndWlkZV9zdGFydC54ID0gOTYwO1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlX3N0YXJ0LnkgPSB0aGlzLmFyZWFIZWlnaHQgKyB0aGlzLmFyZWFZIC0gMTAwO1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuZ3VpZGVfc3RhcnQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ndWlkZUhhbmQgPSBjcmVhdGVTa2VsZXRvbignaW1hZ2VzL2FuaW1hdGUvaGFuZCcpOyAgIC8v5byV5a+85omL5oyHXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVDb250YWluZXIuYWRkQ2hpbGRBdCh0aGlzLmd1aWRlSGFuZCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVIYW5kLnBsYXkoJ2hhbmQnLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZUhhbmQueCA9IDUzMDtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZUhhbmQueSA9IHRoaXMuYXJlYUhlaWdodCAtNjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLmd1aWRlQ29udGFpbmVyICYmICF0aGlzLnRpcHMpe1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ndWlkZUNvbnRhaW5lci53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVDb250YWluZXIuaGVpZ2h0ID0gTGF5YS5zdGFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMubWFza0FyZWEuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXNrQXJlYS5hbHBoYSA9IDAuNztcclxuICAgICAgICAgICAgdGhpcy5tYXNrQXJlYS5ncmFwaGljcy5kcmF3UmVjdCgwLCAwLCBMYXlhLnN0YWdlLndpZHRoLCBMYXlhLnN0YWdlLmhlaWdodCwgXCIjMDAwMDAwXCIpO1xyXG5cclxuICAgICAgICAgICAgIHZhciAgcGF0aCA9ICBbXHJcbiAgICAgICAgICAgICAgICBbXCJtb3ZlVG9cIiwgMCwgMF0sIC8v55S756yU55qE6LW35aeL54K577yMXHJcbiAgICAgICAgICAgICAgICBbXCJhcmNUb1wiLCAxMTAwLCAwLCAxMTAwLCAzMCwgMzBdLFxyXG4gICAgICAgICAgICAgICAgW1wiYXJjVG9cIiwgMTEwMCwgdGhpcy5hcmVhSGVpZ2h0LCA5NzAsIHRoaXMuYXJlYUhlaWdodCwgMzBdLFxyXG4gICAgICAgICAgICAgICAgW1wiYXJjVG9cIiwgMCwgdGhpcy5hcmVhSGVpZ2h0LCAwLCAzNDAsIDMwXSxcclxuICAgICAgICAgICAgICAgIFtcImFyY1RvXCIsIDAsIDAsIDMwLCAwLCAzMF0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25BcmVhLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25BcmVhLmdyYXBoaWNzLmRyYXdQYXRoKDExNywgdGhpcy5hcmVhWSwgcGF0aCwge2ZpbGxTdHlsZTogXCIjZmYwMDAwXCJ9KTtcclxuXHJcbiAgICAgICAgICAgICBsZXQgYmV0QXJlYVkgPSBNYXRoLmZsb29yKExheWEuc3RhZ2UuaGVpZ2h0LTEwMCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGF0aEJldCA9ICBbXHJcbiAgICAgICAgICAgICAgICBbXCJtb3ZlVG9cIiwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBbXCJhcmNUb1wiLCAzNjAsIDAsIDM2MCwgNDUsIDQ1XSxcclxuICAgICAgICAgICAgICAgIFtcImFyY1RvXCIsIDM2MCwgOTAsIDMxNSwgOTAsIDQ1XSxcclxuICAgICAgICAgICAgICAgIFtcImFyY1RvXCIsIDAsIDkwLCAwLCA0NSwgNDVdLFxyXG4gICAgICAgICAgICAgICAgW1wiYXJjVG9cIiwgMCwgMCwgNDUsIDAsIDQ1XSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgdGhpcy5iZXRBcmVhLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmV0QXJlYS5ncmFwaGljcy5kcmF3UGF0aCg0MjAsIGJldEFyZWFZLCBwYXRoQmV0LCB7ZmlsbFN0eWxlOiBcIiNmZjAwMDBcIn0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICB0aGlzLnRpcHNfYmV0LnkgPSBNYXRoLmZsb29yKExheWEuc3RhZ2UuaGVpZ2h0LTIzMCk7XHJcbiAgICAgICAgICAgICB0aGlzLmJldF9udW0ueSA9IE1hdGguZmxvb3IoTGF5YS5zdGFnZS5oZWlnaHQtMTY4KTtcclxuICAgICAgICAgICAgIC8vIHRoaXMudGlwc19kZXMueSA9IHRoaXMuYXJlYVktNDA7XHJcbiAgICAgICAgICAgICB0aGlzLnRpcHNfZGVzMi55ID0gdGhpcy5hcmVhWSs0MDtcclxuICAgICAgICAgICAgIHRoaXMudGlwc190b2RheS55ID0gdGhpcy5hcmVhSGVpZ2h0ICsgdGhpcy5hcmVhWSArIDEwO1xyXG4gICAgICAgICAgICAgdGhpcy50aXBzX2NoZWNrLnkgPSB0aGlzLmFyZWFIZWlnaHQgKyB0aGlzLmFyZWFZICsgMTM7XHJcbiAgICAgICAgICAgICB0aGlzLmd1aWRlX2Nsb3NlLnkgPSB0aGlzLmFyZWFZO1xyXG4gICAgICAgICAgICAgdGhpcy5ndWlkZUhhbmQueSA9IHRoaXMuYXJlYUhlaWdodCAtNjA7XHJcbiAgICAgICAgICAgICB0aGlzLmd1aWRlX3N0YXJ0LnkgPSB0aGlzLmFyZWFIZWlnaHQgKyB0aGlzLmFyZWFZIC0gMTAwO1xyXG4gICAgICAgICAgICAgcGVuZ3Vpbi5kaWdQZW5ndWluLnkgPSBNYXRoLmZsb29yKExheWEuc3RhZ2UuaGVpZ2h0Lzc1MCoyNjApOyAgICAvL+S8gem5heS9jee9ruWPquWcqOaWsOaJi+W8leWvvOaYvuekuuaXtuaJjeWPmOWKqFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICAvLyDmlrDmiYvlvJXlr7xcclxuICAgIG5ld0d1aWRlKF9udW0pIHtcclxuXHJcbiAgICAgICAgdGhpcy5tb25pdG9ySGVpZ2h0KF9udW0pO1xyXG4gICAgICAgIHRoaXMubmV3R3VpZGVDb29raWUoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy/orr7nva7mlrDmiYvlvJXlr7xjb29raWVcclxuICAgIG5ld0d1aWRlQ29va2llKCkge1xyXG5cclxuICAgICAgLyogIHRoaXMuZ3VpZGVDb250YWluZXIub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKGUpPT57XHJcbiAgICAgICAgICAgICBpZihlLnRhcmdldCA9PSAgdGhpcy50aXBzX3RvZGF5KSByZXR1cm47XHJcbiAgICAgICAgICAgICB0aGlzLmd1aWRlQ29udGFpbmVyLmRlc3Ryb3koKTtcclxuICAgICAgICB9KTsqL1xyXG5cclxuICAgICAgICB0aGlzLnRpcHNfdG9kYXkub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCk9PntcclxuICAgICAgICAgICAgdGhpcy50aXBzX2NoZWNrLnZpc2libGUgPyAgdGhpcy50aXBzX2NoZWNrLnZpc2libGUgPSBmYWxzZSA6ICB0aGlzLnRpcHNfY2hlY2sudmlzaWJsZSA9IHRydWU7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmd1aWRlX2Nsb3NlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIChlKT0+e1xyXG4gICAgICAgICAgICBpZih0aGlzLnRpcHNfY2hlY2sudmlzaWJsZSl7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoXCJ0aXBcIik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGlwcyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVDb250YWluZXIucmVtb3ZlU2VsZigpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5ndWlkZV9zdGFydC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoZSk9PntcclxuICAgICAgICAgICAgaWYodGhpcy50aXBzX2NoZWNrLnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0KFwidGlwXCIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRpcHMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlQ29udGFpbmVyLnJlbW92ZVNlbGYoKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGlwKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5LiN55So5by55paw5omL5byV5a+8XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOa4uOaIj+i/m+ihjOS4rSDmjInpkq7kuI3lj6/ngrlcclxuICAgIGJ0bkRpc0FibGUoKSB7XHJcbiAgICAgICAgbGV0IGJvb2wgPSB0aGlzLmlzR2FtZWluZztcclxuICAgICAgICBpZiAoYm9vbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5ri45oiP6L+b6KGM5LitLOS4jeWPr+eCuS4uLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYm9vbDtcclxuICAgIH1cclxuICAgIC8vIOW8gOWni+a4uOaIj1xyXG4gICAgZ2FtZVN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuaXNHYW1laW5nID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDnu5PmnZ/muLjmiI9cclxuICAgIGdhbWVTdG9wKCkge1xyXG4gICAgICAgIHRoaXMuaXNHYW1laW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5byC5q2l5LyY5YyWXHJcbiAgICBteVByb21pc2UoY29udGV4dCwgZGVsYXkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoZGVsYXksIGNvbnRleHQsIHJlc29sdmUpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb25FeGl0KCkge1xyXG4gICAgICAgIFVUSUxTLmxvZyh0aGlzLnNjZW5lTmFtZSArIFwiIGV4aXRcIik7XHJcblxyXG4gICAgICAgIC8vIOWPlua2iOaJgOacieazqOWGjFxyXG4gICAgICAgIHRoaXMudW5SZWdpc3RlckFjdGlvbigpO1xyXG5cclxuICAgICAgICAvL+WPkeW4g+mAgOWHuuS6i+S7tlxyXG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2godGhpcy5zY2VuZU5hbWUgKyBcIl9leGl0XCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNSZXNldCgpIHtcclxuICAgICAgICB0aGlzLmlzR2FtZWluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGlwcyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy/oh6rlrprkuYnmlrnms5XvvIzlnLrmma/pgIDlh7rnmoTml7blgJnmmK/plIDmr4Hov5jmmK9yZW1vdmVTZWxm6K+36Ieq6KGM5oqJ5oupXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvdWlTY2VuZS9yb29tLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTEE7QUFNQTtBQUNBOzs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTs7O0FBMVlBO0FBQ0E7QUFDQTs7OztBQVhBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 7 */
/* no static exports found */
/* all exports used */
/*!**************************************!*\
  !*** ./laya_game/src/config/data.js ***!
  \**************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n// ajax地址数据\nvar AJAX_URL = exports.AJAX_URL = {\n    day: '/?act=game_polarhunter&st=get_bet_rank&type=day&userId=' + userId,\n    week: '/?act=game_polarhunter&st=get_bet_rank&type=week&userId=' + userId,\n    month: '?act=game_polarhunter&st=get_bet_rank&type=month&userId=' + userId,\n    userAccount: '/?act=game_gamebase&st=queryUserAccount&data=*&gameId=' + gameId + '&type=1' //用户余额\n\n\n    // 错误信息\n};var ERROR_TEXT = exports.ERROR_TEXT = {\n    '1': '用户未登录',\n    '2': '配置获取失败',\n    '3': '参数有误',\n    '4': '服务器开小差了，投币额以欢乐值的形式已退回到您的账号了哟~',\n    '5': '余额不足，请充值...',\n    '6': '本轮结算延迟，奖励将稍后到账~',\n    '7': '地球信号不好，请稍后重试~',\n\n    '50': '单笔上限',\n    '51': '单日上限',\n    '81': '触发OTP验证',\n    '82': '支付渠道禁用'\n\n    // 声音集合\n};var AUDIO_SOURCES = exports.AUDIO_SOURCES = ['bg', 'btn', 'bian', 'dig_0', 'dig_1', 'dig_2', 'dig_3', 'queen', 'receive', 'run', 'runbeak', 'win', 'winqueen', 'zha'];\n\n// 自动玩的次数\nvar AUTOPLAY_TIMES = exports.AUTOPLAY_TIMES = ['500', '100', '50', '25', '10'];//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL2NvbmZpZy9kYXRhLmpzPzFkMWYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYWpheOWcsOWdgOaVsOaNrlxyXG5leHBvcnQgY29uc3QgQUpBWF9VUkwgPSB7XHJcbiAgICBkYXk6IGAvP2FjdD1nYW1lX3BvbGFyaHVudGVyJnN0PWdldF9iZXRfcmFuayZ0eXBlPWRheSZ1c2VySWQ9JHt1c2VySWR9YCxcclxuICAgIHdlZWs6IGAvP2FjdD1nYW1lX3BvbGFyaHVudGVyJnN0PWdldF9iZXRfcmFuayZ0eXBlPXdlZWsmdXNlcklkPSR7dXNlcklkfWAsXHJcbiAgICBtb250aDogYD9hY3Q9Z2FtZV9wb2xhcmh1bnRlciZzdD1nZXRfYmV0X3JhbmsmdHlwZT1tb250aCZ1c2VySWQ9JHt1c2VySWR9YCxcclxuICAgIHVzZXJBY2NvdW50OiBgLz9hY3Q9Z2FtZV9nYW1lYmFzZSZzdD1xdWVyeVVzZXJBY2NvdW50JmRhdGE9KiZnYW1lSWQ9JHtnYW1lSWR9JnR5cGU9MWAgLy/nlKjmiLfkvZnpop1cclxufVxyXG5cclxuLy8g6ZSZ6K+v5L+h5oGvXHJcbmV4cG9ydCBjb25zdCBFUlJPUl9URVhUID0ge1xyXG4gICAgJzEnIDogJ+eUqOaIt+acqueZu+W9lScsXHJcbiAgICAnMicgOiAn6YWN572u6I635Y+W5aSx6LSlJyxcclxuICAgICczJyA6ICflj4LmlbDmnInor68nLFxyXG4gICAgJzQnIDogJ+acjeWKoeWZqOW8gOWwj+W3ruS6hu+8jOaKleW4gemineS7peasouS5kOWAvOeahOW9ouW8j+W3sumAgOWbnuWIsOaCqOeahOi0puWPt+S6huWTn34nLFxyXG4gICAgJzUnIDogJ+S9memineS4jei2s++8jOivt+WFheWAvC4uLicsXHJcbiAgICAnNicgOiAn5pys6L2u57uT566X5bu26L+f77yM5aWW5Yqx5bCG56iN5ZCO5Yiw6LSmficsXHJcbiAgICAnNycgOiAn5Zyw55CD5L+h5Y+35LiN5aW977yM6K+356iN5ZCO6YeN6K+VficsXHJcblxyXG4gICAgJzUwJzogJ+WNleeslOS4iumZkCcsXHJcbiAgICAnNTEnOiAn5Y2V5pel5LiK6ZmQJyxcclxuICAgICc4MScgOiAn6Kem5Y+RT1RQ6aqM6K+BJyxcclxuICAgICc4Mic6ICfmlK/ku5jmuKDpgZPnpoHnlKgnLFxyXG59XHJcblxyXG4vLyDlo7Dpn7Ppm4blkIhcclxuZXhwb3J0IGNvbnN0IEFVRElPX1NPVVJDRVMgPSBbJ2JnJywgJ2J0bicsICdiaWFuJywgJ2RpZ18wJywgJ2RpZ18xJywgJ2RpZ18yJywgJ2RpZ18zJywgJ3F1ZWVuJywgJ3JlY2VpdmUnLCAncnVuJywgJ3J1bmJlYWsnLCAnd2luJywgJ3dpbnF1ZWVuJywgJ3poYSddO1xyXG5cclxuLy8g6Ieq5Yqo546p55qE5qyh5pWwXHJcbmV4cG9ydCBjb25zdCBBVVRPUExBWV9USU1FUyA9IFsnNTAwJywgJzEwMCcsICc1MCcsICcyNScsICcxMCddO1xyXG5cclxuXHJcblxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvY29uZmlnL2RhdGEuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBZkE7QUFDQTtBQWlCQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 8 */
/* no static exports found */
/* all exports used */
/*!*****************************************!*\
  !*** ./laya_game/src/uiScene/header.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(/*! ../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _init_module = __webpack_require__(/*! ../module/init_module */ 0);\n\nvar _commonGameModule = __webpack_require__(/*! ../module/com/commonGameModule */ 5);\n\nvar _commonGameModule2 = _interopRequireDefault(_commonGameModule);\n\nvar _menu = __webpack_require__(/*! ./com/menu */ 12);\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _laya = __webpack_require__(/*! ../common/laya.custom */ 4);\n\nvar _audio = __webpack_require__(/*! ../module/com/audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nvar _room = __webpack_require__(/*! ./room */ 6);\n\nvar _room2 = _interopRequireDefault(_room);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Header ui visualization of the data that model contains.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *头部\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @class      HeaderUIView (name)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar CLICK = Laya.Event.CLICK;\nvar commonGameInstance = _commonGameModule2.default.getInstance();\n\nvar HeaderUIView = function (_headerUI) {\n    _inherits(HeaderUIView, _headerUI);\n\n    function HeaderUIView() {\n        _classCallCheck(this, HeaderUIView);\n\n        var _this = _possibleConstructorReturn(this, (HeaderUIView.__proto__ || Object.getPrototypeOf(HeaderUIView)).call(this));\n\n        _this.init();\n        HeaderUIView.instance = _this;\n        return _this;\n    }\n\n    _createClass(HeaderUIView, [{\n        key: 'init',\n        value: function init() {\n            this.initDom();\n            this.initEvent();\n            this.initConfig();\n\n            _init_module.observer.subscribe('update::useraccount', this.updateUserYuDou.bind(this));\n        }\n    }, {\n        key: 'initConfig',\n        value: function initConfig() {\n            this.config = {\n                tingDou: 0, //豆（左）\n                yuNum: 0, //余（右）\n                isFirstDefault: false // 是否第一次默认押注金额提示\n            };\n        }\n    }, {\n        key: 'initDom',\n        value: function initDom() {\n            this.dom = {};\n            this.dom.dou_num = this.dou_box.getChildByName('dou_num');\n            this.dom.yu_num = this.yu_box.getChildByName('yu_num');\n\n            // 添加菜单\n            // this.menu_box.addChild(MenuUIView.getInstance());\n        }\n    }, {\n        key: 'initEvent',\n        value: function initEvent() {\n            // 回退按钮\n            commonGameInstance.isShowBtnBackHandler(this.btn_back);\n            // 主页按钮\n            commonGameInstance.isShowBtnHomeHandler(this.btn_home);\n\n            this.yu_box.on(CLICK, this, this.yuNumPopBalanceShow.bind(this));\n\n            this.btn_rank.on(CLICK, this, function () {\n                _audio2.default.getInstance().play('btn');\n                _init_module.observer.publish(\"pop::rank\", _init_module.messageCenter, 0);\n            });\n\n            this.btn_chong.on(CLICK, this, function () {\n                _audio2.default.getInstance().play('btn');\n\n                // 未登录\n                if (_utils2.default.willGotoLogin()) {\n                    return;\n                }\n\n                _init_module.observer.publish(\"pop::recharge\", _init_module.messageCenter);\n            });\n\n            this.btn_more.on(CLICK, this, function () {\n                _audio2.default.getInstance().play('btn');\n                _init_module.observer.publish(\"pop::menu\");\n            });\n\n            // 点击其它区域菜单隐藏\n            // clickOtherAreaHandler(this.btn_more, RoomScene.getInstance().menu_box);\n        }\n\n        // 游戏中更新挺豆 & 余额\n\n    }, {\n        key: 'updateUserYuDou',\n        value: function updateUserYuDou(num) {\n            // 增加余额\n            if (num >= 0) {\n                this._updateUserYu(num);\n\n                // 扣减余额\n            } else {\n                //挺豆够扣的话就扣挺豆\n                if (this.config.tingDou + num >= 0) {\n                    this._updateUserDou(num);\n\n                    //否则扣余额\n                } else {\n                    this._updateUserYu(num);\n                }\n            }\n        }\n\n        // 更新用户余额（左边）\n\n    }, {\n        key: '_updateUserYu',\n        value: function _updateUserYu(num) {\n            this.config.yuNum = Math.max(0, this.config.yuNum + num);\n            this.dom.yu_num.text = _utils2.default.getActiveStr(this.config.yuNum, 10);\n        }\n\n        // 更新用户挺豆（右边）\n\n    }, {\n        key: '_updateUserDou',\n        value: function _updateUserDou(num) {\n            this.config.tingDou = Math.max(0, this.config.tingDou + num);\n            this.dom.dou_num.text = _utils2.default.getActiveStr(this.config.tingDou, 10);\n        }\n\n        // 渲染用户余额\n\n    }, {\n        key: 'renderUserAccount',\n        value: function renderUserAccount(data) {\n            var tingDou = Number(data.TCoin) || 0;\n            var yuNum = Number(data.total) - tingDou || 0;\n\n            this.config.tingDou = tingDou;\n            this.config.yuNum = yuNum;\n            this.dom.dou_num.text = _utils2.default.getActiveStr(tingDou, 10);\n            this.dom.yu_num.text = _utils2.default.getActiveStr(yuNum, 10);\n\n            this.defaultBetHandler(tingDou, yuNum);\n        }\n\n        // 默认投币额\n\n    }, {\n        key: 'defaultBetHandler',\n        value: function defaultBetHandler(tingDou, yuNum) {\n            var inputNum = void 0;\n\n            // 仅一次方法\n            if (this.config.isFirstDefault) {\n                return;\n            }\n            this.config.isFirstDefault = true;\n\n            // 获取默认投币额\n            var defaultBet = _utils2.default.getCookie(\"defaultBet\" + GM.gameId + GM.user_id);\n            defaultBet = defaultBet ? parseInt(defaultBet, 10) : null;\n\n            // 存在cookie默认投币额 && 小于平台子账户余额\n            if (defaultBet && defaultBet <= yuNum) {\n                inputNum = defaultBet;\n            } else {\n                // 默认押注金额提示\n                if (_room2.default.getInstance().newUser) {\n                    inputNum = 10;\n                } else {\n                    inputNum = commonGameInstance.defaultInputNotice(tingDou, yuNum);\n                }\n            }\n\n            // 最后转数字\n            inputNum = Math.min(Number(inputNum), 500000);\n            inputNum = Math.max(Number(inputNum), 10);\n\n            // 更新投币金额\n            _init_module.observer.publish('bet::inputamount', inputNum);\n\n            // 默认提示或者押注\n\n            if (!_room2.default.getInstance().tips) {\n                _init_module.observer.publish('pop::newguide', inputNum);\n            } else {\n                _init_module.observer.publish('pop::defaultbet', inputNum);\n            }\n\n            // observer.publish('pop::newguide', inputNum);\n        }\n\n        // 余额查询\n\n    }, {\n        key: 'yuNumPopBalanceShow',\n        value: function yuNumPopBalanceShow() {\n            _audio2.default.getInstance().play('btn');\n\n            // 未登录\n            if (_utils2.default.willGotoLogin()) {\n                return;\n            }\n\n            if (GM && GM.isCall_out === 1 && GM.popBalanceShow_out) {\n                GM.popBalanceShow_out(GM.gameType);\n            }\n\n            // 更新余额\n            _init_module.messageCenter.emitAjax(\"userAccount\");\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return HeaderUIView;\n}(headerUI);\n\nexports.default = HeaderUIView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL3VpU2NlbmUvaGVhZGVyLmpzPzdhMjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEhlYWRlciB1aSB2aXN1YWxpemF0aW9uIG9mIHRoZSBkYXRhIHRoYXQgbW9kZWwgY29udGFpbnMuXHJcbiAq5aS06YOoXHJcbiAqIEBjbGFzcyAgICAgIEhlYWRlclVJVmlldyAobmFtZSlcclxuICovXHJcbmltcG9ydCBVVElMUyBmcm9tICcuLi9jb25maWcvdXRpbHMnO1xyXG5pbXBvcnQgeyBvYnNlcnZlciwgbWVzc2FnZUNlbnRlciB9IGZyb20gJy4uL21vZHVsZS9pbml0X21vZHVsZSc7XHJcbmltcG9ydCBDb21tb25HYW1lTW9kdWxlIGZyb20gJy4uL21vZHVsZS9jb20vY29tbW9uR2FtZU1vZHVsZSc7XHJcbmltcG9ydCBNZW51VUlWaWV3IGZyb20gJy4vY29tL21lbnUnO1xyXG5pbXBvcnQgeyBjbGlja090aGVyQXJlYUhhbmRsZXIgfSBmcm9tICcuLi9jb21tb24vbGF5YS5jdXN0b20nO1xyXG5pbXBvcnQgQXVkaW9NdWR1bGUgZnJvbSAnLi4vbW9kdWxlL2NvbS9hdWRpbyc7XHJcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi9yb29tJztcclxuXHJcblxyXG5jb25zdCBDTElDSyA9IExheWEuRXZlbnQuQ0xJQ0s7XHJcbmNvbnN0IGNvbW1vbkdhbWVJbnN0YW5jZSA9IENvbW1vbkdhbWVNb2R1bGUuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlclVJVmlldyBleHRlbmRzIGhlYWRlclVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgICAgIEhlYWRlclVJVmlldy5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlIHx8IG5ldyB0aGlzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmluaXREb20oKTtcclxuICAgICAgICB0aGlzLmluaXRFdmVudCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdENvbmZpZygpO1xyXG5cclxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ3VwZGF0ZTo6dXNlcmFjY291bnQnLCB0aGlzLnVwZGF0ZVVzZXJZdURvdS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgdGluZ0RvdTogMCwgLy/osYbvvIjlt6bvvIlcclxuICAgICAgICAgICAgeXVOdW06IDAsIC8v5L2Z77yI5Y+z77yJXHJcbiAgICAgICAgICAgIGlzRmlyc3REZWZhdWx0OiBmYWxzZSAvLyDmmK/lkKbnrKzkuIDmrKHpu5jorqTmirzms6jph5Hpop3mj5DnpLpcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdERvbSgpIHtcclxuICAgICAgICB0aGlzLmRvbSA9IHt9XHJcbiAgICAgICAgdGhpcy5kb20uZG91X251bSA9IHRoaXMuZG91X2JveC5nZXRDaGlsZEJ5TmFtZSgnZG91X251bScpO1xyXG4gICAgICAgIHRoaXMuZG9tLnl1X251bSA9IHRoaXMueXVfYm94LmdldENoaWxkQnlOYW1lKCd5dV9udW0nKTtcclxuXHJcbiAgICAgICAgLy8g5re75Yqg6I+c5Y2VXHJcbiAgICAgICAgLy8gdGhpcy5tZW51X2JveC5hZGRDaGlsZChNZW51VUlWaWV3LmdldEluc3RhbmNlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRFdmVudCgpIHtcclxuICAgICAgICAvLyDlm57pgIDmjInpkq5cclxuICAgICAgICBjb21tb25HYW1lSW5zdGFuY2UuaXNTaG93QnRuQmFja0hhbmRsZXIodGhpcy5idG5fYmFjayk7XHJcbiAgICAgICAgLy8g5Li76aG15oyJ6ZKuXHJcbiAgICAgICAgY29tbW9uR2FtZUluc3RhbmNlLmlzU2hvd0J0bkhvbWVIYW5kbGVyKHRoaXMuYnRuX2hvbWUpO1xyXG5cclxuICAgICAgICB0aGlzLnl1X2JveC5vbihDTElDSywgdGhpcywgdGhpcy55dU51bVBvcEJhbGFuY2VTaG93LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLmJ0bl9yYW5rLm9uKENMSUNLLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkucGxheSgnYnRuJyk7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJwb3A6OnJhbmtcIiwgbWVzc2FnZUNlbnRlciwgMCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5idG5fY2hvbmcub24oQ0xJQ0ssIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdidG4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOacqueZu+W9lVxyXG4gICAgICAgICAgICBpZiAoVVRJTFMud2lsbEdvdG9Mb2dpbigpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJwb3A6OnJlY2hhcmdlXCIsIG1lc3NhZ2VDZW50ZXIpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuYnRuX21vcmUub24oQ0xJQ0ssIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdidG4nKTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcInBvcDo6bWVudVwiKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyDngrnlh7vlhbblroPljLrln5/oj5zljZXpmpDol49cclxuICAgICAgICAvLyBjbGlja090aGVyQXJlYUhhbmRsZXIodGhpcy5idG5fbW9yZSwgUm9vbVNjZW5lLmdldEluc3RhbmNlKCkubWVudV9ib3gpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDmuLjmiI/kuK3mm7TmlrDmjLrosYYgJiDkvZnpop1cclxuICAgIHVwZGF0ZVVzZXJZdURvdShudW0pIHtcclxuICAgICAgICAvLyDlop7liqDkvZnpop1cclxuICAgICAgICBpZiAobnVtID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVXNlcll1KG51bSk7XHJcblxyXG4gICAgICAgICAgICAvLyDmiaPlh4/kvZnpop1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+aMuuixhuWkn+aJo+eahOivneWwseaJo+aMuuixhlxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcudGluZ0RvdSArIG51bSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVVc2VyRG91KG51bSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/lkKbliJnmiaPkvZnpop1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVVzZXJZdShudW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOabtOaWsOeUqOaIt+S9memine+8iOW3pui+ue+8iVxyXG4gICAgX3VwZGF0ZVVzZXJZdShudW0pIHtcclxuICAgICAgICB0aGlzLmNvbmZpZy55dU51bSA9IE1hdGgubWF4KDAsIHRoaXMuY29uZmlnLnl1TnVtICsgbnVtKTtcclxuICAgICAgICB0aGlzLmRvbS55dV9udW0udGV4dCA9IFVUSUxTLmdldEFjdGl2ZVN0cih0aGlzLmNvbmZpZy55dU51bSwgMTApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDmm7TmlrDnlKjmiLfmjLrosYbvvIjlj7PovrnvvIlcclxuICAgIF91cGRhdGVVc2VyRG91KG51bSkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnLnRpbmdEb3UgPSBNYXRoLm1heCgwLCB0aGlzLmNvbmZpZy50aW5nRG91ICsgbnVtKTtcclxuICAgICAgICB0aGlzLmRvbS5kb3VfbnVtLnRleHQgPSBVVElMUy5nZXRBY3RpdmVTdHIodGhpcy5jb25maWcudGluZ0RvdSwgMTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOa4suafk+eUqOaIt+S9meminVxyXG4gICAgcmVuZGVyVXNlckFjY291bnQoZGF0YSkge1xyXG4gICAgICAgIGxldCB0aW5nRG91ID0gTnVtYmVyKGRhdGEuVENvaW4pIHx8IDA7XHJcbiAgICAgICAgbGV0IHl1TnVtID0gKE51bWJlcihkYXRhLnRvdGFsKSAtIHRpbmdEb3UpIHx8IDA7XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlnLnRpbmdEb3UgPSB0aW5nRG91O1xyXG4gICAgICAgIHRoaXMuY29uZmlnLnl1TnVtID0geXVOdW07XHJcbiAgICAgICAgdGhpcy5kb20uZG91X251bS50ZXh0ID0gVVRJTFMuZ2V0QWN0aXZlU3RyKHRpbmdEb3UsIDEwKTtcclxuICAgICAgICB0aGlzLmRvbS55dV9udW0udGV4dCA9IFVUSUxTLmdldEFjdGl2ZVN0cih5dU51bSwgMTApO1xyXG5cclxuICAgICAgICB0aGlzLmRlZmF1bHRCZXRIYW5kbGVyKHRpbmdEb3UsIHl1TnVtKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDpu5jorqTmipXluIHpop1cclxuICAgIGRlZmF1bHRCZXRIYW5kbGVyKHRpbmdEb3UsIHl1TnVtKXtcclxuICAgICAgICBsZXQgaW5wdXROdW07XHJcblxyXG4gICAgICAgIC8vIOS7heS4gOasoeaWueazlVxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5pc0ZpcnN0RGVmYXVsdCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29uZmlnLmlzRmlyc3REZWZhdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8g6I635Y+W6buY6K6k5oqV5biB6aKdXHJcbiAgICAgICAgbGV0IGRlZmF1bHRCZXQgPSBVVElMUy5nZXRDb29raWUoXCJkZWZhdWx0QmV0XCIgKyBHTS5nYW1lSWQgKyBHTS51c2VyX2lkKTtcclxuICAgICAgICBkZWZhdWx0QmV0ID0gZGVmYXVsdEJldCA/IHBhcnNlSW50KGRlZmF1bHRCZXQsIDEwKSA6IG51bGw7XHJcblxyXG4gICAgICAgIC8vIOWtmOWcqGNvb2tpZem7mOiupOaKleW4geminSAmJiDlsI/kuo7lubPlj7DlrZDotKbmiLfkvZnpop1cclxuICAgICAgICBpZiAoZGVmYXVsdEJldCAmJiBkZWZhdWx0QmV0IDw9IHl1TnVtKSB7XHJcbiAgICAgICAgICAgIGlucHV0TnVtID0gZGVmYXVsdEJldDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDpu5jorqTmirzms6jph5Hpop3mj5DnpLpcclxuICAgICAgICAgICAgaWYoUm9vbVNjZW5lLmdldEluc3RhbmNlKCkubmV3VXNlcil7XHJcbiAgICAgICAgICAgICAgICBpbnB1dE51bSA9IDEwO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGlucHV0TnVtID0gY29tbW9uR2FtZUluc3RhbmNlLmRlZmF1bHRJbnB1dE5vdGljZSh0aW5nRG91LCB5dU51bSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmnIDlkI7ovazmlbDlrZdcclxuICAgICAgICBpbnB1dE51bSA9IE1hdGgubWluKE51bWJlcihpbnB1dE51bSksIDUwMDAwMCk7XHJcbiAgICAgICAgaW5wdXROdW0gPSBNYXRoLm1heChOdW1iZXIoaW5wdXROdW0pLCAxMCk7XHJcblxyXG4gICAgICAgIC8vIOabtOaWsOaKleW4gemHkeminVxyXG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2JldDo6aW5wdXRhbW91bnQnLCBpbnB1dE51bSk7XHJcblxyXG4gICAgICAgIC8vIOm7mOiupOaPkOekuuaIluiAheaKvOazqFxyXG5cclxuICAgICAgICBpZighUm9vbVNjZW5lLmdldEluc3RhbmNlKCkudGlwcyl7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ3BvcDo6bmV3Z3VpZGUnLCBpbnB1dE51bSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ3BvcDo6ZGVmYXVsdGJldCcsIGlucHV0TnVtKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBvYnNlcnZlci5wdWJsaXNoKCdwb3A6Om5ld2d1aWRlJywgaW5wdXROdW0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOS9memineafpeivolxyXG4gICAgeXVOdW1Qb3BCYWxhbmNlU2hvdygpIHtcclxuICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ2J0bicpO1xyXG5cclxuICAgICAgICAvLyDmnKrnmbvlvZVcclxuICAgICAgICBpZiAoVVRJTFMud2lsbEdvdG9Mb2dpbigpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChHTSAmJiBHTS5pc0NhbGxfb3V0ID09PSAxICYmIEdNLnBvcEJhbGFuY2VTaG93X291dCkge1xyXG4gICAgICAgICAgICBHTS5wb3BCYWxhbmNlU2hvd19vdXQoR00uZ2FtZVR5cGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5pu05paw5L2Z6aKdXHJcbiAgICAgICAgbWVzc2FnZUNlbnRlci5lbWl0QWpheChcInVzZXJBY2NvdW50XCIpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3VpU2NlbmUvaGVhZGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7O0FBWkE7Ozs7Ozs7QUFjQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUlBO0FBQ0E7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBMUtBO0FBQ0E7QUFDQTs7OztBQVRBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 9 */
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./laya_game/src/uiScene/penguin.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../module/init_module */ 0);\n\nvar _utils = __webpack_require__(/*! ../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _laya = __webpack_require__(/*! ../common/laya.custom */ 4);\n\nvar _bottom = __webpack_require__(/*! ./bottom */ 11);\n\nvar _bottom2 = _interopRequireDefault(_bottom);\n\nvar _header = __webpack_require__(/*! ./header */ 8);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _room = __webpack_require__(/*! ./room */ 6);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _audio = __webpack_require__(/*! ../module/com/audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nvar _commonGameModule = __webpack_require__(/*! ../module/com/commonGameModule */ 5);\n\nvar _commonGameModule2 = _interopRequireDefault(_commonGameModule);\n\nvar _walkRouter = __webpack_require__(/*! ./com/walkRouter */ 37);\n\nvar _bezier = __webpack_require__(/*! ./com/bezier */ 34);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *游戏区域\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar PenguinUIView = function (_penguinUI) {\n  _inherits(PenguinUIView, _penguinUI);\n\n  function PenguinUIView() {\n    _classCallCheck(this, PenguinUIView);\n\n    var _this = _possibleConstructorReturn(this, (PenguinUIView.__proto__ || Object.getPrototypeOf(PenguinUIView)).call(this));\n\n    _this.init();\n\n    PenguinUIView.instance = _this;\n    return _this;\n  }\n\n  _createClass(PenguinUIView, [{\n    key: 'init',\n    value: function init() {\n      this.initConfig();\n\n      this.registerAction();\n\n      this.initEvent();\n\n      // this.initPenguinPos();\n    }\n  }, {\n    key: 'initConfig',\n    value: function initConfig() {\n      this.stageX = 0;\n      this.stageY = 0;\n      this.isGameing = false; //游戏未开始\n      this.isClick = false; //是否点击\n      this.movingEnd = false; //企鹅是否行走结束\n      this.isComplete = false; //完整一局\n\n\n      this.goPenguin = null; //企鹅\n\n      this.result_data = []; //bet结果\n      this.code = 0;\n\n      this.loadingTime = 0;\n      this.penguinArea = Math.floor(Laya.stage.height / 750 * 370);\n      this.height = this.penguinArea;\n      this.area.height = this.penguinArea;\n      this.digArea.height = this.penguinArea;\n\n      this.type = 0;\n      this.wayroute = [];\n\n      this.treasurePos = []; //宝藏重新定位\n    }\n  }, {\n    key: 'registerAction',\n    value: function registerAction() {\n      _init_module.messageCenter.registerAction(\"bet\", this.resultCome.bind(this)); //点击开始\n\n      _init_module.observer.subscribe('walk::handler', this.wayRouteHandler.bind(this));\n\n      _init_module.observer.subscribe('check::hammer', this.checkHmmer.bind(this));\n\n      _init_module.observer.subscribe('game::start', this.gemeStart.bind(this));\n\n      _init_module.observer.subscribe('game::reset', this.isReset.bind(this));\n\n      _init_module.observer.subscribe('walk::stop', this.nextDig.bind(this));\n    }\n\n    // 通过道具类型判断企鹅类型\n\n  }, {\n    key: 'checkHmmer',\n    value: function checkHmmer(type) {\n      this.type = type;\n      if (this.goPenguin) {\n        this.goPenguin.url = 'images/animate/penguin_' + this.type + '.sk';\n      } else {\n        this.goPenguin = (0, _laya.createSkeleton)('images/animate/penguin_' + this.type);\n        this.digPenguin.addChildAt(this.goPenguin, 1);\n        this.goPenguin.play('normal', true);\n        this.goPenguin.x = 25;\n        this.goPenguin.y = -55;\n      }\n    }\n\n    //随机数\n\n  }, {\n    key: 'getRandom',\n    value: function getRandom(rmin, rmax) {\n      var range = rmax - rmin;\n      var rand = Math.random();\n      return rmin + Math.round(rand * range);\n    }\n\n    // 随机位置，用于初始化企鹅位置和自动玩挖宝位置\n\n  }, {\n    key: 'randomPenguinPos',\n    value: function randomPenguinPos(isAuto) {\n      var _width = this.digArea.width,\n          _height = this.digArea.height;\n\n      var stage_x = void 0,\n          stage_y = void 0,\n          radom_x = void 0,\n          radom_y = void 0;\n\n      if (isAuto) {\n        var _autoPX = this.digPenguin.x,\n            _autoPY = this.digPenguin.y;\n\n        radom_x = this.getRandom(_autoPX - 200, _autoPX + 200), //随机挖宝位置x\n        radom_y = this.getRandom(_autoPY - 200, _autoPY + 200); //随机挖宝位置y\n      } else {\n        radom_x = Math.floor(_width * Math.random());\n        radom_y = Math.floor(_height * Math.random());\n      }\n\n      stage_x = Math.max(230, radom_x);\n      stage_x = Math.min(950, stage_x);\n\n      stage_y = Math.max(100, radom_y);\n      stage_y = Math.min(370, stage_y);\n\n      return { stage_x: stage_x, stage_y: stage_y };\n    }\n  }, {\n    key: 'initEvent',\n    value: function initEvent() {\n      var _this2 = this;\n\n      this.digArea.on(Laya.Event.CLICK, this, function (e) {\n        if (!_this2.goPenguin) {\n          _this2.errorHandler();\n          return;\n        }\n        var bottom = _bottom2.default.getInstance(),\n            room = _room2.default.getInstance(),\n            bool = bottom.checkEnoughBet(),\n            hideAuto = bottom.autoplay_box.getChildAt(0).visible,\n            hideMune = room.menu_box.getChildAt(0).visible,\n            target = _this2.btn_instruct || _this2.hinder_one || _this2.hinder_two || _this2.hinder_three;\n\n        if (hideAuto || hideMune) return;\n        if (e.target == target) return;\n\n        if (_this2.isGameing || _this2.isClick || bottom.config.isAuto) {\n          console.log('isGameing, isClick, isAuto:', _this2.isGameing, _this2.isClick, bottom.config.isAuto);\n          return;\n        }\n\n        if (bool) {\n          _this2.isClick = true;\n          console.log(e.stageX, e.stageY);\n          _this2.posX = e.stageX; //挖宝的位置\n          _this2.posY = e.stageY;\n          _this2.emit();\n          _this2.goPenguin.play('normal', true);\n          _this2.wayRouteHandler(0);\n        }\n      });\n\n      this.hinder_one.on(Laya.Event.CLICK, this, function () {\n        _audio2.default.getInstance().play('btn');\n        _init_module.observer.publish(\"pop::instruct\");\n      });\n\n      this.hinder_two.on(Laya.Event.CLICK, this, function () {\n        _init_module.observer.publish(\"hinder::tips\");\n      });\n\n      this.hinder_three.on(Laya.Event.CLICK, this, function () {\n        _init_module.observer.publish(\"hinder::tips\");\n      });\n\n      this.receivePenguin.on(Laya.Event.CLICK, this, function () {\n        _init_module.observer.publish(\"pop::rank\", _init_module.messageCenter, 3);\n      });\n    }\n\n    // 终点位置(自动:随机的位置,手动:鼠标点击的位置)\n\n  }, {\n    key: 'toPos',\n    value: function toPos(isAuto) {\n      var posX = void 0,\n          posY = void 0,\n          stageX = void 0,\n          stageY = void 0;\n\n      if (isAuto) {\n        var pos = this.randomPenguinPos(isAuto);\n        posX = pos.stage_x;\n        posY = pos.stage_y;\n      } else {\n        posX = this.posX;\n        posY = this.posY - Math.ceil(Laya.stage.height / 750 * 210);\n      }\n\n      return { posX: posX, posY: posY };\n    }\n\n    // 路径算法、\n\n  }, {\n    key: 'wayRouteHandler',\n    value: function wayRouteHandler(isAuto) {\n      var _this3 = this;\n\n      if (!this.goPenguin) {\n        console.log(\"没有取到企鹅类型\");\n        this.errorHandler();\n        return;\n      }\n      var posX = void 0,\n          posY = void 0,\n          stageX = void 0,\n          stageY = void 0;\n      var toPos = this.toPos(isAuto);\n\n      posX = toPos.posX;\n      posY = toPos.posY;\n\n      var from = { x: Math.floor(this.digPenguin.x) - 57, y: Math.floor(this.digPenguin.y) },\n          //起点\n      to = { x: posX - 57, y: posY },\n          //终点\n      base = 3.5;\n\n      this.wayroute = (0, _walkRouter.PenguinWalk)(from, to); //路径\n\n      this.isGameing = true;\n      if (this.wayroute.length > 0) {\n        var _direction = [];\n        // this.goPenguin.play('normal', true);\n        var loopMove = function loopMove() {\n\n          var firstWay = _this3.wayroute.splice(0, 1),\n              direction = firstWay[0].d,\n              _x = firstWay[0].x + 57,\n              _y = firstWay[0].y;\n\n          _audio2.default.getInstance().play('run');\n          if (_direction.includes(direction)) {} else {\n            _direction.push(direction);\n            _this3.goPenguin.play('' + direction, true);\n          }\n\n          // 方向处理\n          var routerHandler = function routerHandler() {\n            if (_this3.wayroute.length > 0) {\n              loopMove();\n            } else if (_this3.wayroute.length === 0 && _this3.isGameing) {\n              _this3.goPenguin.play('dig', false);\n              _audio2.default.getInstance().play('dig_' + _this3.type, 2);\n              console.log(\"到达目的地，挖坑\");\n              _this3.DigKeng(_x, _y);\n            }\n          };\n\n          //定时器处理\n          /* let arrD = ['lu', 'ru','ld', 'rd'];\r\n           arrD.forEach( (item)=>{\r\n              if(item == direction){timer = 70;}else{timer = 50}    //斜着走时间：50*1.4\r\n           })*/\n          /* if(direction == 'lu' || direction== 'ru' ||  direction== 'ld' ||  direction== 'rd'){base= 0.55;\r\n           }else{base= 0.5;}*/\n\n          var timerHandler = function timerHandler() {\n            Laya.timer.once(1000 / 60, null, function () {\n              router();\n            });\n          };\n\n          // 行走方向\n          var router = function router() {\n\n            switch (direction) {\n              case 'u':\n                _this3.digPenguin.y -= base;\n                if (_this3.digPenguin.y <= _y) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n\n              case 'r':\n                _this3.digPenguin.x += base;\n                if (_this3.digPenguin.x >= _x) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n\n              case 'd':\n                _this3.digPenguin.y += base;\n                if (_this3.digPenguin.y >= _y) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n\n              case 'l':\n                _this3.digPenguin.x -= base;\n                if (_this3.digPenguin.x <= _x) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n\n              case 'lu':\n                _this3.digPenguin.x -= base;\n                _this3.digPenguin.y -= base;\n                if (_this3.digPenguin.x <= _x) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n\n              case 'ru':\n                _this3.digPenguin.x += base;\n                _this3.digPenguin.y -= base;\n                if (_this3.digPenguin.x >= _x) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n\n              case 'ld':\n                _this3.digPenguin.x -= base;\n                _this3.digPenguin.y += base;\n                if (_this3.digPenguin.x <= _x) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n\n              case 'rd':\n                _this3.digPenguin.x += base;\n                _this3.digPenguin.y += base;\n                if (_this3.digPenguin.x >= _x) {\n                  routerHandler();\n                } else {\n                  timerHandler();\n                }\n                break;\n            }\n          };\n          router();\n        };\n        _audio2.default.getInstance().play('runbeak');\n        loopMove();\n      } else {\n        if (this.code !== 0) return;\n        this.goPenguin.play('dig', false);\n        this.DigKeng(posX, posY);\n      }\n    }\n\n    // 开始下一局发送命令\n\n  }, {\n    key: 'emit',\n    value: function emit() {\n      var user_input_text = _bottom2.default.getInstance().config.user_input_text;\n      _init_module.observer.publish('game::start');\n      console.log(\"手动挖宝\");\n      if (this.code === 0) {\n        _init_module.messageCenter.emit('bet', { amount: user_input_text, isAuto: 0 });\n      }\n    }\n  }, {\n    key: 'gemeStart',\n    value: function gemeStart() {\n      // console.log(\"不用延迟处理\");\n      // Laya.timer.loop(1000, this, this.addLoadingTimeHandler);\n    }\n  }, {\n    key: 'errorHandler',\n    value: function errorHandler() {\n      var reload = function reload() {\n        window.location.reload();\n      };\n      _init_module.observer.publish('common::tips', '信号不好，请稍后重试~', reload, reload);\n      return;\n    }\n  }, {\n    key: 'addLoadingTimeHandler',\n    value: function addLoadingTimeHandler() {\n      this.loadingTime++;\n      // 时间过久\n      if (this.loadingTime > 15) {\n        this.errorHandler();\n      }\n    }\n\n    // 挖坑\n\n  }, {\n    key: 'DigKeng',\n    value: function DigKeng(posX, posY) {\n      var _this4 = this;\n\n      this.movingEnd = true;\n\n      var delay = false;\n\n      var sizeKeng = {\n        x: posX,\n        y: posY + 5,\n        anchorX: 0.5,\n        anchorY: 0\n      };\n      if (this.type === 3) {\n        sizeKeng.y = posY + 15;\n      }\n      var kengAni = (0, _laya.createSkeleton)('images/animate/keng');\n      this.addChildAt(kengAni, 1);\n      kengAni.set(sizeKeng);\n      kengAni.play('keng_dig_' + this.type, false);\n\n      kengAni.once(Laya.Event.STOPPED, this, function () {\n        if (_this4.result_data.length > 0 && _this4.code === 0 && !delay) {\n          delay = true;\n          _this4.treasurePos.push({ x: posX, y: posY }); //宝藏的位置\n          _this4.betHandler();\n        }\n\n        Laya.timer.once(400, _this4, function () {\n          if (_this4.result_data.length > 0 && _this4.code === 0 && !delay) {\n            delay = true;\n            _this4.treasurePos.push({ x: posX, y: posY }); //宝藏的位置\n            _this4.betHandler();\n          }\n          kengAni.play('keng_stuff_' + _this4.type, false);\n          kengAni.once(Laya.Event.STOPPED, _this4, function () {\n            if (_this4.result_data.length > 0 && _this4.code === 0 && !delay) {\n              delay = true;\n              _this4.treasurePos.push({ x: posX, y: posY }); //宝藏的位置\n              _this4.betHandler();\n            }\n            kengAni.destroy();\n          });\n        });\n      });\n    }\n\n    // 结果过来了\n\n  }, {\n    key: 'resultCome',\n    value: function resultCome(data) {\n      /*   let data ={\r\n           \"cmd\": \"bet\",\r\n           \"code\": 5,\r\n           \"res\": {\r\n               \"winAmount\": 15,\r\n               \"queenAmount\": 0,\r\n               \"subAmount\": 15,\r\n               \"trigger\": 0,\r\n               \"list\": [\r\n                   {\r\n                       \"name\": \"黑铁\",\r\n                       \"amount\": 5,\r\n                       \"cnt\": 3,\r\n                       \"no\": 2\r\n                   }\r\n               ]\r\n           }\r\n         }*/\n      this.code = Number(data.code);\n      this.result_data.push(data.res);\n\n      this.loadingTime = 0;\n\n      // 错误处理\n      if (_commonGameModule2.default.getInstance().errorHandler(data)) {\n        console.log(\"返回错误code码\");\n        _init_module.observer.publish('walk::stop');\n        _init_module.observer.publish('game::reset');\n        return;\n      };\n\n      // 投币成功\n      _init_module.observer.publish('bet::success');\n    }\n  }, {\n    key: 'betHandler',\n    value: function betHandler() {\n      var treasurePos = this.treasurePos[0];\n      var dataResult = this.result_data[0];\n\n      this.isClick = false;\n      this.treasurePos.splice(0, 1);\n\n      if (dataResult.winAmount > 0) {\n        this.winAmountHandler(dataResult, treasurePos);\n      } else {\n        // 没有中奖调一下\n        _commonGameModule2.default.getInstance().jiujijin();\n        this.nowinHandler();\n      }\n      this.nextDig();\n    }\n\n    //没有中奖的企鹅表情\n\n  }, {\n    key: 'nowinHandler',\n    value: function nowinHandler() {\n      var _this5 = this;\n\n      var random = Math.random();\n      // let random = 0.4 ;\n      if (!this.isClick) {\n        if (random >= 0.3 && random < 0.4) {\n          _audio2.default.getInstance().play('bian');\n          this.goPenguin.play('cry_2', true); //愤怒\n        } else if (random >= 0.4 && random < 0.5) {\n          _audio2.default.getInstance().play('zha');\n          this.goPenguin.play('zha', true); //被炸\n        } else {\n          this.goPenguin.play('cry_1', true); //难过\n        }\n      }\n\n      this.dom_receive.play(\"cry\", true);\n\n      // this.result_data.splice(0, 1);\n      Laya.timer.once(1000, this, function () {\n        _this5.gameNext(true);\n      });\n    }\n\n    //中奖金额分配展示\n\n  }, {\n    key: 'winAmountHandler',\n    value: function winAmountHandler(dataResult, treasurePos) {\n      var _this6 = this;\n\n      // let _dataResult = dataResult ;\n      var amountList = dataResult.list;\n\n      if (dataResult.subAmount > 0) {\n        var time = 0;\n\n        var _loop = function _loop(i) {\n          var cnt = amountList[i].cnt;\n          var num = amountList[i].no;\n          var amount = amountList[i].amount;\n\n          var _loop2 = function _loop2(j) {\n            // 个数大于1\n            var isReceive = j == cnt - 1 && i == amountList.length - 1 ? 1 : 0;\n            setTimeout(function () {\n              _this6.singleAmountHandler(dataResult, num, amount, treasurePos, isReceive);\n            }, time * 280);\n            ++time;\n          };\n\n          for (var j = 0; j < cnt; j++) {\n            _loop2(j);\n          }\n        };\n\n        for (var i = 0; i < amountList.length; i++) {\n          _loop(i);\n        }\n      } else {\n        this.queenHandler(dataResult, treasurePos);\n      }\n\n      _audio2.default.getInstance().play('receive');\n      this.dom_receive.play(\"happy\", true);\n\n      if (!this.isClick) {\n        this.goPenguin.play('happy', true); //开心\n      }\n    }\n  }, {\n    key: 'queenHandler',\n    value: function queenHandler(dataResult, treasurePos) {\n      var _this7 = this;\n\n      var _x = treasurePos.x;\n      var _y = treasurePos.y - 180;\n\n      var queenAmount = dataResult.queenAmount;\n\n      if (queenAmount > 0) {\n        var crownAni = (0, _laya.createSkeleton)('images/animate/win_queen'); //图案\n        var sizeCrown = {\n          scaleX: 0,\n          scaleY: 0,\n          x: treasurePos.x,\n          y: treasurePos.y - 10\n        };\n        crownAni.set(sizeCrown);\n        this.addChild(crownAni, 1);\n        crownAni.play(\"light\", false);\n        Laya.Tween.to(crownAni, { scaleX: 1, scaleY: 1, x: _x, y: _y }, 500, Laya.Ease.backOut, Laya.Handler.create(this, function () {\n          Laya.timer.once(800, _this7, function () {\n            crownAni.destroy();\n            if (dataResult.subAmount === 0) {\n              console.log(\"没有宝藏，才发布\");\n              _init_module.observer.publish(\"pop::queen\", queenAmount, function () {\n                _this7.gameNext();\n              });\n              _init_module.messageCenter.emitAjax('userAccount');\n            }\n          });\n        }));\n      }\n    }\n\n    //单个中奖图案处理\n\n  }, {\n    key: 'singleAmountHandler',\n    value: function singleAmountHandler(dataResult, num, amount, treasurePos, isReceive) {\n      var _num = num,\n          _amount = amount;\n\n      var amountBox = new Laya.Box();\n      var sizeBox = {\n        width: 150,\n        height: 80,\n        anchorX: 0.5,\n        scaleX: 0,\n        scaleY: 0,\n        x: treasurePos.x,\n        y: treasurePos.y - 160\n      };\n\n      amountBox.set(sizeBox);\n\n      var singleAmount = new Laya.Label(); //单价\n      var sizeSingleAmount = {\n        height: 30,\n        centerX: 0.5,\n        y: 85,\n        font: \"Arial\",\n        fontSize: 28,\n        color: \"#964a00\",\n        bold: true\n      };\n\n      singleAmount.set(sizeSingleAmount);\n      var sizeSingleAni = {\n        centerX: 0.5,\n        y: 20\n      };\n      var singleAni = new Laya.Image(); //图案\n      singleAni.skin = 'images/room/win_' + _num + '.png';\n      singleAni.set(sizeSingleAni);\n\n      singleAmount.text = '+' + amount;\n      amountBox.addChild(singleAmount);\n      amountBox.addChild(singleAni);\n      _audio2.default.getInstance().play('win');\n      this.addChild(amountBox);\n      this.singleShow(dataResult, amountBox, singleAni, singleAmount, treasurePos, isReceive);\n    }\n\n    //单个中奖图案弹出动效\n\n  }, {\n    key: 'singleShow',\n    value: function singleShow(dataResult, amountBox, singleAni, singleAmount, treasurePos, isReceive) {\n      var _this8 = this;\n\n      var _amountBox = amountBox,\n          _singleAni = singleAni,\n          _singleAmount = singleAmount;\n\n      var randomX = void 0,\n          randomY = void 0,\n          counter = 0;\n\n      var _x = treasurePos.x;\n      var _y = treasurePos.y - 230;\n      randomX = this.getRandom(_x - 70, _x + 70); //随机掉落位置x\n      randomY = this.getRandom(_y, _y - 40); //随机掉落位置y\n\n      // 飞至接宝企鹅\n      var singleFly = function singleFly() {\n        setTimeout(function () {\n          _singleAmount.visible = false;\n          (0, _bezier.animate_bezier_move)(_amountBox, { x: randomX, y: randomY }, { x: 1120, y: 95 }, 160, function () {\n            _singleAni.visible = false;\n            _amountBox.destroy();\n          });\n\n          if (isReceive) {\n            _this8.queenHandler(dataResult, treasurePos);\n            _this8.receiveHandler(dataResult);\n          }\n        }, 350);\n      };\n\n      Laya.Tween.to(_amountBox, { scaleX: 1, scaleY: 1, x: randomX, y: randomY }, 100, Laya.Ease.backOut, Laya.Handler.create(this, singleFly));\n    }\n\n    // 接宝企鹅\n\n  }, {\n    key: 'receiveHandler',\n    value: function receiveHandler(dataResult) {\n      var _this9 = this;\n\n      var _dataResult = dataResult;\n      // 处理企鹅话术\n      var callback = function callback() {\n        var random = Math.random();\n\n        var cbQueen = function cbQueen() {\n          var queenAmount = _dataResult.queenAmount;\n          if (queenAmount > 0) {\n            _init_module.observer.publish(\"pop::queen\", queenAmount, function () {\n              _this9.gameNext();\n            });\n          } else {\n            _this9.gameNext();\n          }\n        };\n\n        var cb = function cb(_index) {\n          // TODO:换成局部\n          var talk = (0, _laya.createSkeleton)('images/animate/talk'); //说话\n          talk.x = 1066;\n          talk.y = 50;\n          _this9.addChildAt(talk, 1);\n          talk.zOrder = 1000;\n          talk.visible = true;\n          talk.play('talk_' + _index, false);\n          Laya.timer.once(800, _this9, function () {\n            talk.visible = false;\n            cbQueen();\n          });\n        };\n\n        if (random >= 0.2 && random < 0.35) {\n          cb(1);\n        } else if (random >= 0.35 && random < 0.5) {\n          cb(2);\n        } else if (random >= 0.5 && random < 0.65) {\n          cb(3);\n        } else {\n          Laya.timer.once(800, _this9, function () {\n            cbQueen();\n          });\n        }\n      };\n\n      //处理金额\n      var totalAmount = new Laya.Label(); //投币金额\n      totalAmount.font = \"new_font\";\n      totalAmount.x = 1138;\n      totalAmount.y = 270;\n      totalAmount.scaleX = 0;\n      totalAmount.scaleY = 0;\n\n      totalAmount.visible = false;\n      totalAmount.text = '+' + _dataResult.subAmount;\n      if (dataResult.subAmount > 0) {\n        totalAmount.visible = true;\n      }\n\n      this.addChild(totalAmount);\n      totalAmount.zOrder = 999;\n      Laya.Tween.to(totalAmount, { y: 220, scaleX: 1, scaleY: 1 }, 400, Laya.Ease.backOut, Laya.Handler.create(this, function () {\n        Laya.timer.once(600, _this9, function () {\n          totalAmount.visible = false;\n          totalAmount.scale(0, 0);\n        });\n        _init_module.messageCenter.emitAjax('userAccount');\n        callback();\n      }));\n    }\n\n    // 游戏下一步\n\n  }, {\n    key: 'gameNext',\n    value: function gameNext() {\n      var flag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var bottom = _bottom2.default.getInstance();\n      _init_module.observer.publish(\"game::stop\");\n      this.isComplete = true;\n      // 当局结束\n      this.isReset(flag);\n      if (bottom.config.gameStatus === 'auto') {\n        Laya.timer.once(800, null, function () {\n          console.log(\"bottom.config.autoTimes\", bottom.config.autoTimes);\n          if (bottom.config.autoTimes !== 0) {\n            bottom.renderStartBtnStatus('auto', bottom.config.autoTimes);\n          } else {\n            bottom.renderStartBtnStatus('ready');\n          }\n        });\n      }\n    }\n\n    //游戏继续\n\n  }, {\n    key: 'nextDig',\n    value: function nextDig() {\n      console.log(\"下一局挖宝\");\n      this.isGameing = false;\n      this.movingEnd = false;\n      this.isClick = false;\n      this.wayroute = [];\n      this.isComplete = true;\n\n      this.result_data.splice(0, 1);\n    }\n\n    // 挖宝结束重置\n\n  }, {\n    key: 'isReset',\n    value: function isReset(flag) {\n      /*  if(!flag) {\r\n          this.result_data.splice(0, 1);\r\n        }*/\n      if (this.code != 0) {\n        this.isGameing = false;\n        this.isClick = false;\n        this.movingEnd = false;\n        this.wayroute = [];\n      }\n      if (!this.isGameing && this.goPenguin) {\n        this.goPenguin.play('normal', true);\n      }\n      this.dom_receive.play(\"normal\", true);\n      this.code = 0;\n      this.isComplete = false; //一局游戏结束\n      this.loadingTime = 0;\n      Laya.timer.clear(this, this.addLoadingTimeHandler);\n    }\n  }], [{\n    key: 'getInstance',\n    value: function getInstance() {\n      return this.instance || new this();\n    }\n  }]);\n\n  return PenguinUIView;\n}(penguinUI);\n\nexports.default = PenguinUIView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9sYXlhX2dhbWUvc3JjL3VpU2NlbmUvcGVuZ3Vpbi5qcz81M2RhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKua4uOaIj+WMuuWfn1xyXG4gKi9cclxuaW1wb3J0IHsgb2JzZXJ2ZXIsIG1lc3NhZ2VDZW50ZXIgfSBmcm9tICcuLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xyXG5pbXBvcnQgVVRJTFMgZnJvbSAnLi4vY29uZmlnL3V0aWxzJztcclxuaW1wb3J0IHsgY3JlYXRlU2tlbGV0b24gfSBmcm9tICcuLi9jb21tb24vbGF5YS5jdXN0b20nO1xyXG5pbXBvcnQgQm90dG9tVUlWaWV3IGZyb20gJy4vYm90dG9tJztcclxuaW1wb3J0IEhlYWRlclVJVmlldyBmcm9tICcuL2hlYWRlcic7XHJcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi9yb29tJztcclxuaW1wb3J0IEF1ZGlvTXVkdWxlIGZyb20gJy4uL21vZHVsZS9jb20vYXVkaW8nO1xyXG5pbXBvcnQgQ29tbW9uR2FtZU1vZHVsZSBmcm9tICcuLi9tb2R1bGUvY29tL2NvbW1vbkdhbWVNb2R1bGUnO1xyXG5pbXBvcnQge1Blbmd1aW5XYWxrfSBmcm9tICcuL2NvbS93YWxrUm91dGVyJztcclxuaW1wb3J0IHthbmltYXRlX2Jlemllcl9tb3ZlfSBmcm9tICcuL2NvbS9iZXppZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGVuZ3VpblVJVmlldyBleHRlbmRzIHBlbmd1aW5VSXtcclxuICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICAgUGVuZ3VpblVJVmlldy5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgbmV3IHRoaXMoKTtcclxuICAgIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuaW5pdENvbmZpZygpO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXJBY3Rpb24oKTtcclxuXHJcbiAgICB0aGlzLmluaXRFdmVudCgpO1xyXG5cclxuICAgIC8vIHRoaXMuaW5pdFBlbmd1aW5Qb3MoKTtcclxuICB9XHJcblxyXG4gIGluaXRDb25maWcoKSB7XHJcbiAgICB0aGlzLnN0YWdlWCA9IDA7XHJcbiAgICB0aGlzLnN0YWdlWSA9IDA7XHJcbiAgICB0aGlzLmlzR2FtZWluZyA9IGZhbHNlOyAgICAvL+a4uOaIj+acquW8gOWni1xyXG4gICAgdGhpcy5pc0NsaWNrID0gZmFsc2U7ICAgLy/mmK/lkKbngrnlh7tcclxuICAgIHRoaXMubW92aW5nRW5kID0gZmFsc2U7IC8v5LyB6bmF5piv5ZCm6KGM6LWw57uT5p2fXHJcbiAgICB0aGlzLmlzQ29tcGxldGUgPSBmYWxzZTsgLy/lrozmlbTkuIDlsYBcclxuXHJcblxyXG4gICAgdGhpcy5nb1Blbmd1aW4gPSBudWxsOyAgLy/kvIHpuYVcclxuXHJcbiAgICB0aGlzLnJlc3VsdF9kYXRhID0gW107ICAgICAvL2JldOe7k+aenFxyXG4gICAgdGhpcy5jb2RlID0gMDtcclxuXHJcbiAgICB0aGlzLmxvYWRpbmdUaW1lID0gMDtcclxuICAgIHRoaXMucGVuZ3VpbkFyZWEgPSAgTWF0aC5mbG9vcihMYXlhLnN0YWdlLmhlaWdodC83NTAqMzcwKTtcclxuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5wZW5ndWluQXJlYTtcclxuICAgIHRoaXMuYXJlYS5oZWlnaHQgPXRoaXMucGVuZ3VpbkFyZWE7XHJcbiAgICB0aGlzLmRpZ0FyZWEuaGVpZ2h0ID0gIHRoaXMucGVuZ3VpbkFyZWE7XHJcblxyXG4gICAgdGhpcy50eXBlID0gMDtcclxuICAgIHRoaXMud2F5cm91dGUgPSBbXTtcclxuXHJcbiAgICB0aGlzLnRyZWFzdXJlUG9zID0gW107IC8v5a6d6JeP6YeN5paw5a6a5L2NXHJcblxyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJBY3Rpb24oKXtcclxuICAgIG1lc3NhZ2VDZW50ZXIucmVnaXN0ZXJBY3Rpb24oXCJiZXRcIiwgdGhpcy5yZXN1bHRDb21lLmJpbmQodGhpcykpOyAgICAgICAgICAgICAvL+eCueWHu+W8gOWni1xyXG5cclxuICAgIG9ic2VydmVyLnN1YnNjcmliZSgnd2Fsazo6aGFuZGxlcicsIHRoaXMud2F5Um91dGVIYW5kbGVyLmJpbmQodGhpcykpO1xyXG5cclxuICAgIG9ic2VydmVyLnN1YnNjcmliZSgnY2hlY2s6OmhhbW1lcicsIHRoaXMuY2hlY2tIbW1lci5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ2dhbWU6OnN0YXJ0JywgdGhpcy5nZW1lU3RhcnQuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdnYW1lOjpyZXNldCcsIHRoaXMuaXNSZXNldC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ3dhbGs6OnN0b3AnLCB0aGlzLm5leHREaWcuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICAvLyDpgJrov4fpgZPlhbfnsbvlnovliKTmlq3kvIHpuYXnsbvlnotcclxuICBjaGVja0htbWVyKHR5cGUpIHtcclxuICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICBpZih0aGlzLmdvUGVuZ3Vpbil7XHJcbiAgICAgIHRoaXMuZ29QZW5ndWluLnVybCA9IGBpbWFnZXMvYW5pbWF0ZS9wZW5ndWluXyR7dGhpcy50eXBlfS5za2A7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgdGhpcy5nb1Blbmd1aW4gPSBjcmVhdGVTa2VsZXRvbihgaW1hZ2VzL2FuaW1hdGUvcGVuZ3Vpbl8ke3RoaXMudHlwZX1gKTtcclxuICAgICAgdGhpcy5kaWdQZW5ndWluLmFkZENoaWxkQXQodGhpcy5nb1Blbmd1aW4sIDEpO1xyXG4gICAgICB0aGlzLmdvUGVuZ3Vpbi5wbGF5KCdub3JtYWwnLCB0cnVlKTtcclxuICAgICAgdGhpcy5nb1Blbmd1aW4ueCA9IDI1O1xyXG4gICAgICB0aGlzLmdvUGVuZ3Vpbi55ID0gLTU1O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgICAvL+maj+acuuaVsFxyXG4gIGdldFJhbmRvbShybWluLCBybWF4KSB7XHJcbiAgICAgIHZhciByYW5nZSA9IHJtYXggLSBybWluO1xyXG4gICAgICB2YXIgcmFuZCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgIHJldHVybiAocm1pbiArIE1hdGgucm91bmQocmFuZCAqIHJhbmdlKSk7XHJcbiAgfVxyXG5cclxuICAvLyDpmo/mnLrkvY3nva7vvIznlKjkuo7liJ3lp4vljJbkvIHpuYXkvY3nva7lkozoh6rliqjnjqnmjJblrp3kvY3nva5cclxuICByYW5kb21QZW5ndWluUG9zKGlzQXV0bykge1xyXG4gICAgbGV0IF93aWR0aCA9IHRoaXMuZGlnQXJlYS53aWR0aCxcclxuICAgICAgICBfaGVpZ2h0ID0gdGhpcy5kaWdBcmVhLmhlaWdodDtcclxuXHJcbiAgICBsZXQgc3RhZ2VfeCxcclxuICAgICAgICBzdGFnZV95LFxyXG4gICAgICAgIHJhZG9tX3gsXHJcbiAgICAgICAgcmFkb21feTtcclxuXHJcbiAgICBpZihpc0F1dG8pe1xyXG4gICAgICBsZXQgX2F1dG9QWCA9IHRoaXMuZGlnUGVuZ3Vpbi54LFxyXG4gICAgICAgICAgX2F1dG9QWSA9IHRoaXMuZGlnUGVuZ3Vpbi55O1xyXG5cclxuICAgICAgICAgIHJhZG9tX3ggPSB0aGlzLmdldFJhbmRvbShfYXV0b1BYLTIwMCwgX2F1dG9QWCArIDIwMCksIC8v6ZqP5py65oyW5a6d5L2N572ueFxyXG4gICAgICAgICAgcmFkb21feSA9IHRoaXMuZ2V0UmFuZG9tKF9hdXRvUFktMjAwLCBfYXV0b1BZICsgMjAwKTsgICAgICAgICAvL+maj+acuuaMluWuneS9jee9rnlcclxuXHJcbiAgICB9IGVsc2V7XHJcbiAgICAgICAgcmFkb21feCA9IE1hdGguZmxvb3IoX3dpZHRoKk1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIHJhZG9tX3kgPSBNYXRoLmZsb29yKF9oZWlnaHQqTWF0aC5yYW5kb20oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhZ2VfeCA9TWF0aC5tYXgoMjMwLCByYWRvbV94KTtcclxuICAgIHN0YWdlX3ggPU1hdGgubWluKDk1MCwgc3RhZ2VfeCk7XHJcblxyXG4gICAgc3RhZ2VfeSA9TWF0aC5tYXgoMTAwLCByYWRvbV95KTtcclxuICAgIHN0YWdlX3kgPU1hdGgubWluKDM3MCwgc3RhZ2VfeSk7XHJcblxyXG4gICAgcmV0dXJue3N0YWdlX3gsc3RhZ2VfeX1cclxuICB9XHJcblxyXG4gIGluaXRFdmVudCgpIHtcclxuICAgIHRoaXMuZGlnQXJlYS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoZSk9PntcclxuICAgICAgaWYoIXRoaXMuZ29QZW5ndWluKXtcclxuICAgICAgICB0aGlzLmVycm9ySGFuZGxlcigpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBsZXQgYm90dG9tID0gQm90dG9tVUlWaWV3LmdldEluc3RhbmNlKCksXHJcbiAgICAgICAgICByb29tID0gUm9vbVNjZW5lLmdldEluc3RhbmNlKCksXHJcblxyXG4gICAgICAgICAgYm9vbCA9IGJvdHRvbS5jaGVja0Vub3VnaEJldCgpLFxyXG4gICAgICAgICAgaGlkZUF1dG8gPSBib3R0b20uYXV0b3BsYXlfYm94LmdldENoaWxkQXQoMCkudmlzaWJsZSxcclxuICAgICAgICAgIGhpZGVNdW5lID0gcm9vbS5tZW51X2JveC5nZXRDaGlsZEF0KDApLnZpc2libGUsXHJcblxyXG4gICAgICAgICAgdGFyZ2V0ID0gdGhpcy5idG5faW5zdHJ1Y3QgfHwgdGhpcy5oaW5kZXJfb25lIHx8dGhpcy5oaW5kZXJfdHdvIHx8ICB0aGlzLmhpbmRlcl90aHJlZTtcclxuXHJcbiAgICAgIGlmKGhpZGVBdXRvIHx8IGhpZGVNdW5lKSByZXR1cm47XHJcbiAgICAgIGlmKGUudGFyZ2V0ID09ICB0YXJnZXQpIHJldHVybjtcclxuXHJcbiAgICAgIGlmKHRoaXMuaXNHYW1laW5nIHx8IHRoaXMuaXNDbGljayB8fCBib3R0b20uY29uZmlnLmlzQXV0byl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2lzR2FtZWluZywgaXNDbGljaywgaXNBdXRvOicsdGhpcy5pc0dhbWVpbmcsIHRoaXMuaXNDbGljaywgYm90dG9tLmNvbmZpZy5pc0F1dG8pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGJvb2wpIHtcclxuICAgICAgICB0aGlzLmlzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUuc3RhZ2VYLCBlLnN0YWdlWSk7XHJcbiAgICAgICAgdGhpcy5wb3NYID0gZS5zdGFnZVg7ICAvL+aMluWuneeahOS9jee9rlxyXG4gICAgICAgIHRoaXMucG9zWSA9IGUuc3RhZ2VZO1xyXG4gICAgICAgIHRoaXMuZW1pdCgpO1xyXG4gICAgICAgIHRoaXMuZ29QZW5ndWluLnBsYXkoJ25vcm1hbCcsIHRydWUpO1xyXG4gICAgICAgIHRoaXMud2F5Um91dGVIYW5kbGVyKDApO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmhpbmRlcl9vbmUub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCk9PntcclxuICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdidG4nKTtcclxuICAgICAgb2JzZXJ2ZXIucHVibGlzaChcInBvcDo6aW5zdHJ1Y3RcIik7XHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuaGluZGVyX3R3by5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKT0+e1xyXG4gICAgICBvYnNlcnZlci5wdWJsaXNoKFwiaGluZGVyOjp0aXBzXCIpXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuaGluZGVyX3RocmVlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsICgpPT57XHJcbiAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiaGluZGVyOjp0aXBzXCIpXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMucmVjZWl2ZVBlbmd1aW4ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCk9PntcclxuICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJwb3A6OnJhbmtcIiwgbWVzc2FnZUNlbnRlciwgMyk7XHJcblxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG5cclxuICAvLyDnu4jngrnkvY3nva4o6Ieq5YqoOumaj+acuueahOS9jee9rizmiYvliqg66byg5qCH54K55Ye755qE5L2N572uKVxyXG4gIHRvUG9zKGlzQXV0bykge1xyXG4gICAgbGV0IHBvc1gsIHBvc1ksIHN0YWdlWCwgc3RhZ2VZO1xyXG5cclxuICAgIGlmKGlzQXV0byl7XHJcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMucmFuZG9tUGVuZ3VpblBvcyhpc0F1dG8pO1xyXG4gICAgICAgIHBvc1ggPSBwb3Muc3RhZ2VfeDtcclxuICAgICAgICBwb3NZID0gcG9zLnN0YWdlX3k7XHJcblxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcG9zWCA9IHRoaXMucG9zWDtcclxuICAgICAgICBwb3NZID0gdGhpcy5wb3NZLSBNYXRoLmNlaWwoTGF5YS5zdGFnZS5oZWlnaHQvNzUwKjIxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJue3Bvc1gsIHBvc1l9XHJcbiAgfVxyXG5cclxuICAvLyDot6/lvoTnrpfms5XjgIFcclxuXHJcbiAgd2F5Um91dGVIYW5kbGVyKGlzQXV0bykge1xyXG4gICAgaWYoIXRoaXMuZ29QZW5ndWluKXtcclxuICAgICAgY29uc29sZS5sb2coXCLmsqHmnInlj5bliLDkvIHpuYXnsbvlnotcIik7XHJcbiAgICAgIHRoaXMuZXJyb3JIYW5kbGVyKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBwb3NYLCBwb3NZLCBzdGFnZVgsIHN0YWdlWTtcclxuICAgIGxldCB0b1BvcyA9IHRoaXMudG9Qb3MoaXNBdXRvKTtcclxuXHJcbiAgICBwb3NYID0gdG9Qb3MucG9zWDtcclxuICAgIHBvc1kgPSB0b1Bvcy5wb3NZO1xyXG5cclxuICAgIGxldCBmcm9tID0ge3g6IE1hdGguZmxvb3IodGhpcy5kaWdQZW5ndWluLngpLTU3ICwgeTogTWF0aC5mbG9vcih0aGlzLmRpZ1Blbmd1aW4ueSl9LCAgICAgICAgICAgICAvL+i1t+eCuVxyXG4gICAgICAgIHRvID0gICB7eDogcG9zWC01NywgeTogcG9zWX0sICAgICAgICAgICAgICAgIC8v57uI54K5XHJcbiAgICAgICAgYmFzZSA9IDMuNTtcclxuXHJcbiAgICB0aGlzLndheXJvdXRlID0gUGVuZ3VpbldhbGsoZnJvbSAsdG8pOyAgICAgICAgLy/ot6/lvoRcclxuXHJcbiAgICB0aGlzLmlzR2FtZWluZyA9IHRydWU7XHJcbiAgICBpZih0aGlzLndheXJvdXRlLmxlbmd0aD4wKXtcclxuICAgICAgbGV0IF9kaXJlY3Rpb24gPSBbXTtcclxuICAgICAgLy8gdGhpcy5nb1Blbmd1aW4ucGxheSgnbm9ybWFsJywgdHJ1ZSk7XHJcbiAgICAgIGxldCBsb29wTW92ZSA9ICgpPT57XHJcblxyXG4gICAgICAgICAgbGV0IGZpcnN0V2F5ID0gdGhpcy53YXlyb3V0ZS5zcGxpY2UoMCwxKSxcclxuICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBmaXJzdFdheVswXS5kLFxyXG4gICAgICAgICAgICAgIF94ID0gZmlyc3RXYXlbMF0ueCs1NyxcclxuICAgICAgICAgICAgICBfeSA9IGZpcnN0V2F5WzBdLnk7XHJcblxyXG4gICAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdydW4nKTtcclxuICAgICAgICAgIGlmKF9kaXJlY3Rpb24uaW5jbHVkZXMoZGlyZWN0aW9uKSl7XHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICBfZGlyZWN0aW9uLnB1c2goZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICB0aGlzLmdvUGVuZ3Vpbi5wbGF5KGAke2RpcmVjdGlvbn1gLCB0cnVlKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyDmlrnlkJHlpITnkIZcclxuICAgICAgICAgIGxldCByb3V0ZXJIYW5kbGVyID0gKCk9PntcclxuICAgICAgICAgICAgICBpZiggdGhpcy53YXlyb3V0ZS5sZW5ndGggPiAwICl7XHJcbiAgICAgICAgICAgICAgICAgIGxvb3BNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy53YXlyb3V0ZS5sZW5ndGggPT09IDAgJiYgIHRoaXMuaXNHYW1laW5nKXtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5nb1Blbmd1aW4ucGxheSgnZGlnJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoYGRpZ18ke3RoaXMudHlwZX1gLDIpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWIsOi+vuebrueahOWcsO+8jOaMluWdkVwiKTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5EaWdLZW5nKF94LCBfeSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8v5a6a5pe25Zmo5aSE55CGXHJcbiAgICAgICAgIC8qIGxldCBhcnJEID0gWydsdScsICdydScsJ2xkJywgJ3JkJ107XHJcbiAgICAgICAgICBhcnJELmZvckVhY2goIChpdGVtKT0+e1xyXG4gICAgICAgICAgICAgaWYoaXRlbSA9PSBkaXJlY3Rpb24pe3RpbWVyID0gNzA7fWVsc2V7dGltZXIgPSA1MH0gICAgLy/mlpznnYDotbDml7bpl7TvvJo1MCoxLjRcclxuICAgICAgICAgIH0pKi9cclxuICAgICAgICAgLyogaWYoZGlyZWN0aW9uID09ICdsdScgfHwgZGlyZWN0aW9uPT0gJ3J1JyB8fCAgZGlyZWN0aW9uPT0gJ2xkJyB8fCAgZGlyZWN0aW9uPT0gJ3JkJyl7YmFzZT0gMC41NTtcclxuICAgICAgICAgIH1lbHNle2Jhc2U9IDAuNTt9Ki9cclxuXHJcbiAgICAgICAgICBsZXQgdGltZXJIYW5kbGVyID0gKCk9PntcclxuICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMTAwMC82MCwgbnVsbCwgKCk9PntcclxuICAgICAgICAgICAgICAgIHJvdXRlcigpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8g6KGM6LWw5pa55ZCRXHJcbiAgICAgICAgICBsZXQgcm91dGVyID0oKT0+e1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3UnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWdQZW5ndWluLnkgLT0gYmFzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlnUGVuZ3Vpbi55IDw9IF95ICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdyJzpcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlnUGVuZ3Vpbi54ICs9IGJhc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRpZ1Blbmd1aW4ueCA+PSBfeCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lckhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWdQZW5ndWluLnkgKz0gYmFzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlnUGVuZ3Vpbi55Pj0gX3kgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVySGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpZ1Blbmd1aW4ueCAtPSBiYXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kaWdQZW5ndWluLnggPD0gX3ggKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVySGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbHUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWdQZW5ndWluLnggLT0gYmFzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlnUGVuZ3Vpbi55IC09IGJhc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRpZ1Blbmd1aW4ueCA8PSBfeCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lckhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3J1JzpcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlnUGVuZ3Vpbi54ICs9IGJhc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpZ1Blbmd1aW4ueSAtPSBiYXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kaWdQZW5ndWluLnggPj0gX3gpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdsZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpZ1Blbmd1aW4ueCAtPSBiYXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWdQZW5ndWluLnkgKz0gYmFzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlnUGVuZ3Vpbi54IDw9IF94KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVySGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAncmQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWdQZW5ndWluLnggKz0gYmFzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlnUGVuZ3Vpbi55ICs9IGJhc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRpZ1Blbmd1aW4ueCA+PSBfeCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lckhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByb3V0ZXIoKTtcclxuICAgICAgfVxyXG4gICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ3J1bmJlYWsnKTtcclxuICAgICAgbG9vcE1vdmUoKTtcclxuXHJcbiAgICB9ZWxzZXtcclxuICAgICAgaWYodGhpcy5jb2RlICE9PSAwKSByZXR1cm47XHJcbiAgICAgIHRoaXMuZ29QZW5ndWluLnBsYXkoJ2RpZycsIGZhbHNlKTtcclxuICAgICAgdGhpcy5EaWdLZW5nKHBvc1gsIHBvc1kpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgfVxyXG5cclxuICAvLyDlvIDlp4vkuIvkuIDlsYDlj5HpgIHlkb3ku6RcclxuICBlbWl0KCkge1xyXG4gICAgbGV0IHVzZXJfaW5wdXRfdGV4dCA9IEJvdHRvbVVJVmlldy5nZXRJbnN0YW5jZSgpLmNvbmZpZy51c2VyX2lucHV0X3RleHQ7XHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2FtZTo6c3RhcnQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuaJi+WKqOaMluWunVwiKTtcclxuICAgICAgICBpZiAodGhpcy5jb2RlID09PSAwKSB7XHJcbiAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoJ2JldCcsIHsgYW1vdW50OiB1c2VyX2lucHV0X3RleHQsIGlzQXV0bzogMCB9KTtcclxuICAgICAgICB9XHJcbiAgfVxyXG5cclxuICBnZW1lU3RhcnQoKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIuS4jeeUqOW7tui/n+WkhOeQhlwiKTtcclxuICAgICAvLyBMYXlhLnRpbWVyLmxvb3AoMTAwMCwgdGhpcywgdGhpcy5hZGRMb2FkaW5nVGltZUhhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgZXJyb3JIYW5kbGVyKCkge1xyXG4gICAgIGxldCByZWxvYWQgPSAoKSA9PiB7IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSB9O1xyXG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2NvbW1vbjo6dGlwcycsICfkv6Hlj7fkuI3lpb3vvIzor7fnqI3lkI7ph43or5V+JywgcmVsb2FkICwgcmVsb2FkKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBhZGRMb2FkaW5nVGltZUhhbmRsZXIoKSB7XHJcbiAgICAgdGhpcy5sb2FkaW5nVGltZSsrO1xyXG4gICAgICAgLy8g5pe26Ze06L+H5LmFXHJcbiAgICAgIGlmICh0aGlzLmxvYWRpbmdUaW1lID4gMTUpIHtcclxuICAgICAgICB0aGlzLmVycm9ySGFuZGxlcigpO1xyXG4gICAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLy8g5oyW5Z2RXHJcbiAgRGlnS2VuZyhwb3NYLHBvc1kpIHtcclxuICAgIHRoaXMubW92aW5nRW5kID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgbGV0IGRlbGF5ID0gZmFsc2U7XHJcblxyXG4gICAgbGV0IHNpemVLZW5nID0ge1xyXG4gICAgICAgICAgICB4OiBwb3NYLFxyXG4gICAgICAgICAgICB5OiBwb3NZKzUsXHJcbiAgICAgICAgICAgIGFuY2hvclg6IDAuNSxcclxuICAgICAgICAgICAgYW5jaG9yWTogMFxyXG4gICAgfVxyXG4gICAgaWYodGhpcy50eXBlID09PSAzKXtcclxuICAgICAgc2l6ZUtlbmcueSA9IHBvc1kgKyAxNTtcclxuICAgIH1cclxuICAgIGxldCBrZW5nQW5pID0gY3JlYXRlU2tlbGV0b24oJ2ltYWdlcy9hbmltYXRlL2tlbmcnKTtcclxuICAgIHRoaXMuYWRkQ2hpbGRBdChrZW5nQW5pLCAxKTtcclxuICAgIGtlbmdBbmkuc2V0KHNpemVLZW5nKTtcclxuICAgIGtlbmdBbmkucGxheShga2VuZ19kaWdfJHt0aGlzLnR5cGV9YCwgZmFsc2UpO1xyXG5cclxuICAgIGtlbmdBbmkub25jZShMYXlhLkV2ZW50LlNUT1BQRUQsIHRoaXMsICgpPT57XHJcbiAgICAgIGlmKHRoaXMucmVzdWx0X2RhdGEubGVuZ3RoID4gMCAmJiB0aGlzLmNvZGUgPT09MCAmJiAhZGVsYXkpe1xyXG4gICAgICAgIGRlbGF5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRyZWFzdXJlUG9zLnB1c2goe3g6cG9zWCwgeTpwb3NZfSk7ICAgLy/lrp3ol4/nmoTkvY3nva5cclxuICAgICAgICB0aGlzLmJldEhhbmRsZXIoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgTGF5YS50aW1lci5vbmNlKDQwMCwgdGhpcywgKCk9PntcclxuICAgICAgICBpZih0aGlzLnJlc3VsdF9kYXRhLmxlbmd0aCA+IDAgJiYgIHRoaXMuY29kZSA9PT0wICYmICFkZWxheSl7XHJcbiAgICAgICAgICAgIGRlbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy50cmVhc3VyZVBvcy5wdXNoKHt4OnBvc1gsIHk6cG9zWX0pOyAgIC8v5a6d6JeP55qE5L2N572uXHJcbiAgICAgICAgICAgIHRoaXMuYmV0SGFuZGxlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBrZW5nQW5pLnBsYXkoYGtlbmdfc3R1ZmZfJHt0aGlzLnR5cGV9YCwgZmFsc2UpO1xyXG4gICAgICAgIGtlbmdBbmkub25jZShMYXlhLkV2ZW50LlNUT1BQRUQsIHRoaXMsICgpPT57XHJcbiAgICAgICAgICBpZih0aGlzLnJlc3VsdF9kYXRhLmxlbmd0aCA+IDAgJiYgdGhpcy5jb2RlID09PTAgJiYgIWRlbGF5KXtcclxuICAgICAgICAgICAgICAgZGVsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHRoaXMudHJlYXN1cmVQb3MucHVzaCh7eDpwb3NYLCB5OnBvc1l9KTsgICAvL+WuneiXj+eahOS9jee9rlxyXG4gICAgICAgICAgICAgIHRoaXMuYmV0SGFuZGxlcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAga2VuZ0FuaS5kZXN0cm95KCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAvLyDnu5Pmnpzov4fmnaXkuoZcclxuICByZXN1bHRDb21lKGRhdGEpIHtcclxuIC8qICAgbGV0IGRhdGEgPXtcclxuICAgICAgXCJjbWRcIjogXCJiZXRcIixcclxuICAgICAgXCJjb2RlXCI6IDUsXHJcbiAgICAgIFwicmVzXCI6IHtcclxuICAgICAgICAgIFwid2luQW1vdW50XCI6IDE1LFxyXG4gICAgICAgICAgXCJxdWVlbkFtb3VudFwiOiAwLFxyXG4gICAgICAgICAgXCJzdWJBbW91bnRcIjogMTUsXHJcbiAgICAgICAgICBcInRyaWdnZXJcIjogMCxcclxuICAgICAgICAgIFwibGlzdFwiOiBbXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCLpu5Hpk4FcIixcclxuICAgICAgICAgICAgICAgICAgXCJhbW91bnRcIjogNSxcclxuICAgICAgICAgICAgICAgICAgXCJjbnRcIjogMyxcclxuICAgICAgICAgICAgICAgICAgXCJub1wiOiAyXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICB9XHJcbiAgICB9Ki9cclxuICAgIHRoaXMuY29kZSA9IE51bWJlcihkYXRhLmNvZGUpO1xyXG4gICAgdGhpcy5yZXN1bHRfZGF0YS5wdXNoKGRhdGEucmVzKTtcclxuXHJcbiAgICB0aGlzLmxvYWRpbmdUaW1lID0gMDtcclxuXHJcbiAgICAvLyDplJnor6/lpITnkIZcclxuICAgIGlmIChDb21tb25HYW1lTW9kdWxlLmdldEluc3RhbmNlKCkuZXJyb3JIYW5kbGVyKGRhdGEpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLov5Tlm57plJnor69jb2Rl56CBXCIpO1xyXG4gICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ3dhbGs6OnN0b3AnKTtcclxuICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdnYW1lOjpyZXNldCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH07XHJcblxyXG4gICAgLy8g5oqV5biB5oiQ5YqfXHJcbiAgICBvYnNlcnZlci5wdWJsaXNoKCdiZXQ6OnN1Y2Nlc3MnKTtcclxuXHJcbiAgfVxyXG5cclxuICBiZXRIYW5kbGVyKCkge1xyXG4gICAgICBsZXQgdHJlYXN1cmVQb3MgPSB0aGlzLnRyZWFzdXJlUG9zWzBdO1xyXG4gICAgICBsZXQgZGF0YVJlc3VsdCA9IHRoaXMucmVzdWx0X2RhdGFbMF07XHJcblxyXG4gICAgICB0aGlzLmlzQ2xpY2sgPSBmYWxzZTtcclxuICAgICAgdGhpcy50cmVhc3VyZVBvcy5zcGxpY2UoMCwgMSk7XHJcblxyXG4gICAgICBpZihkYXRhUmVzdWx0LndpbkFtb3VudCA+IDApe1xyXG4gICAgICAgICAgdGhpcy53aW5BbW91bnRIYW5kbGVyKGRhdGFSZXN1bHQgLCB0cmVhc3VyZVBvcyk7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyDmsqHmnInkuK3lpZbosIPkuIDkuItcclxuICAgICAgICAgIENvbW1vbkdhbWVNb2R1bGUuZ2V0SW5zdGFuY2UoKS5qaXVqaWppbigpO1xyXG4gICAgICAgICAgdGhpcy5ub3dpbkhhbmRsZXIoKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm5leHREaWcoKTtcclxuICB9XHJcblxyXG4gIC8v5rKh5pyJ5Lit5aWW55qE5LyB6bmF6KGo5oOFXHJcbiAgbm93aW5IYW5kbGVyKCkge1xyXG4gICAgICBsZXQgcmFuZG9tID0gTWF0aC5yYW5kb20oKSA7XHJcbiAgICAgIC8vIGxldCByYW5kb20gPSAwLjQgO1xyXG4gICAgICAgIGlmKCF0aGlzLmlzQ2xpY2spe1xyXG4gICAgICAgICAgaWYocmFuZG9tID49IDAuMyAmJiByYW5kb208MC40KXtcclxuICAgICAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdiaWFuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ29QZW5ndWluLnBsYXkoJ2NyeV8yJywgdHJ1ZSk7ICAgIC8v5oSk5oCSXHJcbiAgICAgICAgICB9ZWxzZSBpZihyYW5kb20gPj0gMC40ICYmIHJhbmRvbTwwLjUpe1xyXG4gICAgICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ3poYScpO1xyXG4gICAgICAgICAgICB0aGlzLmdvUGVuZ3Vpbi5wbGF5KCd6aGEnLCB0cnVlKTsgICAgLy/ooqvngrhcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmdvUGVuZ3Vpbi5wbGF5KCdjcnlfMScsIHRydWUpOyAgICAvL+mavui/h1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kb21fcmVjZWl2ZS5wbGF5KFwiY3J5XCIsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyB0aGlzLnJlc3VsdF9kYXRhLnNwbGljZSgwLCAxKTtcclxuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMTAwMCwgdGhpcywgKCk9PntcclxuICAgICAgICAgICAgdGhpcy5nYW1lTmV4dCh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v5Lit5aWW6YeR6aKd5YiG6YWN5bGV56S6XHJcbiAgd2luQW1vdW50SGFuZGxlcihkYXRhUmVzdWx0ICwgdHJlYXN1cmVQb3MpIHtcclxuICAgIC8vIGxldCBfZGF0YVJlc3VsdCA9IGRhdGFSZXN1bHQgO1xyXG4gICAgbGV0IGFtb3VudExpc3QgICA9IGRhdGFSZXN1bHQubGlzdDtcclxuXHJcbiAgICBpZihkYXRhUmVzdWx0LnN1YkFtb3VudCA+IDApe1xyXG4gICAgICBsZXQgdGltZSA9IDA7XHJcblxyXG4gICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IGFtb3VudExpc3QubGVuZ3RoIDsgaSsrKXtcclxuICAgICAgICBsZXQgY250ID0gYW1vdW50TGlzdFtpXS5jbnQ7XHJcbiAgICAgICAgbGV0IG51bSA9IGFtb3VudExpc3RbaV0ubm8gO1xyXG4gICAgICAgIGxldCBhbW91bnQgPSBhbW91bnRMaXN0W2ldLmFtb3VudCA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY250OyBqKyspeyAgLy8g5Liq5pWw5aSn5LqOMVxyXG4gICAgICAgICAgbGV0IGlzUmVjZWl2ZSA9IChqID09IGNudC0xICYmIGkgPT0gYW1vdW50TGlzdC5sZW5ndGgtMSkgPyAxIDogMDtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICAgICAgICB0aGlzLnNpbmdsZUFtb3VudEhhbmRsZXIoZGF0YVJlc3VsdCAsIG51bSxhbW91bnQsIHRyZWFzdXJlUG9zLCBpc1JlY2VpdmUpO1xyXG4gICAgICAgICAgIH0sIHRpbWUqMjgwKTtcclxuICAgICAgICAgICArK3RpbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgdGhpcy5xdWVlbkhhbmRsZXIoZGF0YVJlc3VsdCwgdHJlYXN1cmVQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkucGxheSgncmVjZWl2ZScpO1xyXG4gICAgdGhpcy5kb21fcmVjZWl2ZS5wbGF5KFwiaGFwcHlcIix0cnVlKTtcclxuXHJcbiAgICBpZighdGhpcy5pc0NsaWNrKXtcclxuICAgICAgdGhpcy5nb1Blbmd1aW4ucGxheSgnaGFwcHknLCB0cnVlKTsgICAgLy/lvIDlv4NcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBxdWVlbkhhbmRsZXIoZGF0YVJlc3VsdCAsIHRyZWFzdXJlUG9zKSB7XHJcbiAgICBsZXQgX3ggPSB0cmVhc3VyZVBvcy54O1xyXG4gICAgbGV0IF95ID0gdHJlYXN1cmVQb3MueS0xODA7XHJcblxyXG4gICAgbGV0IHF1ZWVuQW1vdW50ID0gZGF0YVJlc3VsdC5xdWVlbkFtb3VudDtcclxuXHJcbiAgICBpZihxdWVlbkFtb3VudCA+MCApe1xyXG4gICAgICAgIGxldCBjcm93bkFuaSA9IGNyZWF0ZVNrZWxldG9uKCdpbWFnZXMvYW5pbWF0ZS93aW5fcXVlZW4nKTsgIC8v5Zu+5qGIXHJcbiAgICAgICAgbGV0IHNpemVDcm93biA9IHtcclxuICAgICAgICAgICAgICBzY2FsZVg6MCxcclxuICAgICAgICAgICAgICBzY2FsZVk6MCxcclxuICAgICAgICAgICAgICB4OiB0cmVhc3VyZVBvcy54LFxyXG4gICAgICAgICAgICAgIHk6IHRyZWFzdXJlUG9zLnkgLSAxMFxyXG4gICAgICAgIH1cclxuICAgICAgICBjcm93bkFuaS5zZXQoc2l6ZUNyb3duKTtcclxuICAgICAgICB0aGlzLmFkZENoaWxkKGNyb3duQW5pLDEpO1xyXG4gICAgICAgIGNyb3duQW5pLnBsYXkoXCJsaWdodFwiLCBmYWxzZSk7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byhjcm93bkFuaSwge3NjYWxlWDoxLCBzY2FsZVk6MSwgeDpfeCwgIHk6X3l9LDUwMCwgTGF5YS5FYXNlLmJhY2tPdXQsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKCk9PntcclxuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDgwMCwgdGhpcywgKCk9PntcclxuICAgICAgICAgICAgICAgIGNyb3duQW5pLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGFSZXN1bHQuc3ViQW1vdW50ID09PTAgKXtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmsqHmnInlrp3ol4/vvIzmiY3lj5HluINcIik7XHJcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJwb3A6OnF1ZWVuXCIsIHF1ZWVuQW1vdW50LCAoKT0+e3RoaXMuZ2FtZU5leHQoKX0pO1xyXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXRBamF4KCd1c2VyQWNjb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v5Y2V5Liq5Lit5aWW5Zu+5qGI5aSE55CGXHJcbiAgc2luZ2xlQW1vdW50SGFuZGxlcihkYXRhUmVzdWx0LCBudW0sIGFtb3VudCwgdHJlYXN1cmVQb3MsIGlzUmVjZWl2ZSkge1xyXG4gICAgbGV0IF9udW0gPSBudW0sXHJcbiAgICAgICAgX2Ftb3VudCA9IGFtb3VudDtcclxuXHJcbiAgICBsZXQgYW1vdW50Qm94ID0gIG5ldyBMYXlhLkJveCgpO1xyXG4gICAgbGV0IHNpemVCb3ggPSB7XHJcbiAgICAgIHdpZHRoOiAxNTAsXHJcbiAgICAgIGhlaWdodDogODAsXHJcbiAgICAgIGFuY2hvclg6MC41LFxyXG4gICAgICBzY2FsZVg6MCxcclxuICAgICAgc2NhbGVZOjAsXHJcbiAgICAgIHg6IHRyZWFzdXJlUG9zLngsXHJcbiAgICAgIHk6IHRyZWFzdXJlUG9zLnkgLSAxNjBcclxuICAgIH1cclxuXHJcbiAgICBhbW91bnRCb3guc2V0KHNpemVCb3gpO1xyXG5cclxuICAgIGxldCBzaW5nbGVBbW91bnQgPSBuZXcgTGF5YS5MYWJlbCgpOyAgLy/ljZXku7dcclxuICAgIGxldCBzaXplU2luZ2xlQW1vdW50ID0ge1xyXG4gICAgICBoZWlnaHQ6IDMwLFxyXG4gICAgICBjZW50ZXJYOiAwLjUsXHJcbiAgICAgIHk6ODUsXHJcbiAgICAgIGZvbnQ6IFwiQXJpYWxcIixcclxuICAgICAgZm9udFNpemUgOjI4LFxyXG4gICAgICBjb2xvcjpcIiM5NjRhMDBcIixcclxuICAgICAgYm9sZDogdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIHNpbmdsZUFtb3VudC5zZXQoc2l6ZVNpbmdsZUFtb3VudCk7XHJcbiAgICBsZXQgc2l6ZVNpbmdsZUFuaSA9IHtcclxuICAgICAgICBjZW50ZXJYOiAwLjUsXHJcbiAgICAgICAgeTogMjBcclxuICAgIH1cclxuICAgIGxldCBzaW5nbGVBbmkgPSBuZXcgTGF5YS5JbWFnZSgpOyAgIC8v5Zu+5qGIXHJcbiAgICBzaW5nbGVBbmkuc2tpbiA9IGBpbWFnZXMvcm9vbS93aW5fJHtfbnVtfS5wbmdgO1xyXG4gICAgc2luZ2xlQW5pLnNldChzaXplU2luZ2xlQW5pKTtcclxuXHJcbiAgICBzaW5nbGVBbW91bnQudGV4dCA9ICcrJythbW91bnQ7XHJcbiAgICBhbW91bnRCb3guYWRkQ2hpbGQoc2luZ2xlQW1vdW50KTtcclxuICAgIGFtb3VudEJveC5hZGRDaGlsZChzaW5nbGVBbmkpO1xyXG4gICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCd3aW4nKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQoYW1vdW50Qm94KTtcclxuICAgIHRoaXMuc2luZ2xlU2hvdyhkYXRhUmVzdWx0ICwgYW1vdW50Qm94LCBzaW5nbGVBbmksIHNpbmdsZUFtb3VudCwgdHJlYXN1cmVQb3MsIGlzUmVjZWl2ZSk7XHJcbiAgfVxyXG5cclxuICAvL+WNleS4quS4reWlluWbvuahiOW8ueWHuuWKqOaViFxyXG4gIHNpbmdsZVNob3coZGF0YVJlc3VsdCAsIGFtb3VudEJveCwgc2luZ2xlQW5pLCBzaW5nbGVBbW91bnQsIHRyZWFzdXJlUG9zLCBpc1JlY2VpdmUpIHtcclxuICAgIGxldCBfYW1vdW50Qm94ID0gYW1vdW50Qm94LFxyXG4gICAgICAgIF9zaW5nbGVBbmkgPSBzaW5nbGVBbmksXHJcbiAgICAgICAgX3NpbmdsZUFtb3VudCA9IHNpbmdsZUFtb3VudDtcclxuXHJcbiAgICBsZXQgcmFuZG9tWCAsIHJhbmRvbVkgLCBjb3VudGVyID0gMDtcclxuXHJcbiAgICBsZXQgX3ggPSB0cmVhc3VyZVBvcy54O1xyXG4gICAgbGV0IF95ID0gdHJlYXN1cmVQb3MueS0yMzA7XHJcbiAgICByYW5kb21YID0gdGhpcy5nZXRSYW5kb20oX3gtNzAsIF94ICsgNzApOyAgICAvL+maj+acuuaOieiQveS9jee9rnhcclxuICAgIHJhbmRvbVkgPSB0aGlzLmdldFJhbmRvbShfeSwgX3kgLSA0MCk7ICAgICAgICAgLy/pmo/mnLrmjonokL3kvY3nva55XHJcblxyXG4gICAgLy8g6aOe6Iez5o6l5a6d5LyB6bmFXHJcbiAgICBsZXQgc2luZ2xlRmx5ID0gKCk9PntcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgX3NpbmdsZUFtb3VudC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFuaW1hdGVfYmV6aWVyX21vdmUoX2Ftb3VudEJveCx7eDpyYW5kb21YLCB5OnJhbmRvbVl9LHt4OjExMjAseTo5NX0sMTYwLCgpID0+IHtcclxuICAgICAgICAgICAgICAgIF9zaW5nbGVBbmkudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgX2Ftb3VudEJveC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmKGlzUmVjZWl2ZSl7XHJcbiAgICAgICAgICAgIHRoaXMucXVlZW5IYW5kbGVyKGRhdGFSZXN1bHQgLCB0cmVhc3VyZVBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZUhhbmRsZXIoZGF0YVJlc3VsdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwzNTApO1xyXG4gICAgfVxyXG5cclxuICAgIExheWEuVHdlZW4udG8oX2Ftb3VudEJveCwge3NjYWxlWDoxLCBzY2FsZVk6MSwgeDpyYW5kb21YLCB5OnJhbmRvbVl9LDEwMCwgTGF5YS5FYXNlLmJhY2tPdXQsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgc2luZ2xlRmx5KSk7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8g5o6l5a6d5LyB6bmFXHJcbiAgcmVjZWl2ZUhhbmRsZXIoZGF0YVJlc3VsdCkge1xyXG4gICAgICBsZXQgX2RhdGFSZXN1bHQgPSBkYXRhUmVzdWx0O1xyXG4gICAgLy8g5aSE55CG5LyB6bmF6K+d5pyvXHJcbiAgICAgIGxldCBjYWxsYmFjayA9ICgpPT57XHJcbiAgICAgICAgICBsZXQgcmFuZG9tID0gTWF0aC5yYW5kb20oKSA7XHJcblxyXG4gICAgICAgICAgbGV0IGNiUXVlZW4gPSAoKT0+e1xyXG4gICAgICAgICAgICAgIGxldCBxdWVlbkFtb3VudCA9IF9kYXRhUmVzdWx0LnF1ZWVuQW1vdW50O1xyXG4gICAgICAgICAgICAgIGlmKHF1ZWVuQW1vdW50ID4wICl7XHJcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goXCJwb3A6OnF1ZWVuXCIsIHF1ZWVuQW1vdW50LCAoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTmV4dCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBsZXQgY2IgPSAoX2luZGV4KT0+e1xyXG4gICAgICAgICAgICAvLyBUT0RPOuaNouaIkOWxgOmDqFxyXG4gICAgICAgICAgICAgIGxldCB0YWxrID0gY3JlYXRlU2tlbGV0b24oJ2ltYWdlcy9hbmltYXRlL3RhbGsnKTsgICAvL+ivtOivnVxyXG4gICAgICAgICAgICAgICAgdGFsay54ID0gMTA2NjtcclxuICAgICAgICAgICAgICAgIHRhbGsueSA9IDUwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZEF0KHRhbGssIDEpO1xyXG4gICAgICAgICAgICAgICAgdGFsay56T3JkZXIgPSAxMDAwO1xyXG4gICAgICAgICAgICAgICAgdGFsay52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRhbGsucGxheShgdGFsa18ke19pbmRleH1gLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoODAwLCB0aGlzLCAoKT0+e1xyXG4gICAgICAgICAgICAgICAgICB0YWxrLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgY2JRdWVlbigpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZihyYW5kb20gPj0gMC4yICYmIHJhbmRvbTwwLjM1KXtcclxuICAgICAgICAgICAgY2IoMSk7XHJcbiAgICAgICAgICB9ZWxzZSBpZihyYW5kb20gPj0gMC4zNSAmJiByYW5kb208MC41KXtcclxuICAgICAgICAgICAgY2IoMik7XHJcbiAgICAgICAgICB9ZWxzZSBpZihyYW5kb20gPj0gMC41ICYmIHJhbmRvbTwwLjY1KXtcclxuICAgICAgICAgICAgY2IoMyk7XHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDgwMCwgdGhpcywgKCk9PntcclxuICAgICAgICAgICAgICBjYlF1ZWVuKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8v5aSE55CG6YeR6aKdXHJcbiAgICAgIGxldCB0b3RhbEFtb3VudCA9IG5ldyBMYXlhLkxhYmVsKCk7ICAgICAgICAgICAgICAgICAgICAgLy/mipXluIHph5Hpop1cclxuICAgICAgdG90YWxBbW91bnQuZm9udCA9IFwibmV3X2ZvbnRcIjtcclxuICAgICAgdG90YWxBbW91bnQueCA9IDExMzg7XHJcbiAgICAgIHRvdGFsQW1vdW50LnkgPSAyNzA7XHJcbiAgICAgIHRvdGFsQW1vdW50LnNjYWxlWCA9IDA7XHJcbiAgICAgIHRvdGFsQW1vdW50LnNjYWxlWSA9IDA7XHJcblxyXG4gICAgICB0b3RhbEFtb3VudC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgIHRvdGFsQW1vdW50LnRleHQgPSAnKycrIF9kYXRhUmVzdWx0LnN1YkFtb3VudDtcclxuICAgICAgaWYoZGF0YVJlc3VsdC5zdWJBbW91bnQgPiAwKSB7XHJcbiAgICAgICAgIHRvdGFsQW1vdW50LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmFkZENoaWxkKHRvdGFsQW1vdW50KTtcclxuICAgICAgdG90YWxBbW91bnQuek9yZGVyID0gOTk5O1xyXG4gICAgICBMYXlhLlR3ZWVuLnRvKHRvdGFsQW1vdW50LCB7eTogMjIwLCBzY2FsZVg6MSwgc2NhbGVZOjF9LCA0MDAsIExheWEuRWFzZS5iYWNrT3V0LCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpPT57XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDYwMCwgdGhpcywgKCk9PntcclxuICAgICAgICAgIHRvdGFsQW1vdW50LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgIHRvdGFsQW1vdW50LnNjYWxlKDAsMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXRBamF4KCd1c2VyQWNjb3VudCcpO1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH0pKTtcclxuICB9XHJcblxyXG4gIC8vIOa4uOaIj+S4i+S4gOatpVxyXG4gIGdhbWVOZXh0KGZsYWc9ZmFsc2UpIHtcclxuICAgICAgbGV0IGJvdHRvbSA9IEJvdHRvbVVJVmlldy5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICBvYnNlcnZlci5wdWJsaXNoKFwiZ2FtZTo6c3RvcFwiKTtcclxuICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgLy8g5b2T5bGA57uT5p2fXHJcbiAgICAgIHRoaXMuaXNSZXNldChmbGFnKTtcclxuICAgICAgaWYgKGJvdHRvbS5jb25maWcuZ2FtZVN0YXR1cyA9PT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDgwMCwgbnVsbCwgKCk9PntcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiYm90dG9tLmNvbmZpZy5hdXRvVGltZXNcIiwgYm90dG9tLmNvbmZpZy5hdXRvVGltZXMpO1xyXG4gICAgICAgICAgaWYoYm90dG9tLmNvbmZpZy5hdXRvVGltZXMgIT09IDApe1xyXG4gICAgICAgICAgICBib3R0b20ucmVuZGVyU3RhcnRCdG5TdGF0dXMoJ2F1dG8nLCBib3R0b20uY29uZmlnLmF1dG9UaW1lcyk7XHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgYm90dG9tLnJlbmRlclN0YXJ0QnRuU3RhdHVzKCdyZWFkeScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuLy/muLjmiI/nu6fnu61cclxuICBuZXh0RGlnKCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIuS4i+S4gOWxgOaMluWunVwiKTtcclxuICAgICAgdGhpcy5pc0dhbWVpbmcgPSBmYWxzZTtcclxuICAgICAgdGhpcy5tb3ZpbmdFbmQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5pc0NsaWNrID0gZmFsc2U7XHJcbiAgICAgIHRoaXMud2F5cm91dGUgPSBbXTtcclxuICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgIHRoaXMucmVzdWx0X2RhdGEuc3BsaWNlKDAsIDEpO1xyXG4gIH1cclxuXHJcbiAgLy8g5oyW5a6d57uT5p2f6YeN572uXHJcbiAgaXNSZXNldChmbGFnKSB7XHJcbiAgICAvKiAgaWYoIWZsYWcpIHtcclxuICAgICAgICB0aGlzLnJlc3VsdF9kYXRhLnNwbGljZSgwLCAxKTtcclxuICAgICAgfSovXHJcbiAgICAgIGlmICh0aGlzLmNvZGUgIT0gMCkge1xyXG4gICAgICAgICAgdGhpcy5pc0dhbWVpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuaXNDbGljayA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5tb3ZpbmdFbmQgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMud2F5cm91dGUgPSBbXTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMuaXNHYW1laW5nICYmIHRoaXMuZ29QZW5ndWluKSB7XHJcbiAgICAgICAgdGhpcy5nb1Blbmd1aW4ucGxheSgnbm9ybWFsJywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5kb21fcmVjZWl2ZS5wbGF5KFwibm9ybWFsXCIsIHRydWUpO1xyXG4gICAgICB0aGlzLmNvZGUgPSAwO1xyXG4gICAgICB0aGlzLmlzQ29tcGxldGUgPSBmYWxzZTsgLy/kuIDlsYDmuLjmiI/nu5PmnZ9cclxuICAgICAgdGhpcy5sb2FkaW5nVGltZSA9IDA7XHJcbiAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5hZGRMb2FkaW5nVGltZUhhbmRsZXIpO1xyXG4gIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy91aVNjZW5lL3Blbmd1aW4uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7OztBQWJBOzs7OztBQWNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTEE7QUFNQTtBQUNBOzs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0VBO0FBNkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBQ0E7QUFPQTtBQUFBO0FBTUE7QUFkQTtBQUNBO0FBRUE7QUFBQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBNXZCQTtBQUNBO0FBQ0E7Ozs7QUFYQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 10 */
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./laya_game/src/pop/com/commonPop.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\r\n *  公共弹层\r\n */\nvar CommonTipsPopDialog = exports.CommonTipsPopDialog = function (_commonPopTipsUI) {\n    _inherits(CommonTipsPopDialog, _commonPopTipsUI);\n\n    function CommonTipsPopDialog() {\n        var _ref;\n\n        _classCallCheck(this, CommonTipsPopDialog);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = CommonTipsPopDialog.__proto__ || Object.getPrototypeOf(CommonTipsPopDialog)).call.apply(_ref, [this].concat(args)));\n\n        _this.init();\n        return _this;\n    }\n\n    _createClass(CommonTipsPopDialog, [{\n        key: \"init\",\n        value: function init() {\n            this.initDom();\n\n            this.initConfig();\n\n            this.initEvent();\n        }\n    }, {\n        key: \"registerAction\",\n        value: function registerAction(_ref2) {\n            var messageCenter = _ref2.messageCenter,\n                observer = _ref2.observer;\n\n\n            // 订阅弹层出现\n            observer.subscribe('common::tips', this.myShow.bind(this));\n        }\n    }, {\n        key: \"initDom\",\n        value: function initDom() {\n            // 关闭按钮\n            this.btn_close = this.getChildByName(\"close_btn\");\n\n            // 确定按钮\n            this.btn_sure = this.getChildByName(\"btn_sure\");\n\n            // 确定按钮\n            this.btn_cancle = this.getChildByName(\"btn_cancle\");\n        }\n    }, {\n        key: \"initConfig\",\n        value: function initConfig() {\n            this.config = {\n                limitTime: false, //限制时间\n                popBgHeight: 357,\n                btnSureY: 246\n            };\n\n            this.confirmCallBack = null; //确认回调\n            this.cancelCallBack = null; //取消回调\n        }\n    }, {\n        key: \"initEvent\",\n        value: function initEvent() {\n            var _this2 = this;\n\n            // 关闭按钮\n            this.btn_close.on(Laya.Event.CLICK, this, function () {\n                _this2.cancelCallBack && _this2.cancelCallBack();\n                _this2.myClose();\n            });\n\n            // 确定关闭按钮\n            this.btn_sure.on(Laya.Event.CLICK, this, function () {\n                _this2.confirmCallBack && _this2.confirmCallBack();\n                _this2.myClose();\n            });\n\n            // 取消按钮\n            this.btn_cancle.on(Laya.Event.CLICK, this, function () {\n                _this2.cancelCallBack && _this2.cancelCallBack();\n                _this2.myClose();\n            });\n        }\n    }, {\n        key: \"myShow\",\n        value: function myShow(txt, confirmCallBack, cancelCallBack) {\n\n            this.txt_content.text = txt;\n            this.confirmCallBack = confirmCallBack;\n            this.cancelCallBack = cancelCallBack;\n\n            // 需要取消回调\n            if (cancelCallBack) {\n                window.UIConfig.closeDialogOnSide = false;\n            } else {\n                Laya.timer.once(5000, this, this.myClose);\n            }\n\n            this.popup();\n        }\n    }, {\n        key: \"myClose\",\n        value: function myClose() {\n            this.close();\n            window.UIConfig.closeDialogOnSide = true;\n            this.confirmCallBack = null;\n            this.cancelCallBack = null;\n            Laya.timer.clear(this, this, this.myClose);\n        }\n    }]);\n\n    return CommonTipsPopDialog;\n}(commonPopTipsUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL2NvbW1vblBvcC5qcz9hOGNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqICDlhazlhbHlvLnlsYJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb21tb25UaXBzUG9wRGlhbG9nIGV4dGVuZHMgY29tbW9uUG9wVGlwc1VJIHtcclxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcclxuICAgICAgICBzdXBlciguLi5hcmdzKTtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuaW5pdERvbSgpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRDb25maWcoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0RXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckFjdGlvbih7IG1lc3NhZ2VDZW50ZXIsIG9ic2VydmVyIH0pIHtcclxuXHJcbiAgICAgICAgLy8g6K6i6ZiF5by55bGC5Ye6546wXHJcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdjb21tb246OnRpcHMnLCB0aGlzLm15U2hvdy5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0RG9tKCkge1xyXG4gICAgICAgIC8vIOWFs+mXreaMiemSrlxyXG4gICAgICAgIHRoaXMuYnRuX2Nsb3NlID0gdGhpcy5nZXRDaGlsZEJ5TmFtZShcImNsb3NlX2J0blwiKTtcclxuXHJcbiAgICAgICAgLy8g56Gu5a6a5oyJ6ZKuXHJcbiAgICAgICAgdGhpcy5idG5fc3VyZSA9IHRoaXMuZ2V0Q2hpbGRCeU5hbWUoXCJidG5fc3VyZVwiKTtcclxuXHJcbiAgICAgICAgIC8vIOehruWumuaMiemSrlxyXG4gICAgICAgIHRoaXMuYnRuX2NhbmNsZSA9IHRoaXMuZ2V0Q2hpbGRCeU5hbWUoXCJidG5fY2FuY2xlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIGxpbWl0VGltZTogZmFsc2UsIC8v6ZmQ5Yi25pe26Ze0XHJcbiAgICAgICAgICAgIHBvcEJnSGVpZ2h0OiAzNTcsXHJcbiAgICAgICAgICAgIGJ0blN1cmVZOiAyNDZcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlybUNhbGxCYWNrID0gbnVsbDsgLy/noa7orqTlm57osINcclxuICAgICAgICB0aGlzLmNhbmNlbENhbGxCYWNrID0gbnVsbDsgLy/lj5bmtojlm57osINcclxuICAgIH1cclxuXHJcbiAgICBpbml0RXZlbnQoKSB7XHJcbiAgICAgICAgLy8g5YWz6Zet5oyJ6ZKuXHJcbiAgICAgICAgdGhpcy5idG5fY2xvc2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbENhbGxCYWNrICYmIHRoaXMuY2FuY2VsQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgdGhpcy5teUNsb3NlKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDnoa7lrprlhbPpl63mjInpkq5cclxuICAgICAgICB0aGlzLmJ0bl9zdXJlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb25maXJtQ2FsbEJhY2sgJiYgdGhpcy5jb25maXJtQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgdGhpcy5teUNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOWPlua2iOaMiemSrlxyXG4gICAgICAgIHRoaXMuYnRuX2NhbmNsZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsQ2FsbEJhY2sgJiYgdGhpcy5jYW5jZWxDYWxsQmFjaygpO1xyXG4gICAgICAgICAgICB0aGlzLm15Q2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbXlTaG93KHR4dCwgY29uZmlybUNhbGxCYWNrLCBjYW5jZWxDYWxsQmFjaykge1xyXG5cclxuICAgICAgICB0aGlzLnR4dF9jb250ZW50LnRleHQgPSB0eHQ7XHJcbiAgICAgICAgdGhpcy5jb25maXJtQ2FsbEJhY2sgPSBjb25maXJtQ2FsbEJhY2s7XHJcbiAgICAgICAgdGhpcy5jYW5jZWxDYWxsQmFjayA9IGNhbmNlbENhbGxCYWNrO1xyXG5cclxuICAgICAgICAvLyDpnIDopoHlj5bmtojlm57osINcclxuICAgICAgICBpZiAoY2FuY2VsQ2FsbEJhY2spIHtcclxuICAgICAgICAgICAgd2luZG93LlVJQ29uZmlnLmNsb3NlRGlhbG9nT25TaWRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIExheWEudGltZXIub25jZSg1MDAwLCB0aGlzLCB0aGlzLm15Q2xvc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wb3B1cCgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBteUNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB3aW5kb3cuVUlDb25maWcuY2xvc2VEaWFsb2dPblNpZGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY29uZmlybUNhbGxCYWNrID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhbmNlbENhbGxCYWNrID0gbnVsbDtcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMsIHRoaXMubXlDbG9zZSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9wb3AvY29tL2NvbW1vblBvcC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7O0FBR0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBeEZBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 11 */
/* no static exports found */
/* all exports used */
/*!*****************************************!*\
  !*** ./laya_game/src/uiScene/bottom.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(/*! ../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _config = __webpack_require__(/*! ../config/config */ 3);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _data = __webpack_require__(/*! ../config/data */ 7);\n\nvar _header = __webpack_require__(/*! ./header */ 8);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _room = __webpack_require__(/*! ./room */ 6);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _penguin = __webpack_require__(/*! ./penguin */ 9);\n\nvar _penguin2 = _interopRequireDefault(_penguin);\n\nvar _init_module = __webpack_require__(/*! ../module/init_module */ 0);\n\nvar _options = __webpack_require__(/*! ./com/options */ 36);\n\nvar _options2 = _interopRequireDefault(_options);\n\nvar _laya = __webpack_require__(/*! ../common/laya.custom */ 4);\n\nvar _commonGameModule = __webpack_require__(/*! ../module/com/commonGameModule */ 5);\n\nvar _commonGameModule2 = _interopRequireDefault(_commonGameModule);\n\nvar _audio = __webpack_require__(/*! ../module/com/audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *底部\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar CLICK = Laya.Event.CLICK;\n\nvar BottomUIView = function (_bottomUI) {\n    _inherits(BottomUIView, _bottomUI);\n\n    function BottomUIView() {\n        _classCallCheck(this, BottomUIView);\n\n        var _this = _possibleConstructorReturn(this, (BottomUIView.__proto__ || Object.getPrototypeOf(BottomUIView)).call(this));\n\n        _this.init();\n\n        BottomUIView.instance = _this;\n        return _this;\n    }\n\n    _createClass(BottomUIView, [{\n        key: 'init',\n        value: function init() {\n            this.initDom();\n            this.initConfig();\n            this.initEvent();\n\n            this.subscribe();\n\n            this.keyBoardNumber = new window.Tools.KeyBoardNumber();\n\n            this.auto_btn.play(\"start_normal\", true);\n        }\n\n        // 订阅\n\n    }, {\n        key: 'subscribe',\n        value: function subscribe() {\n            //游戏开始了\n            _init_module.observer.subscribe('game::start', this.gameStart.bind(this));\n            // 投币成功\n            _init_module.observer.subscribe('bet::success', this.betSuccess.bind(this));\n            // 投币额修改\n            _init_module.observer.subscribe('bet::inputamount', this.updateDomInput.bind(this));\n\n            // 游戏重置\n            _init_module.observer.subscribe('game::reset', this.reset.bind(this));\n\n            _init_module.observer.subscribe('game::stop', this.gameStop.bind(this));\n        }\n    }, {\n        key: 'initConfig',\n        value: function initConfig() {\n            this.config = {\n                gameStatus: 'ready', //游戏状态     'ready' 准备完毕, 'going' 游戏中, 'auto'自动玩中\n                MIN_INPUT: 10,\n                MAX_INPUT: 500000,\n                base: 10,\n                user_input_text: 10, //投币金额\n                isAuto: 0, //是否是自动玩\n                autoTimes: 0, // 自动玩的次数\n                isFirst: true //是第一次进来\n            };\n        }\n    }, {\n        key: 'initDom',\n        value: function initDom() {\n            var _this2 = this;\n\n            // 选项列表的公共配置参数\n            var options = {\n                buttonUrl: \"images/room/btn_bg.png\",\n                bgUrl: 'images/room/auto_bg.png',\n                labelFont: 'auto'\n\n                // 添加自动次数玩选项表\n            };options.itemList = _data.AUTOPLAY_TIMES;\n            options.clickHandler = function (i) {\n                if (_this2.checkEnoughBet()) {\n                    // AudioMudule.getInstance().play('btn_start');\n                    _this2.renderStartBtnStatus('auto', i);\n                }\n            };\n            this.autoplay_box.addChild(new _options2.default(options));\n        }\n    }, {\n        key: 'initEvent',\n        value: function initEvent() {\n            var _this3 = this;\n\n            // 减法加法按钮\n            this.btn_sub.on(CLICK, this, this.addSubHandler.bind(this, 'sub'));\n            this.btn_add.on(CLICK, this, this.addSubHandler.bind(this, 'add'));\n\n            // 最大按钮\n            this.btn_max.on(CLICK, this, this.maxHandler);\n\n            // 投币输入框\n            this.btn_input.on(CLICK, this, function () {\n                // 游戏进行中判断\n                if (_this3.btnDisAble()) return;\n                _audio2.default.getInstance().play('btn');\n                _this3.showKeyBoardNumber();\n            });\n\n            //充值\n            this.btn_recharge.on(CLICK, this, function () {\n                // 未登录\n                if (_utils2.default.willGotoLogin()) return;\n                // 游戏进行中判断\n                // if (this.btnDisAble()) return;\n                _audio2.default.getInstance().play('btn');\n                _init_module.observer.publish(\"pop::recharge\", _init_module.messageCenter);\n            });\n\n            // 自动玩\n            this.btn_auto.on(CLICK, this, this.showAutoPlay);\n\n            // 点击其它区域菜单隐藏\n            (0, _laya.clickOtherAreaHandler)(this.btn_auto, this.autoplay_box);\n        }\n\n        // 渲染自动玩按钮的状态\n\n    }, {\n        key: 'renderStartBtnStatus',\n        value: function renderStartBtnStatus(type, i) {\n            switch (type) {\n                case 'ready':\n                    this.auto_btn.play('start_normal', true);\n                    break;\n\n                case 'going':\n\n                    this.autoplay_box.getChildAt(0).hide();\n                    this.auto.visible = false;\n                    this.dom_auto.text = 0;\n                    this.config.isAuto = 0;\n                    this.config.autoTimes = 0;\n                    this.auto_btn.play('start_normal', true);\n\n                    break;\n\n                case 'auto':\n                    this.config.isAuto = 1;\n                    this.config.autoTimes = Number(i) - 1;\n                    this.dom_auto.text = this.config.autoTimes;\n                    this.auto.visible = true;\n                    this.auto_btn.play('stop_normal', true);\n                    this.emitAuto();\n                    _init_module.observer.publish(\"walk::handler\", 1);\n                    // 最后一次自动玩\n                    if (this.config.autoTimes === 0) {\n                        this.renderStartBtnStatus('going');\n                        return;\n                    }\n                    break;\n            }\n            this.config.gameStatus = type;\n        }\n\n        //弹层自动玩\n\n    }, {\n        key: 'showAutoPlay',\n        value: function showAutoPlay() {\n            var _this4 = this;\n\n            var penguin = _penguin2.default.getInstance(),\n                gameing = penguin.isGameing,\n                isClick = penguin.isClick,\n                isComplete = penguin.isComplete;\n\n            console.log(gameing, isClick, isComplete);\n\n            if (gameing && this.config.gameStatus !== 'auto') {\n                return;\n            }\n\n            if (isClick && this.config.gameStatus !== 'auto') {\n                return;\n            }\n            if (isComplete && this.config.gameStatus !== 'auto') {\n                return;\n            }\n\n            switch (this.config.gameStatus) {\n                case 'ready':\n                    _audio2.default.getInstance().play('btn');\n                    this.auto_btn.play(\"start_click\", false);\n                    this.autoplay_box.getChildAt(0).toggle();\n                    this.auto_btn.once(Laya.Event.STOPPED, this, function () {\n                        _this4.auto_btn.play(\"start_normal\", true);\n                    });\n\n                    break;\n\n                case 'going':\n                    console.log('游戏进行中不可点...');\n                    break;\n\n                case 'auto':\n                    _audio2.default.getInstance().play('btn');\n                    this.renderStartBtnStatus('going');\n                    // this.config.gameStatus = \"ready\";\n                    break;\n            }\n        }\n\n        // 开始下一局发送命令\n\n    }, {\n        key: 'emitAuto',\n        value: function emitAuto() {\n            _init_module.observer.publish('game::start');\n            _init_module.messageCenter.emit('bet', { amount: this.config.user_input_text, isAuto: this.config.isAuto });\n        }\n\n        //判断是否用铁,银,金色的锤子\n\n    }, {\n        key: 'checkHammerType',\n        value: function checkHammerType(num) {\n            var i = 0,\n                toubi = num || Number(this.config.user_input_text);\n            if (toubi >= 10 && toubi < 1000) {\n                i = 0;\n            } else if (toubi >= 1000 && toubi < 10000) {\n                i = 1;\n            } else if (toubi >= 10000 && toubi < 100000) {\n                i = 2;\n            } else if (toubi >= 100000 && toubi <= 500000) {\n                i = 3;\n            }\n            this.hammer.index = i;\n\n            _init_module.observer.publish(\"check::hammer\", i);\n        }\n\n        // 投币成功\n\n    }, {\n        key: 'betSuccess',\n        value: function betSuccess() {\n            // 更新用户余额\n            _init_module.observer.publish('update::useraccount', -1 * this.config.user_input_text);\n\n            // 设置默认投币额\n            _utils2.default.setCookie(\"defaultBet\" + GM.gameId + GM.user_id, this.config.user_input_text);\n        }\n\n        // max最大值按钮\n\n    }, {\n        key: 'maxHandler',\n        value: function maxHandler() {\n\n            // 未登录\n            if (_utils2.default.willGotoLogin()) return;\n            // 游戏进行中判断\n            if (this.btnDisAble()) return;\n\n            _audio2.default.getInstance().play('btn');\n            var header = _header2.default.getInstance();\n            var current = Math.max(header.config.yuNum, header.config.tingDou);\n            if (current >= 100) {\n                current = current - current % 100;\n            } else {\n                current = current - current % 10;\n            }\n\n            current = Math.max(current, this.config.MIN_INPUT);\n            current = Math.min(current, this.config.MAX_INPUT);\n\n            this.btn_max.disabled = true;\n\n            this.updateDomInput(current);\n        }\n\n        // 减法加法\n\n    }, {\n        key: 'addSubHandler',\n        value: function addSubHandler(type) {\n            // 未登录\n            if (_utils2.default.willGotoLogin()) return;\n            // 游戏进行中判断\n            if (this.btnDisAble()) return;\n            _audio2.default.getInstance().play('btn');\n            var config = this.config;\n            var current = _utils2.default.addSubHandler(type, config.base, config.MIN_INPUT, config.MAX_INPUT, config.user_input_text);\n\n            this.btn_max.disabled = false;\n            this.updateDomInput(current);\n        }\n\n        // 修改投币金额\n\n    }, {\n        key: 'updateDomInput',\n        value: function updateDomInput(num) {\n            var _num = Number(num) || this.config.MIN_INPUT;\n            this.input_txt.text = _num;\n            this.config.user_input_text = _num;\n\n            if (_num === this.config.MIN_INPUT) {\n                this.btn_sub.disabled = true;\n            } else {\n                this.btn_sub.disabled = false;\n            }\n\n            if (_num === this.config.MAX_INPUT) {\n                this.btn_add.disabled = true;\n                this.btn_max.disabled = true;\n            } else {\n                this.btn_add.disabled = false;\n                this.btn_max.disabled = false;\n            }\n            this.checkHammerType(_num);\n        }\n\n        // 判断余额是否投币\n\n    }, {\n        key: 'checkEnoughBet',\n        value: function checkEnoughBet() {\n            // 未登录\n            if (_utils2.default.willGotoLogin()) return;\n\n            var header = _header2.default.getInstance();\n            var yuNum = header.config.yuNum;\n            var tingDou = header.config.tingDou;\n            var bet = this.config.user_input_text;\n            var bool = _config2.default.localStatus || yuNum >= bet || tingDou >= bet;\n            if (!bool) {\n                // 更新余额\n                _init_module.messageCenter.emitAjax(\"userAccount\"); //防止用户在别处游戏带入金额后，又带出的情况\n                _init_module.observer.publish('common::tips', '余额不足，请充值...', function () {\n                    return _init_module.observer.publish('pop::recharge');\n                });\n            }\n\n            return bool;\n        }\n        // 显示键盘\n\n    }, {\n        key: 'showKeyBoardNumber',\n        value: function showKeyBoardNumber() {\n            this.keyBoardNumber.enter('', {\n                length: 8,\n                close: this.hideKeyBoardNumber.bind(this),\n                input: null\n            });\n        }\n\n        // 键盘退出\n\n    }, {\n        key: 'hideKeyBoardNumber',\n        value: function hideKeyBoardNumber(type, value) {\n            var initVal = void 0;\n            if (value >= 100) {\n                initVal = value - value % 100;\n            } else if (value < 100) {\n                initVal = value - value % 10;\n            }\n\n            if (type === \"confirm\" && initVal) {\n                this.btn_sub.disabled = false;\n                this.btn_add.disabled = false;\n                if (initVal <= this.config.MIN_INPUT) {\n                    this.input_txt.text = this.config.MIN_INPUT;\n                    this.updateDomInput(this.input_txt.text);\n\n                    this.btn_sub.disabled = true;\n                    this.btn_add.disabled = false;\n                    this.btn_max.disabled = false;\n                } else if (initVal > this.config.MAX_INPUT) {\n                    _init_module.observer.publish('common::tips', '超出最大投币额');\n                    this.input_txt.text = this.config.MAX_INPUT;\n                    this.updateDomInput(this.input_txt.text);\n\n                    this.btn_add.disabled = true;\n                    this.btn_max.disabled = true;\n                    this.btn_sub.disabled = false;\n                } else {\n                    this.input_txt.text = initVal;\n                    this.updateDomInput(initVal);\n                }\n            } else if (type === \"confirm\" && !initVal) {\n                this.input_txt.text = this.config.user_input_text;\n            }\n        }\n        // 游戏进行中 按钮不可点\n\n    }, {\n        key: 'btnDisAble',\n        value: function btnDisAble() {\n            /*        let bool = this.config.gameStatus !== 'ready';\r\n                    if (bool) {\r\n                        console.log('不可点...');\r\n                    }\r\n            \r\n                    return bool;*/\n\n            var gameing = _penguin2.default.getInstance().isGameing;\n            if (gameing) {\n                console.log(\"游戏进行中，押注按钮不可点击\");\n            }\n            return gameing;\n        }\n    }, {\n        key: 'gameStart',\n        value: function gameStart() {\n            this.config.gameStatus = 'going';\n        }\n    }, {\n        key: 'gameStop',\n        value: function gameStop() {\n            var bool = this.config.gameStatus === 'auto' ? true : false;\n            if (bool) return;\n            this.config.gameStatus = 'ready';\n        }\n    }, {\n        key: 'reset',\n        value: function reset() {\n            this.renderStartBtnStatus('ready');\n            this.config.isAuto = 0;\n            this.config.autoTimes = 0;\n            this.config.isFirst = true;\n            this.auto.visible = false;\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return BottomUIView;\n}(bottomUI);\n\nexports.default = BottomUIView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2JvdHRvbS5qcz9lY2FiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKuW6lemDqFxyXG4gKi9cclxuXHJcbmltcG9ydCBVVElMUyBmcm9tICcuLi9jb25maWcvdXRpbHMnO1xyXG5pbXBvcnQgR0FNRV9DT05GSUcgZnJvbSAnLi4vY29uZmlnL2NvbmZpZyc7XHJcbmltcG9ydCB7IEFVVE9QTEFZX1RJTUVTLCBERUZBVUxUX0FNT1VOVCB9IGZyb20gJy4uL2NvbmZpZy9kYXRhJztcclxuaW1wb3J0IEhlYWRlclVJVmlldyBmcm9tICcuL2hlYWRlcic7XHJcbmltcG9ydCBSb29tU2NlbmUgZnJvbSAnLi9yb29tJztcclxuaW1wb3J0IFBlbmd1aW5VSVZpZXcgZnJvbSAnLi9wZW5ndWluJztcclxuaW1wb3J0IHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXIgfSBmcm9tICcuLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xyXG5pbXBvcnQgT3B0aW9uc1VJVmlldyBmcm9tICcuL2NvbS9vcHRpb25zJztcclxuaW1wb3J0IHsgY2xpY2tPdGhlckFyZWFIYW5kbGVyIH0gZnJvbSAnLi4vY29tbW9uL2xheWEuY3VzdG9tJztcclxuaW1wb3J0IENvbW1vbkdhbWVNb2R1bGUgZnJvbSAnLi4vbW9kdWxlL2NvbS9jb21tb25HYW1lTW9kdWxlJztcclxuaW1wb3J0IEF1ZGlvTXVkdWxlIGZyb20gJy4uL21vZHVsZS9jb20vYXVkaW8nO1xyXG5cclxuXHJcbmNvbnN0IENMSUNLID0gTGF5YS5FdmVudC5DTElDSztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvdHRvbVVJVmlldyBleHRlbmRzIGJvdHRvbVVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcblxyXG4gICAgICAgIEJvdHRvbVVJVmlldy5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlIHx8IG5ldyB0aGlzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmluaXREb20oKTtcclxuICAgICAgICB0aGlzLmluaXRDb25maWcoKTtcclxuICAgICAgICB0aGlzLmluaXRFdmVudCgpO1xyXG5cclxuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmtleUJvYXJkTnVtYmVyID0gbmV3IHdpbmRvdy5Ub29scy5LZXlCb2FyZE51bWJlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmF1dG9fYnRuLnBsYXkoXCJzdGFydF9ub3JtYWxcIix0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDorqLpmIVcclxuICAgIHN1YnNjcmliZSgpIHtcclxuICAgICAgICAvL+a4uOaIj+W8gOWni+S6hlxyXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnZ2FtZTo6c3RhcnQnLCB0aGlzLmdhbWVTdGFydC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyDmipXluIHmiJDlip9cclxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ2JldDo6c3VjY2VzcycsIHRoaXMuYmV0U3VjY2Vzcy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyDmipXluIHpop3kv67mlLlcclxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ2JldDo6aW5wdXRhbW91bnQnLCB0aGlzLnVwZGF0ZURvbUlucHV0LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAvLyDmuLjmiI/ph43nva5cclxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ2dhbWU6OnJlc2V0JywgdGhpcy5yZXNldC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdnYW1lOjpzdG9wJywgdGhpcy5nYW1lU3RvcC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgZ2FtZVN0YXR1czogJ3JlYWR5JywgLy/muLjmiI/nirbmgIEgICAgICdyZWFkeScg5YeG5aSH5a6M5q+VLCAnZ29pbmcnIOa4uOaIj+S4rSwgJ2F1dG8n6Ieq5Yqo546p5LitXHJcbiAgICAgICAgICAgIE1JTl9JTlBVVDogMTAsXHJcbiAgICAgICAgICAgIE1BWF9JTlBVVDogNTAwMDAwLFxyXG4gICAgICAgICAgICBiYXNlOiAxMCxcclxuICAgICAgICAgICAgdXNlcl9pbnB1dF90ZXh0OiAxMCwgLy/mipXluIHph5Hpop1cclxuICAgICAgICAgICAgaXNBdXRvOiAwLCAvL+aYr+WQpuaYr+iHquWKqOeOqVxyXG4gICAgICAgICAgICBhdXRvVGltZXM6IDAsIC8vIOiHquWKqOeOqeeahOasoeaVsFxyXG4gICAgICAgICAgICBpc0ZpcnN0OnRydWUsIC8v5piv56ys5LiA5qyh6L+b5p2lXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXREb20oKSB7XHJcbiAgICAgICAgLy8g6YCJ6aG55YiX6KGo55qE5YWs5YWx6YWN572u5Y+C5pWwXHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgYnV0dG9uVXJsOiBcImltYWdlcy9yb29tL2J0bl9iZy5wbmdcIixcclxuICAgICAgICAgICAgYmdVcmw6ICdpbWFnZXMvcm9vbS9hdXRvX2JnLnBuZycsXHJcbiAgICAgICAgICAgIGxhYmVsRm9udDogJ2F1dG8nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmt7vliqDoh6rliqjmrKHmlbDnjqnpgInpobnooahcclxuICAgICAgICBvcHRpb25zLml0ZW1MaXN0ID0gQVVUT1BMQVlfVElNRVM7XHJcbiAgICAgICAgb3B0aW9ucy5jbGlja0hhbmRsZXIgPSAoaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0Vub3VnaEJldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ2J0bl9zdGFydCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTdGFydEJ0blN0YXR1cygnYXV0bycsIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmF1dG9wbGF5X2JveC5hZGRDaGlsZChuZXcgT3B0aW9uc1VJVmlldyhvcHRpb25zKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXRFdmVudCgpIHtcclxuICAgICAgICAvLyDlh4/ms5XliqDms5XmjInpkq5cclxuICAgICAgICB0aGlzLmJ0bl9zdWIub24oQ0xJQ0ssIHRoaXMsIHRoaXMuYWRkU3ViSGFuZGxlci5iaW5kKHRoaXMsICdzdWInKSk7XHJcbiAgICAgICAgdGhpcy5idG5fYWRkLm9uKENMSUNLLCB0aGlzLCB0aGlzLmFkZFN1YkhhbmRsZXIuYmluZCh0aGlzLCAnYWRkJykpO1xyXG5cclxuICAgICAgICAvLyDmnIDlpKfmjInpkq5cclxuICAgICAgICB0aGlzLmJ0bl9tYXgub24oQ0xJQ0ssIHRoaXMsIHRoaXMubWF4SGFuZGxlcik7XHJcblxyXG4gICAgICAgIC8vIOaKleW4gei+k+WFpeahhlxyXG4gICAgICAgIHRoaXMuYnRuX2lucHV0Lm9uKENMSUNLLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOa4uOaIj+i/m+ihjOS4reWIpOaWrVxyXG4gICAgICAgICAgICBpZiAodGhpcy5idG5EaXNBYmxlKCkpIHJldHVybjtcclxuICAgICAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdidG4nKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93S2V5Qm9hcmROdW1iZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/lhYXlgLxcclxuICAgICAgICB0aGlzLmJ0bl9yZWNoYXJnZS5vbihDTElDSywgdGhpcywgKCk9PntcclxuICAgICAgICAgICAgLy8g5pyq55m75b2VXHJcbiAgICAgICAgICAgIGlmIChVVElMUy53aWxsR290b0xvZ2luKCkpIHJldHVybjtcclxuICAgICAgICAgICAgIC8vIOa4uOaIj+i/m+ihjOS4reWIpOaWrVxyXG4gICAgICAgICAgICAvLyBpZiAodGhpcy5idG5EaXNBYmxlKCkpIHJldHVybjtcclxuICAgICAgICAgICAgQXVkaW9NdWR1bGUuZ2V0SW5zdGFuY2UoKS5wbGF5KCdidG4nKTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaChcInBvcDo6cmVjaGFyZ2VcIiwgbWVzc2FnZUNlbnRlcik7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8g6Ieq5Yqo546pXHJcbiAgICAgICAgdGhpcy5idG5fYXV0by5vbihDTElDSywgdGhpcywgdGhpcy5zaG93QXV0b1BsYXkpO1xyXG5cclxuICAgICAgICAvLyDngrnlh7vlhbblroPljLrln5/oj5zljZXpmpDol49cclxuICAgICAgICBjbGlja090aGVyQXJlYUhhbmRsZXIodGhpcy5idG5fYXV0bywgdGhpcy5hdXRvcGxheV9ib3gpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8g5riy5p+T6Ieq5Yqo546p5oyJ6ZKu55qE54q25oCBXHJcbiAgICByZW5kZXJTdGFydEJ0blN0YXR1cyh0eXBlLCBpKSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JlYWR5JzpcclxuICAgICAgICAgICAgICAgICB0aGlzLmF1dG9fYnRuLnBsYXkoJ3N0YXJ0X25vcm1hbCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdnb2luZyc6XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvcGxheV9ib3guZ2V0Q2hpbGRBdCgwKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG8udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb21fYXV0by50ZXh0ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmlzQXV0byA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRvVGltZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvX2J0bi5wbGF5KCdzdGFydF9ub3JtYWwnLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuaXNBdXRvID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmF1dG9UaW1lcyA9IE51bWJlcihpKSAtIDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvbV9hdXRvLnRleHQgPSB0aGlzLmNvbmZpZy5hdXRvVGltZXM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG8udmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9fYnRuLnBsYXkoJ3N0b3Bfbm9ybWFsJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRBdXRvKCk7XHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwid2Fsazo6aGFuZGxlclwiLCAxKTtcclxuICAgICAgICAgICAgICAgIC8vIOacgOWQjuS4gOasoeiHquWKqOeOqVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF1dG9UaW1lcyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU3RhcnRCdG5TdGF0dXMoJ2dvaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29uZmlnLmdhbWVTdGF0dXMgPSB0eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5by55bGC6Ieq5Yqo546pXHJcbiAgICBzaG93QXV0b1BsYXkoKSB7XHJcbiAgICAgICAgbGV0IHBlbmd1aW4gPSBQZW5ndWluVUlWaWV3LmdldEluc3RhbmNlKCksXHJcbiAgICAgICAgZ2FtZWluZyA9IHBlbmd1aW4uaXNHYW1laW5nLFxyXG4gICAgICAgIGlzQ2xpY2sgPSBwZW5ndWluLmlzQ2xpY2ssXHJcbiAgICAgICAgaXNDb21wbGV0ZSA9IHBlbmd1aW4uaXNDb21wbGV0ZTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coZ2FtZWluZywgaXNDbGljayxpc0NvbXBsZXRlKTtcclxuXHJcbiAgICAgICAgaWYoZ2FtZWluZyAmJiB0aGlzLmNvbmZpZy5nYW1lU3RhdHVzICE9PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoaXNDbGljayAmJiB0aGlzLmNvbmZpZy5nYW1lU3RhdHVzICE9PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpc0NvbXBsZXRlICYmIHRoaXMuY29uZmlnLmdhbWVTdGF0dXMgIT09ICdhdXRvJyl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25maWcuZ2FtZVN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdyZWFkeSc6XHJcbiAgICAgICAgICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ2J0bicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvX2J0bi5wbGF5KFwic3RhcnRfY2xpY2tcIixmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9wbGF5X2JveC5nZXRDaGlsZEF0KDApLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvX2J0bi5vbmNlKExheWEuRXZlbnQuU1RPUFBFRCx0aGlzLCAoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0b19idG4ucGxheShcInN0YXJ0X25vcm1hbFwiLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dvaW5nJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmuLjmiI/ov5vooYzkuK3kuI3lj6/ngrkuLi4nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnYXV0byc6XHJcbiAgICAgICAgICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ2J0bicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTdGFydEJ0blN0YXR1cygnZ29pbmcnKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29uZmlnLmdhbWVTdGF0dXMgPSBcInJlYWR5XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIOW8gOWni+S4i+S4gOWxgOWPkemAgeWRveS7pFxyXG4gICAgZW1pdEF1dG8oKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2FtZTo6c3RhcnQnKTtcclxuICAgICAgICBtZXNzYWdlQ2VudGVyLmVtaXQoJ2JldCcsIHsgYW1vdW50OiB0aGlzLmNvbmZpZy51c2VyX2lucHV0X3RleHQsIGlzQXV0bzogdGhpcy5jb25maWcuaXNBdXRvIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5Yik5pat5piv5ZCm55So6ZOBLOmTtizph5HoibLnmoTplKTlrZBcclxuICAgIGNoZWNrSGFtbWVyVHlwZShudW0pIHtcclxuICAgICAgICBsZXQgaSA9IDAsXHJcbiAgICAgICAgICAgIHRvdWJpID1udW0gfHwgTnVtYmVyKHRoaXMuY29uZmlnLnVzZXJfaW5wdXRfdGV4dCk7XHJcbiAgICAgICAgaWYodG91YmkgPj0gMTAgJiYgdG91YmkgPCAxMDAwKSB7XHJcbiAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgIH1lbHNlIGlmICh0b3ViaSA+PSAxMDAwICYmIHRvdWJpIDwgMTAwMDApIHtcclxuICAgICAgICAgICAgaSA9IDE7XHJcbiAgICAgICAgfWVsc2UgaWYgKHRvdWJpID49IDEwMDAwICYmIHRvdWJpIDwgMTAwMDAwKSB7XHJcbiAgICAgICAgICAgIGkgPSAyO1xyXG4gICAgICAgIH1lbHNlIGlmICh0b3ViaSA+PSAxMDAwMDAgJiYgdG91YmkgPD0gNTAwMDAwKSB7XHJcbiAgICAgICAgICAgIGkgPSAzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbW1lci5pbmRleCA9IGk7XHJcblxyXG4gICAgICAgICBvYnNlcnZlci5wdWJsaXNoKFwiY2hlY2s6OmhhbW1lclwiLCBpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDmipXluIHmiJDlip9cclxuICAgIGJldFN1Y2Nlc3MoKSB7XHJcbiAgICAgICAgLy8g5pu05paw55So5oi35L2Z6aKdXHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgndXBkYXRlOjp1c2VyYWNjb3VudCcsIC0xICogdGhpcy5jb25maWcudXNlcl9pbnB1dF90ZXh0KTtcclxuXHJcbiAgICAgICAgLy8g6K6+572u6buY6K6k5oqV5biB6aKdXHJcbiAgICAgICAgVVRJTFMuc2V0Q29va2llKFwiZGVmYXVsdEJldFwiICsgR00uZ2FtZUlkICsgR00udXNlcl9pZCwgdGhpcy5jb25maWcudXNlcl9pbnB1dF90ZXh0KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAvLyBtYXjmnIDlpKflgLzmjInpkq5cclxuICAgIG1heEhhbmRsZXIoKSB7XHJcblxyXG4gICAgICAgICAvLyDmnKrnmbvlvZVcclxuICAgICAgICBpZiAoVVRJTFMud2lsbEdvdG9Mb2dpbigpKSByZXR1cm47XHJcbiAgICAgICAgLy8g5ri45oiP6L+b6KGM5Lit5Yik5patXHJcbiAgICAgICAgaWYgKHRoaXMuYnRuRGlzQWJsZSgpKSByZXR1cm47XHJcblxyXG4gICAgICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkucGxheSgnYnRuJyk7XHJcbiAgICAgICAgbGV0IGhlYWRlciA9IEhlYWRlclVJVmlldy5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gTWF0aC5tYXgoaGVhZGVyLmNvbmZpZy55dU51bSwgaGVhZGVyLmNvbmZpZy50aW5nRG91KTtcclxuICAgICAgICBpZihjdXJyZW50ID49IDEwMCl7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50IC0gY3VycmVudCAlIDEwMDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50IC0gY3VycmVudCAlIDEwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3VycmVudCA9IE1hdGgubWF4KGN1cnJlbnQsIHRoaXMuY29uZmlnLk1JTl9JTlBVVCk7XHJcbiAgICAgICAgY3VycmVudCA9IE1hdGgubWluKGN1cnJlbnQsIHRoaXMuY29uZmlnLk1BWF9JTlBVVCk7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuX21heC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSW5wdXQoY3VycmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5YeP5rOV5Yqg5rOVXHJcbiAgICBhZGRTdWJIYW5kbGVyKHR5cGUpIHtcclxuICAgICAgICAgLy8g5pyq55m75b2VXHJcbiAgICAgICAgaWYgKFVUSUxTLndpbGxHb3RvTG9naW4oKSkgcmV0dXJuO1xyXG4gICAgICAgIC8vIOa4uOaIj+i/m+ihjOS4reWIpOaWrVxyXG4gICAgICAgIGlmICh0aGlzLmJ0bkRpc0FibGUoKSkgcmV0dXJuO1xyXG4gICAgICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkucGxheSgnYnRuJyk7XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IHRoaXMuY29uZmlnO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gVVRJTFMuYWRkU3ViSGFuZGxlcih0eXBlLCBjb25maWcuYmFzZSwgY29uZmlnLk1JTl9JTlBVVCwgY29uZmlnLk1BWF9JTlBVVCwgY29uZmlnLnVzZXJfaW5wdXRfdGV4dCk7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuX21heC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSW5wdXQoY3VycmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5L+u5pS55oqV5biB6YeR6aKdXHJcbiAgICB1cGRhdGVEb21JbnB1dChudW0pIHtcclxuICAgICAgICBsZXQgX251bSA9IE51bWJlcihudW0pIHx8IHRoaXMuY29uZmlnLk1JTl9JTlBVVDtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dF90eHQudGV4dCA9IF9udW07XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnVzZXJfaW5wdXRfdGV4dCA9IF9udW07XHJcblxyXG4gICAgICAgICAgICBpZiAoX251bSA9PT0gdGhpcy5jb25maWcuTUlOX0lOUFVUKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9zdWIuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5fc3ViLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChfbnVtID09PSB0aGlzLmNvbmZpZy5NQVhfSU5QVVQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuX2FkZC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9tYXguZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5fYWRkLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9tYXguZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hlY2tIYW1tZXJUeXBlKF9udW0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDliKTmlq3kvZnpop3mmK/lkKbmipXluIFcclxuICAgIGNoZWNrRW5vdWdoQmV0KCkge1xyXG4gICAgICAgIC8vIOacqueZu+W9lVxyXG4gICAgICAgIGlmIChVVElMUy53aWxsR290b0xvZ2luKCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGhlYWRlciA9IEhlYWRlclVJVmlldy5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGxldCB5dU51bSA9IGhlYWRlci5jb25maWcueXVOdW07XHJcbiAgICAgICAgbGV0IHRpbmdEb3UgPSBoZWFkZXIuY29uZmlnLnRpbmdEb3U7XHJcbiAgICAgICAgbGV0IGJldCA9IHRoaXMuY29uZmlnLnVzZXJfaW5wdXRfdGV4dDtcclxuICAgICAgICBsZXQgYm9vbCA9IEdBTUVfQ09ORklHLmxvY2FsU3RhdHVzIHx8IHl1TnVtID49IGJldCB8fCB0aW5nRG91ID49IGJldDtcclxuICAgICAgICBpZiAoIWJvb2wpIHtcclxuICAgICAgICAgICAgLy8g5pu05paw5L2Z6aKdXHJcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZW1pdEFqYXgoXCJ1c2VyQWNjb3VudFwiKTsgIC8v6Ziy5q2i55So5oi35Zyo5Yir5aSE5ri45oiP5bim5YWl6YeR6aKd5ZCO77yM5Y+I5bim5Ye655qE5oOF5Ya1XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ2NvbW1vbjo6dGlwcycsICfkvZnpop3kuI3otrPvvIzor7flhYXlgLwuLi4nLCAoKSA9PiBvYnNlcnZlci5wdWJsaXNoKCdwb3A6OnJlY2hhcmdlJykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGJvb2w7XHJcblxyXG4gICAgfVxyXG4gICAgLy8g5pi+56S66ZSu55uYXHJcbiAgICBzaG93S2V5Qm9hcmROdW1iZXIoKSB7XHJcbiAgICAgICAgdGhpcy5rZXlCb2FyZE51bWJlci5lbnRlcignJywge1xyXG4gICAgICAgICAgICBsZW5ndGg6IDgsXHJcbiAgICAgICAgICAgIGNsb3NlOiB0aGlzLmhpZGVLZXlCb2FyZE51bWJlci5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICBpbnB1dDogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOmUruebmOmAgOWHulxyXG4gICAgaGlkZUtleUJvYXJkTnVtYmVyKHR5cGUsIHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGluaXRWYWw7XHJcbiAgICAgICAgaWYgKHZhbHVlID49IDEwMCl7XHJcbiAgICAgICAgICAgIGluaXRWYWwgPXZhbHVlIC0gdmFsdWUgJSAxMDA7XHJcbiAgICAgICAgIH1lbHNlIGlmKHZhbHVlIDwxMDApe1xyXG4gICAgICAgICAgICBpbml0VmFsID12YWx1ZSAtIHZhbHVlICUgMTA7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiY29uZmlybVwiICYmIGluaXRWYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5idG5fc3ViLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2FkZC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZihpbml0VmFsIDw9IHRoaXMuY29uZmlnLk1JTl9JTlBVVCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0X3R4dC50ZXh0ID0gdGhpcy5jb25maWcuTUlOX0lOUFVUO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEb21JbnB1dCggdGhpcy5pbnB1dF90eHQudGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5fc3ViLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICB0aGlzLmJ0bl9hZGQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuX21heC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgfWVsc2UgaWYoaW5pdFZhbCA+IHRoaXMuY29uZmlnLk1BWF9JTlBVVCkge1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnY29tbW9uOjp0aXBzJywgJ+i2heWHuuacgOWkp+aKleW4geminScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dF90eHQudGV4dCA9IHRoaXMuY29uZmlnLk1BWF9JTlBVVDtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRG9tSW5wdXQoIHRoaXMuaW5wdXRfdHh0LnRleHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuX2FkZC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9tYXguZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5fc3ViLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRfdHh0LnRleHQgPSBpbml0VmFsO1xyXG4gICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRG9tSW5wdXQoIGluaXRWYWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT09IFwiY29uZmlybVwiICYmICFpbml0VmFsKXtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dF90eHQudGV4dCA9IHRoaXMuY29uZmlnLnVzZXJfaW5wdXRfdGV4dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLy8g5ri45oiP6L+b6KGM5LitIOaMiemSruS4jeWPr+eCuVxyXG4gICAgYnRuRGlzQWJsZSgpIHtcclxuLyogICAgICAgIGxldCBib29sID0gdGhpcy5jb25maWcuZ2FtZVN0YXR1cyAhPT0gJ3JlYWR5JztcclxuICAgICAgICBpZiAoYm9vbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5LiN5Y+v54K5Li4uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYm9vbDsqL1xyXG5cclxuICAgICAgICBsZXQgZ2FtZWluZyA9IFBlbmd1aW5VSVZpZXcuZ2V0SW5zdGFuY2UoKS5pc0dhbWVpbmc7XHJcbiAgICAgICAgaWYoZ2FtZWluZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIua4uOaIj+i/m+ihjOS4re+8jOaKvOazqOaMiemSruS4jeWPr+eCueWHu1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdhbWVpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2FtZVN0YXJ0KCkge1xyXG4gICAgICAgdGhpcy5jb25maWcuZ2FtZVN0YXR1cyA9ICdnb2luZyc7XHJcbiAgICB9XHJcbiAgICBnYW1lU3RvcCgpIHtcclxuICAgICAgICBsZXQgYm9vbCA9ICB0aGlzLmNvbmZpZy5nYW1lU3RhdHVzID09PSAnYXV0bycgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgaWYoYm9vbCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmdhbWVTdGF0dXMgPSAncmVhZHknO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyU3RhcnRCdG5TdGF0dXMoJ3JlYWR5Jyk7XHJcbiAgICAgICAgdGhpcy5jb25maWcuaXNBdXRvID0gMDtcclxuICAgICAgICB0aGlzLmNvbmZpZy5hdXRvVGltZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmlzRmlyc3QgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYXV0by52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3VpU2NlbmUvYm90dG9tLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUlBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQWZBOzs7O0FBaUJBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBS0E7QUFDQTs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTdCQTtBQStCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBdlhBO0FBQ0E7QUFDQTs7OztBQVZBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 12 */
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./laya_game/src/uiScene/com/menu.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _commonGameModule = __webpack_require__(/*! ../../module/com/commonGameModule */ 5);\n\nvar _commonGameModule2 = _interopRequireDefault(_commonGameModule);\n\nvar _utils = __webpack_require__(/*! ../../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _config = __webpack_require__(/*! ../../config/config */ 3);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _audio = __webpack_require__(/*! ../../module/com/audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * Menu ui visualization of the data that model contains.\r\n * 菜单\r\n * @class      MenuUIView (name)\r\n */\nvar MenuUIView = function (_menuUI) {\n    _inherits(MenuUIView, _menuUI);\n\n    function MenuUIView() {\n        _classCallCheck(this, MenuUIView);\n\n        var _this = _possibleConstructorReturn(this, (MenuUIView.__proto__ || Object.getPrototypeOf(MenuUIView)).call(this));\n\n        _this.init();\n\n        MenuUIView.instance = _this;\n        return _this;\n    }\n\n    _createClass(MenuUIView, [{\n        key: 'init',\n        value: function init() {\n\n            // 初始化公告按钮\n            _commonGameModule2.default.getInstance().noticeSystem(this, 266);\n\n            this.initEvent();\n            _init_module.observer.subscribe('pop::menu', this.toggle.bind(this));\n            this.initSoundState();\n            this.hide();\n        }\n    }, {\n        key: 'initEvent',\n        value: function initEvent() {\n            var _this2 = this;\n\n            // 声音\n            this.btn_voice.on(Laya.Event.CLICK, this, function () {\n                // this.visible = false;\n                _audio2.default.getInstance().play('btn');\n                _this2.changeSoundState();\n            });\n\n            // 帮助\n            this.btn_help.on(Laya.Event.CLICK, this, function () {\n                _audio2.default.getInstance().play('btn');\n                _init_module.observer.publish('pop::help', _init_module.messageCenter);\n                _this2.visible = false;\n            });\n        }\n\n        // 初始化声音状态\n\n    }, {\n        key: 'initSoundState',\n        value: function initSoundState() {\n            // 取cookie\n            var _current = _utils2.default.getCookie(_config2.default.SOUND_STATE_KEY);\n\n            if (_current === 'false') {\n                this.voice.index = 1;\n                _init_module.observer.publish('game::voice', false);\n            } else {\n                _utils2.default.setCookie(_config2.default.SOUND_STATE_KEY, 'true');\n                this.voice.index = 0;\n                _init_module.observer.publish('game::voice', true);\n            }\n        }\n\n        // 改变声音状态\n\n    }, {\n        key: 'changeSoundState',\n        value: function changeSoundState() {\n            // 取cookie\n            var _current = _utils2.default.getCookie(_config2.default.SOUND_STATE_KEY);\n            var bool = void 0;\n            if (_current === 'true') {\n                _current = 'false';\n                this.voice.index = 1;\n                bool = false;\n            } else {\n                _audio2.default.getInstance().play('btn');\n                _current = 'true';\n                this.voice.index = 0;\n                bool = true;\n            }\n\n            _init_module.observer.publish('game::voice', bool);\n            _utils2.default.setCookie(_config2.default.SOUND_STATE_KEY, _current);\n        }\n\n        // 设置中心点\n\n    }, {\n        key: 'setAnchor',\n        value: function setAnchor() {\n            var attr = null;\n            if (this.x === 0) {\n                attr = { pivotX: 0.5 * this.width, x: 0.5 * this.width };\n            } else {\n                attr = { pivotX: 0, x: 0 };\n            }\n\n            this.set(attr);\n        }\n    }, {\n        key: 'toggle',\n        value: function toggle() {\n            if (this.visible) {\n                this.hide();\n            } else {\n                this.show();\n            }\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            this.visible = true;\n            this.setAnchor();\n            Laya.Tween.from(this, { scaleX: 0, scaleY: 0 }, 200, Laya.Ease.backOut, Laya.Handler.create(this, this.setAnchor));\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.visible = false;\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return MenuUIView;\n}(menuUI);\n\nexports.default = MenuUIView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2NvbS9tZW51LmpzP2M1MWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbW1vbkdhbWVNb2R1bGUgZnJvbSAnLi4vLi4vbW9kdWxlL2NvbS9jb21tb25HYW1lTW9kdWxlJztcclxuaW1wb3J0IFVUSUxTIGZyb20gJy4uLy4uL2NvbmZpZy91dGlscyc7XHJcbmltcG9ydCBHQU1FX0NPTkZJRyBmcm9tICcuLi8uLi9jb25maWcvY29uZmlnJztcclxuaW1wb3J0IEF1ZGlvTXVkdWxlIGZyb20gJy4uLy4uL21vZHVsZS9jb20vYXVkaW8nO1xyXG5pbXBvcnQgeyBvYnNlcnZlcixtZXNzYWdlQ2VudGVyIH0gZnJvbSAnLi4vLi4vbW9kdWxlL2luaXRfbW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBNZW51IHVpIHZpc3VhbGl6YXRpb24gb2YgdGhlIGRhdGEgdGhhdCBtb2RlbCBjb250YWlucy5cclxuICog6I+c5Y2VXHJcbiAqIEBjbGFzcyAgICAgIE1lbnVVSVZpZXcgKG5hbWUpXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51VUlWaWV3IGV4dGVuZHMgbWVudVVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG5cclxuICAgICAgICBNZW51VUlWaWV3Lmluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgbmV3IHRoaXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICAvLyDliJ3lp4vljJblhazlkYrmjInpkq5cclxuICAgICAgICBDb21tb25HYW1lTW9kdWxlLmdldEluc3RhbmNlKCkubm90aWNlU3lzdGVtKHRoaXMsIDI2Nik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEV2ZW50KCk7XHJcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdwb3A6Om1lbnUnLCB0aGlzLnRvZ2dsZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmluaXRTb3VuZFN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5oaWRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXRFdmVudCgpIHtcclxuICAgICAgICAvLyDlo7Dpn7NcclxuICAgICAgICB0aGlzLmJ0bl92b2ljZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ2J0bicpO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVNvdW5kU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g5biu5YqpXHJcbiAgICAgICAgdGhpcy5idG5faGVscC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEF1ZGlvTXVkdWxlLmdldEluc3RhbmNlKCkucGxheSgnYnRuJyk7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2goJ3BvcDo6aGVscCcsbWVzc2FnZUNlbnRlcik7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIOWIneWni+WMluWjsOmfs+eKtuaAgVxyXG4gICAgaW5pdFNvdW5kU3RhdGUoKSB7XHJcbiAgICAgICAgLy8g5Y+WY29va2llXHJcbiAgICAgICAgbGV0IF9jdXJyZW50ID0gVVRJTFMuZ2V0Q29va2llKEdBTUVfQ09ORklHLlNPVU5EX1NUQVRFX0tFWSk7XHJcblxyXG4gICAgICAgIGlmIChfY3VycmVudCA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICB0aGlzLnZvaWNlLmluZGV4ID0gMTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2FtZTo6dm9pY2UnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFVUSUxTLnNldENvb2tpZShHQU1FX0NPTkZJRy5TT1VORF9TVEFURV9LRVksICd0cnVlJyk7XHJcbiAgICAgICAgICAgIHRoaXMudm9pY2UuaW5kZXggPSAwO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdnYW1lOjp2b2ljZScsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5pS55Y+Y5aOw6Z+z54q25oCBXHJcbiAgICBjaGFuZ2VTb3VuZFN0YXRlKCkge1xyXG4gICAgICAgIC8vIOWPlmNvb2tpZVxyXG4gICAgICAgIGxldCBfY3VycmVudCA9IFVUSUxTLmdldENvb2tpZShHQU1FX0NPTkZJRy5TT1VORF9TVEFURV9LRVkpO1xyXG4gICAgICAgIGxldCBib29sO1xyXG4gICAgICAgIGlmIChfY3VycmVudCA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgIF9jdXJyZW50ID0gJ2ZhbHNlJztcclxuICAgICAgICAgICAgdGhpcy52b2ljZS5pbmRleCA9IDE7XHJcbiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ2J0bicpO1xyXG4gICAgICAgICAgICBfY3VycmVudCA9ICd0cnVlJztcclxuICAgICAgICAgICAgdGhpcy52b2ljZS5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGJvb2wgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2FtZTo6dm9pY2UnLCBib29sKTtcclxuICAgICAgICBVVElMUy5zZXRDb29raWUoR0FNRV9DT05GSUcuU09VTkRfU1RBVEVfS0VZLCBfY3VycmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6K6+572u5Lit5b+D54K5XHJcbiAgICBzZXRBbmNob3IoKSB7XHJcbiAgICAgICAgbGV0IGF0dHIgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLnggPT09IDApIHtcclxuICAgICAgICAgICAgYXR0ciA9IHsgcGl2b3RYOiAwLjUgKiB0aGlzLndpZHRoLCB4OiAwLjUgKiB0aGlzLndpZHRoIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXR0ciA9IHsgcGl2b3RYOiAwLCB4OiAwIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldChhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0QW5jaG9yKCk7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi5mcm9tKHRoaXMsIHsgc2NhbGVYOiAwLCBzY2FsZVk6IDAgfSwgMjAwLCBMYXlhLkVhc2UuYmFja091dCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLnNldEFuY2hvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvdWlTY2VuZS9jb20vbWVudS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTs7Ozs7QUFLQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBS0E7QUFDQTs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFwR0E7QUFDQTtBQUNBOzs7O0FBVkE7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 13 */
/* no static exports found */
/* all exports used */
/*!****************************************!*\
  !*** ./laya_game/src/common/common.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// Common\n;\n(function () {\n    var f = window.myUtil = {};\n\n    // 输出log 日志\n    f.log = function () {\n        if (window.GM && typeof GM.log == 'function') {\n            GM.log.apply(GM, arguments);\n        } else {\n            if (f.debugFE == true) {\n                console.log.apply(console, arguments);\n            }\n        }\n    };\n    f.console_log = function () {\n        console.log.apply(console, arguments);\n    };\n\n    // 是否 未登录, true 未登录, false 已登录\n    f.notLogged = function () {\n        var isLogged = f.config.userLogged;\n        if (!isLogged) {\n            window.location.href = f.config.userLoginUrl;\n        }\n        return !isLogged;\n    };\n\n    // 观测者模式\n    f.pubsub = function () {\n        var _default = 'default';\n        var Event = function () {\n            var namespaceCache = {},\n                _slice = Array.prototype.slice,\n                _shift = Array.prototype.shift,\n                _unshift = Array.prototype.unshift,\n                _listen = function _listen(key, fn, cache) {\n                if (!cache[key]) {\n                    cache[key] = [];\n                }\n                cache[key].push(fn);\n            },\n                _remove = function _remove(key, cache, fn) {\n                if (cache[key]) {\n                    if (fn) {\n                        var fns = cache[key];\n                        if (!fns || !fns.length) {\n                            return;\n                        }\n\n                        for (var i = 0, len = fns.length; i < len; i++) {\n                            if (fns[i].fnOrg === fn.fnOrg) {\n                                fns.splice(i, 1);\n                                i--;\n                                len--;\n                            }\n                        }\n\n                        if (len === 0) {\n                            delete cache[key];\n                        }\n                    } else {\n                        delete cache[key];\n                    }\n                }\n            },\n                _fire = function _fire() {\n                var cache = _shift.call(arguments),\n                    key = _shift.call(arguments),\n                    args = arguments,\n                    fns = cache[key];\n                if (!fns || !fns.length) {\n                    return;\n                }\n\n                for (var i = 0, len = fns.length; i < len; i++) {\n                    var fn = fns[i];\n                    if (fn.fnOrg.EXCUTED_ONCE) {\n                        _remove(key, cache, fn);\n                        i--;\n                        len--;\n                    }\n                    // 先移除了, 再执行\n                    fn.apply(null, args);\n                }\n            },\n                _create = function _create(namespace) {\n                var namespace = namespace || _default;\n                var cache = {};\n                var mountArr = [];\n                var isOnce = false;\n                var mountExec = function mountExec(key, fn) {\n                    for (var i = 0, len = mountArr.length; i < len; i++) {\n                        var item = mountArr[i];\n                        if (item.key === key) {\n                            fn.apply(null, item.data);\n                            if (fn.EXCUTED_ONCE) {\n                                _remove(key, cache, fn);\n                            }\n                            if (item.isOnce) {\n                                mountArr.splice(i, 1);\n                                i--;\n                                len--;\n                            }\n                            // 只让执行一次\n                            break;\n                        }\n                    }\n                };\n                ret = {\n                    listenOnce: function listenOnce(key, fn, context) {\n                        fn.EXCUTED_ONCE = true;\n                        this.listen(key, fn, context);\n                        return this;\n                    },\n                    listen: function listen(key, fn, context) {\n                        var fnBind = fn && fn.bind(context || window);\n                        if (fnBind) {\n                            fnBind.fnOrg = fn;\n                        }\n\n                        _listen(key, fnBind, cache);\n                        mountExec(key, fnBind);\n                        return this;\n                    },\n                    remove: function remove(key, fn, context) {\n                        var fnBind = fn && fn.bind(context || window);\n\n                        if (arguments.length === 0) {\n                            cache = {};\n                            mountArr = [];\n                        } else {\n                            if (fnBind) {\n                                fnBind.fnOrg = fn;\n                            }\n                            _remove(key, cache, fnBind);\n                        }\n                        return this;\n                    },\n                    fire: function fire() {\n                        // arguments 数组前插入一个 cache参数\n                        _unshift.call(arguments, cache);\n                        _fire.apply(null, arguments);\n                        return this;\n                    },\n                    // 强制执行1次\n                    fireForceOnce: function fireForceOnce() {\n                        isOnce = true;\n                        this.fireForce.apply(this, arguments);\n                        return this;\n                    },\n                    fireForce: function fireForce() {\n                        var args = arguments;\n                        var key = args[0];\n\n                        if (cache[key]) {\n                            this.fire.apply(this, args);\n                            // 若只需挂载一次\n                            if (isOnce) {\n                                isMustOnce = false;\n                                return this;\n                            }\n                        }\n\n                        mountArr.push({\n                            key: key,\n                            isOnce: isOnce,\n                            data: _slice.call(arguments, 1)\n                        });\n                        isMustOnce = false;\n                        return this;\n                    }\n                };\n                return namespace ? namespaceCache[namespace] ? namespaceCache[namespace] : namespaceCache[namespace] = ret : ret;\n            };\n            return {\n                create: _create\n            };\n        }();\n        return Event;\n    }();\n\n    // asyn\n    f.asyn = function () {\n        var me = this;\n        var obj = {};\n        var arr = [];\n        var method = {\n            hook: function hook() {\n                var args = f.util.slice.call(arguments);\n                arr = arr.concat(args);\n                return this;\n            },\n            unHook: function unHook() {\n                var args = f.util.slice.call(arguments);\n                var argsLen = args.length;\n                var arrLen = arr.length;\n                var i, j;\n\n                if (argsLen == 0) {\n                    arr = [];\n                } else {\n                    for (i = 0; i < arrLen; i++) {\n                        for (j = 0; j < argsLen; j++) {\n                            if (arr[i] == args[j]) {\n                                arr.splice(i, 1);\n                                i--;\n                                arrLen--;\n                                break;\n                            }\n                        }\n                    }\n                }\n                return this;\n            },\n            _done: function _done() {\n                arr.forEach(function (item, i) {\n                    item && item();\n                });\n                arr = [];\n                return this;\n            },\n            isReady: {},\n            ready: function ready(n) {\n                // console.log('O(∩_∩)O ----- ready: ' + n);\n                this.isReady[n] = true;\n                delete obj[n];\n                // 查看 obj 属性是否为0\n                if (Object.keys(obj).length === 0) {\n                    this._done();\n                }\n                return this;\n            },\n            wait: function wait(n) {\n                // console.log('(-_-)ZZ ----- wait:  ' + n);\n                obj[n] = 'wait';\n                return this;\n            }\n        };\n        return method;\n    };\n\n    /*\r\n        毫秒数\r\n    */\n    f.DownTimeMsec = function (time, loopTime) {\n        this.time = parseInt(time, 10);\n        this.loopTime = loopTime || 50;\n        this.timeout = null;\n    };\n    f.DownTimeMsec.prototype = {\n        constructor: f.DownTimeMsec,\n        _loopTime: function _loopTime(time, func, callback) {\n            var self = this;\n\n            var d1 = new Date();\n            var loop = function loop() {\n                var d2 = new Date();\n                var t = d2 - d1;\n                var timeNow = time - t;\n                timeNow = timeNow < 0 ? 0 : timeNow;\n                var timeSec = Math.floor(timeNow / 1000);\n                if (typeof func === 'function') {\n                    func(timeNow, timeSec);\n                }\n                if (timeNow > 0) {\n                    clearTimeout(self.timeout);\n                    self.timeout = setTimeout(loop, self.loopTime);\n                } else {\n                    if (typeof callback === 'function') {\n                        callback();\n                    }\n                }\n            };\n            loop();\n\n            return this;\n        },\n        // 开始\n        start: function start(func, callback) {\n            this.func = func;\n            this.callback = callback;\n            this._loopTime(this.time, func, callback);\n            return this;\n        },\n        // 设置时间并且重现开始\n        setTime: function setTime(time) {\n            this.stop();\n            this._loopTime(time, this.func, this.callback);\n        },\n        stop: function stop() {\n            clearTimeout(this.timeout);\n            return this;\n        }\n\n        /*\r\n        倒计时\r\n        time 为秒\r\n        flag 是当小时只有1位小数并且小时小于10, 是否前面加0\r\n        */\n    };f.DownTime = function (time, flag) {\n        this.time = parseInt(time, 10);\n        this.timeOrg = this.time;\n        this.leftTime = this.time;\n        this.flag = flag;\n        this.timeout = null;\n    };\n    f.DownTime.prototype = {\n        constructor: f.DownTime,\n        _format: function _format(time) {\n            var el = this.el;\n            var flag = this.flag;\n\n            var hour = time / 60;\n            hour = Math.floor(hour);\n            hour = hour < 0 ? 0 : hour;\n            if (hour < 10 && flag === 1) {\n                hour = '0' + hour;\n            }\n            var second = time % 60;\n            second = Math.floor(second);\n            second = second < 0 ? 0 : second;\n            if (second < 10) {\n                second = '0' + second;\n            }\n            var last = '' + hour + ':' + second;\n            return last;\n        },\n        _loopTime: function _loopTime(time, func, callback) {\n            var d1 = new Date();\n            var loop = function () {\n                var d2 = new Date();\n                var t = (d2 - d1) / 1000;\n                t = Math.floor(t);\n                var leftTime = time - t;\n                leftTime = leftTime < 0 ? 0 : leftTime;\n                if (typeof func === 'function') {\n                    func(leftTime, this._format(leftTime));\n                }\n                this.leftTime = leftTime;\n                if (leftTime > 0) {\n                    clearTimeout(this.timeout);\n                    this.timeout = setTimeout(loop, 1000);\n                } else {\n                    if (typeof callback === 'function') {\n                        callback();\n                    }\n                }\n            }.bind(this);\n            loop();\n        },\n        // 开始\n        start: function start(func, callback) {\n            this.func = func;\n            this.callback = callback;\n            this._loopTime(this.time, func, callback);\n            return this;\n        },\n        // 重新开始\n        reStart: function reStart() {\n            this.time = this.timeOrg;\n            this.start.apply(this, arguments);\n        },\n        // 恢复\n        recover: function recover() {\n            this._loopTime(this.leftTime, this.func, this.callback);\n        },\n        // 设置时间并且重现开始\n        setTime: function setTime(time) {\n            this.stop();\n            this._loopTime(time, this.func, this.callback);\n        },\n        // 停止\n        stop: function stop() {\n            clearTimeout(this.timeout);\n            return this;\n        }\n    };\n\n    window.convertXMLToNode = function (xmlText) {\n        var node;\n        var jsonObj = xml_str2json(xmlText);\n        node = convertJSONToNode(jsonObj);\n        return node;\n\n        function convertJSONToNode(jsonObj) {\n            var type = jsonObj.type;\n            if (!laya.ui[type]) {\n                return null;\n            }\n            var node = new laya.ui[type]();\n            var props = jsonObj.props;\n            for (var prop_name in props) {\n                // 属性\n                var prop_val = props[prop_name];\n\n                if (!isNaN(Number(prop_val))) {\n                    prop_val = Number(prop_val);\n                }\n                node[prop_name] = prop_val;\n            }\n            var childs = jsonObj.childs;\n            for (var i = 0; i < childs.length; i++) {\n                var child_json = childs[i];\n                var child_node = convertJSONToNode(child_json);\n                if (child_node) {\n                    node.addChild(child_node);\n                }\n            }\n            return node;\n        }\n\n        function xml2json(node, path) {\n            var result = {};\n            result.type = getNodeLocalName(node);\n            result.childs = [];\n            var nodeChildren = node.childNodes;\n            for (var cidx = 0; cidx < nodeChildren.length; cidx++) {\n                var child = nodeChildren.item(cidx);\n                var childName = getNodeLocalName(child);\n                var _child = xml2json(child);\n                result.childs.push(_child);\n            }\n\n            // Attributes\n            if (node.attributes) {\n                result.props = {};\n                for (var aidx = 0; aidx < node.attributes.length; aidx++) {\n                    var attr = node.attributes.item(aidx);\n                    result.props[attr.name] = attr.value;\n                }\n            }\n            return result;\n        }\n\n        function getNodeLocalName(node) {\n            var nodeLocalName = node.localName;\n            if (nodeLocalName === null) // Yeah, this is IE!!\n                nodeLocalName = node.baseName;\n            if (nodeLocalName === null || nodeLocalName === \"\") // ==\"\" is IE too\n                nodeLocalName = node.nodeName;\n            return nodeLocalName;\n        }\n\n        function xml_str2json(xmlDocStr) {\n            var xmlDoc = parseXmlString(xmlDocStr);\n            if (xmlDoc !== null) return xml2json(xmlDoc);else {\n                return null;\n            }\n        }\n\n        function parseXmlString(xmlDocStr) {\n            if (xmlDocStr === undefined) {\n                return null;\n            }\n            var xmlDoc, parser;\n            if (window.DOMParser) {\n                parser = new window.DOMParser();\n            }\n            try {\n                xmlDoc = parser.parseFromString(xmlDocStr, \"text/xml\").firstChild;\n            } catch (err) {\n                xmlDoc = null;\n            }\n            return xmlDoc;\n        }\n    };\n\n    // 页面打开时间控制\n    f.timeOnPageControl = {\n        fire: function fire(name, time) {\n            f.Socket.pubsub.fire(name, time);\n        },\n        pageOffReset: function pageOffReset() {\n            clearTimeout(this.pageOffTimeout);\n            f.config.timeOffPage = 0;\n            this.fire('timeOffPage', f.config.timeOffPage);\n        },\n        // 页面关闭计算时间\n        pageOffStart: function pageOffStart() {\n            var timeBegin = new Date().getTime();\n            var loop = function () {\n                var timeEnd = new Date().getTime();\n                f.config.timeOffPage = timeEnd - timeBegin;\n                this.fire('timeOffPage', f.config.timeOffPage);\n                clearTimeout(this.pageOffTimeout);\n                this.pageOffTimeout = setTimeout(loop, 1000);\n            }.bind(this);\n            loop();\n        },\n        pageOnReset: function pageOnReset() {\n            clearTimeout(this.pageOnTimeout);\n            f.config.timeOnPage = 0;\n            this.fire('timeOnPage', f.config.timeOnPage);\n        },\n        // 页面打开计算时间\n        pageOnStart: function pageOnStart() {\n            var timeBegin = new Date().getTime();\n            var loop = function () {\n                var timeEnd = new Date().getTime();\n                f.config.timeOnPage = timeEnd - timeBegin;\n                this.fire('timeOnPage', f.config.timeOnPage);\n                clearTimeout(this.pageOnTimeout);\n                this.pageOnTimeout = setTimeout(loop, 1000);\n            }.bind(this);\n            loop();\n        },\n        pageHide: function pageHide() {\n            f.timeOnPageControl.pageOnReset();\n            f.timeOnPageControl.pageOffStart();\n        },\n        pageOn: function pageOn() {\n            f.timeOnPageControl.pageOnStart();\n            f.timeOnPageControl.pageOffReset();\n        },\n        init: function init() {\n            this.pageOnStart();\n        }\n\n        // 状态 是否锁屏监听\n    };f.visibleChangeListen = function () {\n        var hidden = \"hidden\",\n            state = \"visibilityState\",\n            visibilityChange = \"visibilitychange\";\n        var document = window.document;\n        if (typeof document.hidden !== \"undefined\") {\n            visibilityChange = \"visibilitychange\";\n            state = \"visibilityState\";\n        } else if (typeof document.mozHidden !== \"undefined\") {\n            visibilityChange = \"mozvisibilitychange\";\n            state = \"mozVisibilityState\";\n        } else if (typeof document.msHidden !== \"undefined\") {\n            visibilityChange = \"msvisibilitychange\";\n            state = \"msVisibilityState\";\n        } else if (typeof document.webkitHidden !== \"undefined\") {\n            visibilityChange = \"webkitvisibilitychange\";\n            state = \"webkitVisibilityState\";\n        }\n        window.document.addEventListener(visibilityChange, visibleChangeFun);\n\n        function visibleChangeFun() {\n            // 当前页面 锁屏或者 最小化\n            if (Laya.Browser.document[state] == \"hidden\") {\n                f.timeOnPageControl.pageHide();\n            } else {\n                f.timeOnPageControl.pageOn();\n            }\n        }\n    };\n\n    // AOP装饰者模式\n    Function.prototype._before = function (fn) {\n        var _this = this;\n        return function () {\n            var retBefore = fn.apply(this, arguments);\n            if (retBefore === false) {\n                return;\n            }\n            return _this.apply(this, arguments);\n        };\n    };\n\n    Function.prototype._after = function (fn) {\n        var _this = this;\n        return function () {\n            var ret = _this.apply(this, arguments);\n            fn.apply(this, arguments);\n\n            return ret;\n        };\n    };\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9jb21tb24vY29tbW9uLmpzPzRhYzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29tbW9uXHJcbjtcclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGYgPSB3aW5kb3cubXlVdGlsID0ge307XHJcblxyXG4gICAgLy8g6L6T5Ye6bG9nIOaXpeW/l1xyXG4gICAgZi5sb2cgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAod2luZG93LkdNICYmIHR5cGVvZiBHTS5sb2cgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBHTS5sb2cuYXBwbHkoR00sIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGYuZGVidWdGRSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZi5jb25zb2xlX2xvZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5piv5ZCmIOacqueZu+W9lSwgdHJ1ZSDmnKrnmbvlvZUsIGZhbHNlIOW3sueZu+W9lVxyXG4gICAgZi5ub3RMb2dnZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXNMb2dnZWQgPSBmLmNvbmZpZy51c2VyTG9nZ2VkO1xyXG4gICAgICAgIGlmICghaXNMb2dnZWQpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBmLmNvbmZpZy51c2VyTG9naW5Vcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhaXNMb2dnZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6KeC5rWL6ICF5qih5byPXHJcbiAgICBmLnB1YnN1YiA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgX2RlZmF1bHQgPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgdmFyIEV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lc3BhY2VDYWNoZSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgX3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLFxyXG4gICAgICAgICAgICAgICAgX3NoaWZ0ID0gQXJyYXkucHJvdG90eXBlLnNoaWZ0LFxyXG4gICAgICAgICAgICAgICAgX3Vuc2hpZnQgPSBBcnJheS5wcm90b3R5cGUudW5zaGlmdCxcclxuICAgICAgICAgICAgICAgIF9saXN0ZW4gPSBmdW5jdGlvbihrZXksIGZuLCBjYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FjaGVba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtrZXldID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlW2tleV0ucHVzaChmbik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgX3JlbW92ZSA9IGZ1bmN0aW9uKGtleSwgY2FjaGUsIGZuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5zID0gY2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm5zIHx8ICFmbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5zW2ldLmZuT3JnID09PSBmbi5mbk9yZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbi0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlKGNhY2hlW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlKGNhY2hlW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF9maXJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlID0gX3NoaWZ0LmNhbGwoYXJndW1lbnRzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gX3NoaWZ0LmNhbGwoYXJndW1lbnRzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm5zID0gY2FjaGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZucyB8fCAhZm5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZm5zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IGZuc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuLmZuT3JnLkVYQ1VURURfT05DRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZShrZXksIGNhY2hlLCBmbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4tLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlhYjnp7vpmaTkuoYsIOWGjeaJp+ihjFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgX2NyZWF0ZSA9IGZ1bmN0aW9uKG5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBuYW1lc3BhY2UgfHwgX2RlZmF1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vdW50QXJyID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzT25jZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3VudEV4ZWMgPSBmdW5jdGlvbihrZXksIGZuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtb3VudEFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBtb3VudEFycltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgaXRlbS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm4uRVhDVVRFRF9PTkNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1vdmUoa2V5LCBjYWNoZSwgZm4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pc09uY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRBcnIuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbi0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlj6rorqnmiafooYzkuIDmrKFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5PbmNlOiBmdW5jdGlvbihrZXksIGZuLCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbi5FWENVVEVEX09OQ0UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW4oa2V5LCBmbiwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuOiBmdW5jdGlvbihrZXksIGZuLCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5CaW5kID0gZm4gJiYgZm4uYmluZChjb250ZXh0IHx8IHdpbmRvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm5CaW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5CaW5kLmZuT3JnID0gZm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xpc3RlbihrZXksIGZuQmluZCwgY2FjaGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRFeGVjKGtleSwgZm5CaW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSwgZm4sIGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbkJpbmQgPSBmbiAmJiBmbi5iaW5kKGNvbnRleHQgfHwgd2luZG93KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRBcnIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuQmluZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbkJpbmQuZm5PcmcgPSBmbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZShrZXksIGNhY2hlLCBmbkJpbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJndW1lbnRzIOaVsOe7hOWJjeaPkuWFpeS4gOS4qiBjYWNoZeWPguaVsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Vuc2hpZnQuY2FsbChhcmd1bWVudHMsIGNhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9maXJlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5by65Yi25omn6KGMMeasoVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJlRm9yY2VPbmNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmVGb3JjZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVGb3JjZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBhcmdzWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOiLpeWPqumcgOaMgui9veS4gOasoVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09uY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNdXN0T25jZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91bnRBcnIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbmNlOiBpc09uY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc011c3RPbmNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVzcGFjZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChuYW1lc3BhY2VDYWNoZVtuYW1lc3BhY2VdID8gbmFtZXNwYWNlQ2FjaGVbbmFtZXNwYWNlXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VDYWNoZVtuYW1lc3BhY2VdID0gcmV0KSA6IHJldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGU6IF9jcmVhdGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KCk7XHJcbiAgICAgICAgcmV0dXJuIEV2ZW50O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvLyBhc3luXHJcbiAgICBmLmFzeW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICAgdmFyIG1ldGhvZCA9IHtcclxuICAgICAgICAgICAgaG9vazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGYudXRpbC5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICBhcnIgPSBhcnIuY29uY2F0KGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuSG9vazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGYudXRpbC5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJnc0xlbiA9IGFyZ3MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyckxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgajtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJnc0xlbiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyID0gW107XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnJMZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgYXJnc0xlbjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyW2ldID09IGFyZ3Nbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJMZW4tLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfZG9uZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbSAmJiBpdGVtKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzUmVhZHk6IHt9LFxyXG4gICAgICAgICAgICByZWFkeTogZnVuY3Rpb24obikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ08o4oipX+KIqSlPIC0tLS0tIHJlYWR5OiAnICsgbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVhZHlbbl0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlKG9ialtuXSk7XHJcbiAgICAgICAgICAgICAgICAvLyDmn6XnnIsgb2JqIOWxnuaAp+aYr+WQpuS4ujBcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3YWl0OiBmdW5jdGlvbihuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnKC1fLSlaWiAtLS0tLSB3YWl0OiAgJyArIG4pO1xyXG4gICAgICAgICAgICAgICAgb2JqW25dID0gJ3dhaXQnO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1ldGhvZDtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICAgIOavq+enkuaVsFxyXG4gICAgKi9cclxuICAgIGYuRG93blRpbWVNc2VjID0gZnVuY3Rpb24odGltZSwgbG9vcFRpbWUpIHtcclxuICAgICAgICB0aGlzLnRpbWUgPSBwYXJzZUludCh0aW1lLCAxMCk7XHJcbiAgICAgICAgdGhpcy5sb29wVGltZSA9IGxvb3BUaW1lIHx8IDUwO1xyXG4gICAgICAgIHRoaXMudGltZW91dCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBmLkRvd25UaW1lTXNlYy5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgY29uc3RydWN0b3I6IGYuRG93blRpbWVNc2VjLFxyXG4gICAgICAgIF9sb29wVGltZTogZnVuY3Rpb24odGltZSwgZnVuYywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdmFyIGQxID0gbmV3IERhdGU7XHJcbiAgICAgICAgICAgIHZhciBsb29wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZDIgPSBuZXcgRGF0ZTtcclxuICAgICAgICAgICAgICAgIHZhciB0ID0gKGQyIC0gZDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWVOb3cgPSB0aW1lIC0gdDtcclxuICAgICAgICAgICAgICAgIHRpbWVOb3cgPSB0aW1lTm93IDwgMCA/IDAgOiB0aW1lTm93O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWVTZWMgPSBNYXRoLmZsb29yKHRpbWVOb3cgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmModGltZU5vdywgdGltZVNlYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGltZU5vdyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGxvb3AsIHNlbGYubG9vcFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvb3AoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g5byA5aeLXHJcbiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGZ1bmMsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnVuYyA9IGZ1bmM7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICAgICAgdGhpcy5fbG9vcFRpbWUodGhpcy50aW1lLCBmdW5jLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g6K6+572u5pe26Ze05bm25LiU6YeN546w5byA5aeLXHJcbiAgICAgICAgc2V0VGltZTogZnVuY3Rpb24odGltZSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9vcFRpbWUodGltZSwgdGhpcy5mdW5jLCB0aGlzLmNhbGxiYWNrKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICDlgJLorqHml7ZcclxuICAgIHRpbWUg5Li656eSXHJcbiAgICBmbGFnIOaYr+W9k+Wwj+aXtuWPquaciTHkvY3lsI/mlbDlubbkuJTlsI/ml7blsI/kuo4xMCwg5piv5ZCm5YmN6Z2i5YqgMFxyXG4gICovXHJcbiAgICBmLkRvd25UaW1lID0gZnVuY3Rpb24odGltZSwgZmxhZykge1xyXG4gICAgICAgIHRoaXMudGltZSA9IHBhcnNlSW50KHRpbWUsIDEwKTtcclxuICAgICAgICB0aGlzLnRpbWVPcmcgPSB0aGlzLnRpbWU7XHJcbiAgICAgICAgdGhpcy5sZWZ0VGltZSA9IHRoaXMudGltZTtcclxuICAgICAgICB0aGlzLmZsYWcgPSBmbGFnO1xyXG4gICAgICAgIHRoaXMudGltZW91dCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBmLkRvd25UaW1lLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcjogZi5Eb3duVGltZSxcclxuICAgICAgICBfZm9ybWF0OiBmdW5jdGlvbih0aW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XHJcbiAgICAgICAgICAgIHZhciBmbGFnID0gdGhpcy5mbGFnO1xyXG5cclxuICAgICAgICAgICAgdmFyIGhvdXIgPSB0aW1lIC8gNjA7XHJcbiAgICAgICAgICAgIGhvdXIgPSBNYXRoLmZsb29yKGhvdXIpO1xyXG4gICAgICAgICAgICBob3VyID0gaG91ciA8IDAgPyAwIDogaG91cjtcclxuICAgICAgICAgICAgaWYgKGhvdXIgPCAxMCAmJiBmbGFnID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBob3VyID0gJzAnICsgaG91cjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2Vjb25kID0gdGltZSAlIDYwO1xyXG4gICAgICAgICAgICBzZWNvbmQgPSBNYXRoLmZsb29yKHNlY29uZCk7XHJcbiAgICAgICAgICAgIHNlY29uZCA9IHNlY29uZCA8IDAgPyAwIDogc2Vjb25kO1xyXG4gICAgICAgICAgICBpZiAoc2Vjb25kIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHNlY29uZCA9ICcwJyArIHNlY29uZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGFzdCA9ICcnICsgaG91ciArICc6JyArIHNlY29uZDtcclxuICAgICAgICAgICAgcmV0dXJuIGxhc3Q7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfbG9vcFRpbWU6IGZ1bmN0aW9uKHRpbWUsIGZ1bmMsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBkMSA9IG5ldyBEYXRlO1xyXG4gICAgICAgICAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGQyID0gbmV3IERhdGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdCA9IChkMiAtIGQxKSAvIDEwMDA7XHJcbiAgICAgICAgICAgICAgICB0ID0gTWF0aC5mbG9vcih0KTtcclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0VGltZSA9IHRpbWUgLSB0O1xyXG4gICAgICAgICAgICAgICAgbGVmdFRpbWUgPSBsZWZ0VGltZSA8IDAgPyAwIDogbGVmdFRpbWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jKGxlZnRUaW1lLCB0aGlzLl9mb3JtYXQobGVmdFRpbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGVmdFRpbWUgPSBsZWZ0VGltZTtcclxuICAgICAgICAgICAgICAgIGlmIChsZWZ0VGltZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGxvb3AsIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGxvb3AoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIOW8gOWni1xyXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbihmdW5jLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLmZ1bmMgPSBmdW5jO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvb3BUaW1lKHRoaXMudGltZSwgZnVuYywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIOmHjeaWsOW8gOWni1xyXG4gICAgICAgIHJlU3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUgPSB0aGlzLnRpbWVPcmc7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIOaBouWkjVxyXG4gICAgICAgIHJlY292ZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9sb29wVGltZSh0aGlzLmxlZnRUaW1lLCB0aGlzLmZ1bmMsIHRoaXMuY2FsbGJhY2spO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g6K6+572u5pe26Ze05bm25LiU6YeN546w5byA5aeLXHJcbiAgICAgICAgc2V0VGltZTogZnVuY3Rpb24odGltZSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9vcFRpbWUodGltZSwgdGhpcy5mdW5jLCB0aGlzLmNhbGxiYWNrKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIOWBnOatolxyXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5jb252ZXJ0WE1MVG9Ob2RlID0gZnVuY3Rpb24oeG1sVGV4dCkge1xyXG4gICAgICAgIHZhciBub2RlO1xyXG4gICAgICAgIHZhciBqc29uT2JqID0geG1sX3N0cjJqc29uKHhtbFRleHQpO1xyXG4gICAgICAgIG5vZGUgPSBjb252ZXJ0SlNPTlRvTm9kZShqc29uT2JqKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29udmVydEpTT05Ub05vZGUoanNvbk9iaikge1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGpzb25PYmoudHlwZTtcclxuICAgICAgICAgICAgaWYgKCFsYXlhLnVpW3R5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5ldyBsYXlhLnVpW3R5cGVdKCk7XHJcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IGpzb25PYmoucHJvcHM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BfbmFtZSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgLy8g5bGe5oCnXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcF92YWwgPSBwcm9wc1twcm9wX25hbWVdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHByb3BfdmFsKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wX3ZhbCA9IE51bWJlcihwcm9wX3ZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBub2RlW3Byb3BfbmFtZV0gPSBwcm9wX3ZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY2hpbGRzID0ganNvbk9iai5jaGlsZHM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRfanNvbiA9IGNoaWxkc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZF9ub2RlID0gY29udmVydEpTT05Ub05vZGUoY2hpbGRfanNvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRfbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuYWRkQ2hpbGQoY2hpbGRfbm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB4bWwyanNvbihub2RlLCBwYXRoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgICAgICAgcmVzdWx0LnR5cGUgPSBnZXROb2RlTG9jYWxOYW1lKG5vZGUpO1xyXG4gICAgICAgICAgICByZXN1bHQuY2hpbGRzID0gW107XHJcbiAgICAgICAgICAgIHZhciBub2RlQ2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGNpZHggPSAwOyBjaWR4IDwgbm9kZUNoaWxkcmVuLmxlbmd0aDsgY2lkeCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlQ2hpbGRyZW4uaXRlbShjaWR4KTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZE5hbWUgPSBnZXROb2RlTG9jYWxOYW1lKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIHZhciBfY2hpbGQgPSB4bWwyanNvbihjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuY2hpbGRzLnB1c2goX2NoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXR0cmlidXRlc1xyXG4gICAgICAgICAgICBpZiAobm9kZS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGFpZHggPSAwOyBhaWR4IDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgYWlkeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHIgPSBub2RlLmF0dHJpYnV0ZXMuaXRlbShhaWR4KTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHJvcHNbYXR0ci5uYW1lXSA9IGF0dHIudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldE5vZGVMb2NhbE5hbWUobm9kZSkge1xyXG4gICAgICAgICAgICB2YXIgbm9kZUxvY2FsTmFtZSA9IG5vZGUubG9jYWxOYW1lO1xyXG4gICAgICAgICAgICBpZiAobm9kZUxvY2FsTmFtZSA9PT0gbnVsbCkgLy8gWWVhaCwgdGhpcyBpcyBJRSEhXHJcbiAgICAgICAgICAgICAgICBub2RlTG9jYWxOYW1lID0gbm9kZS5iYXNlTmFtZTtcclxuICAgICAgICAgICAgaWYgKG5vZGVMb2NhbE5hbWUgPT09IG51bGwgfHwgbm9kZUxvY2FsTmFtZSA9PT0gXCJcIikgLy8gPT1cIlwiIGlzIElFIHRvb1xyXG4gICAgICAgICAgICAgICAgbm9kZUxvY2FsTmFtZSA9IG5vZGUubm9kZU5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlTG9jYWxOYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24geG1sX3N0cjJqc29uKHhtbERvY1N0cikge1xyXG4gICAgICAgICAgICB2YXIgeG1sRG9jID0gcGFyc2VYbWxTdHJpbmcoeG1sRG9jU3RyKTtcclxuICAgICAgICAgICAgaWYgKHhtbERvYyAhPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiB4bWwyanNvbih4bWxEb2MpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwYXJzZVhtbFN0cmluZyh4bWxEb2NTdHIpIHtcclxuICAgICAgICAgICAgaWYgKHhtbERvY1N0ciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgeG1sRG9jLCBwYXJzZXI7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbERvY1N0ciwgXCJ0ZXh0L3htbFwiKS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHhtbERvYyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHhtbERvYztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyDpobXpnaLmiZPlvIDml7bpl7TmjqfliLZcclxuICAgIGYudGltZU9uUGFnZUNvbnRyb2wgPSB7XHJcbiAgICAgICAgZmlyZTogZnVuY3Rpb24obmFtZSwgdGltZSkge1xyXG4gICAgICAgICAgICBmLlNvY2tldC5wdWJzdWIuZmlyZShuYW1lLCB0aW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhZ2VPZmZSZXNldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBhZ2VPZmZUaW1lb3V0KTtcclxuICAgICAgICAgICAgZi5jb25maWcudGltZU9mZlBhZ2UgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3RpbWVPZmZQYWdlJywgZi5jb25maWcudGltZU9mZlBhZ2UpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g6aG16Z2i5YWz6Zet6K6h566X5pe26Ze0XHJcbiAgICAgICAgcGFnZU9mZlN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVCZWdpbiA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWVFbmQgPSAobmV3IERhdGUpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIGYuY29uZmlnLnRpbWVPZmZQYWdlID0gdGltZUVuZCAtIHRpbWVCZWdpbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZSgndGltZU9mZlBhZ2UnLCBmLmNvbmZpZy50aW1lT2ZmUGFnZSk7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wYWdlT2ZmVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VPZmZUaW1lb3V0ID0gc2V0VGltZW91dChsb29wLCAxMDAwKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBsb29wKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYWdlT25SZXNldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBhZ2VPblRpbWVvdXQpO1xyXG4gICAgICAgICAgICBmLmNvbmZpZy50aW1lT25QYWdlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5maXJlKCd0aW1lT25QYWdlJywgZi5jb25maWcudGltZU9uUGFnZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyDpobXpnaLmiZPlvIDorqHnrpfml7bpl7RcclxuICAgICAgICBwYWdlT25TdGFydDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lQmVnaW4gPSAobmV3IERhdGUpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lRW5kID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBmLmNvbmZpZy50aW1lT25QYWdlID0gdGltZUVuZCAtIHRpbWVCZWdpbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZSgndGltZU9uUGFnZScsIGYuY29uZmlnLnRpbWVPblBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGFnZU9uVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VPblRpbWVvdXQgPSBzZXRUaW1lb3V0KGxvb3AsIDEwMDApO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGxvb3AoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhZ2VIaWRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZi50aW1lT25QYWdlQ29udHJvbC5wYWdlT25SZXNldCgpO1xyXG4gICAgICAgICAgICBmLnRpbWVPblBhZ2VDb250cm9sLnBhZ2VPZmZTdGFydCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFnZU9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZi50aW1lT25QYWdlQ29udHJvbC5wYWdlT25TdGFydCgpO1xyXG4gICAgICAgICAgICBmLnRpbWVPblBhZ2VDb250cm9sLnBhZ2VPZmZSZXNldCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZU9uU3RhcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g54q25oCBIOaYr+WQpumUgeWxj+ebkeWQrFxyXG4gICAgZi52aXNpYmxlQ2hhbmdlTGlzdGVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhpZGRlbiA9IFwiaGlkZGVuXCIsXHJcbiAgICAgICAgICAgIHN0YXRlID0gXCJ2aXNpYmlsaXR5U3RhdGVcIixcclxuICAgICAgICAgICAgdmlzaWJpbGl0eUNoYW5nZSA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xyXG4gICAgICAgIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcclxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmhpZGRlbiAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XHJcbiAgICAgICAgICAgIHN0YXRlID0gXCJ2aXNpYmlsaXR5U3RhdGVcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4gIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgdmlzaWJpbGl0eUNoYW5nZSA9IFwibW96dmlzaWJpbGl0eWNoYW5nZVwiO1xyXG4gICAgICAgICAgICBzdGF0ZSA9IFwibW96VmlzaWJpbGl0eVN0YXRlXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQubXNIaWRkZW4gIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgdmlzaWJpbGl0eUNoYW5nZSA9IFwibXN2aXNpYmlsaXR5Y2hhbmdlXCI7XHJcbiAgICAgICAgICAgIHN0YXRlID0gXCJtc1Zpc2liaWxpdHlTdGF0ZVwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlID0gXCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCI7XHJcbiAgICAgICAgICAgIHN0YXRlID0gXCJ3ZWJraXRWaXNpYmlsaXR5U3RhdGVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodmlzaWJpbGl0eUNoYW5nZSwgdmlzaWJsZUNoYW5nZUZ1bik7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHZpc2libGVDaGFuZ2VGdW4oKSB7XHJcbiAgICAgICAgICAgIC8vIOW9k+WJjemhtemdoiDplIHlsY/miJbogIUg5pyA5bCP5YyWXHJcbiAgICAgICAgICAgIGlmIChMYXlhLkJyb3dzZXIuZG9jdW1lbnRbc3RhdGVdID09IFwiaGlkZGVuXCIpIHtcclxuICAgICAgICAgICAgICAgIGYudGltZU9uUGFnZUNvbnRyb2wucGFnZUhpZGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGYudGltZU9uUGFnZUNvbnRyb2wucGFnZU9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQU9Q6KOF6aWw6ICF5qih5byPXHJcbiAgICBGdW5jdGlvbi5wcm90b3R5cGUuX2JlZm9yZSA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciByZXRCZWZvcmUgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICBpZiAocmV0QmVmb3JlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBGdW5jdGlvbi5wcm90b3R5cGUuX2FmdGVyID0gZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJldCA9IF90aGlzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL2NvbW1vbi9jb21tb24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakNBO0FBbUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckRBO0FBdURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBOURBO0FBZ0VBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsREE7QUFvREE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUE5Q0E7QUFvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyRUE7QUFDQTtBQXVFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFuREE7QUFxREE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 14 */
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./laya_game/src/common/requestAnimationFrame.js ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/* requestAnimationFrame.js\r\n * by zhangxinxu 2013-09-30\r\n*/\n(function () {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || // name has changed in Webkit\n        window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function (callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\n            var id = window.setTimeout(function () {\n                callback(currTime + timeToCall);\n            }, timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n    }\n    if (!window.cancelAnimationFrame) {\n        window.cancelAnimationFrame = function (id) {\n            clearTimeout(id);\n        };\n    }\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9jb21tb24vcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzPzViY2YiXSwic291cmNlc0NvbnRlbnQiOlsiLyogcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzXHJcbiAqIGJ5IHpoYW5neGlueHUgMjAxMy0wOS0zMFxyXG4qL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGFzdFRpbWUgPSAwO1xyXG4gICAgdmFyIHZlbmRvcnMgPSBbJ3dlYmtpdCcsICdtb3onXTtcclxuICAgIGZvcih2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvd1t2ZW5kb3JzW3hdICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xyXG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvd1t2ZW5kb3JzW3hdICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgICAgLy8gbmFtZSBoYXMgY2hhbmdlZCBpbiBXZWJraXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dbdmVuZG9yc1t4XSArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2ssIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYuNyAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKTtcclxuICAgICAgICAgICAgfSwgdGltZVRvQ2FsbCk7XHJcbiAgICAgICAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59KCkpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL2NvbW1vbi9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 15 */
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./laya_game/src/config/resource.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GAME_VERSION = exports.RESOURCE = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _config = __webpack_require__(/*! ./config */ 3);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar XML = Laya.Loader.XML;\nvar IMAGE = Laya.Loader.IMAGE;\nvar ATLAS = Laya.Loader.ATLAS;\nvar BUFFER = Laya.Loader.BUFFER;\nvar SOUND = Laya.Loader.SOUND;\n\n// 所有的资源\nvar RESOURCE = {};\n// 游戏版本号\nvar GAME_VERSION = {};\n\n// 字体资源\nvar fonts = [{ url: \"images/font/auto.fnt\", name: 'auto', type: XML }, { url: \"images/font/auto_font.fnt\", name: 'auto_font', type: XML }, { url: \"images/font/fudai_amount.fnt\", name: 'fudai_amount', type: XML }, { url: \"images/font/new_font.fnt\", name: 'new_font', type: XML }, { url: \"images/font/queenwin_font.fnt\", name: 'queenwin_font', type: XML }, { url: \"images/font/guide_font.fnt\", name: 'guide_font', type: XML }, { url: \"images/font/font_bet.fnt\", name: 'font_bet', type: XML }, { url: \"images/font/jin.fnt\", name: 'jin', type: XML }];\n\n// loading需要的资源优先加载\nvar loadingRes = [{ url: \"images/font/load_font.fnt\", name: 'load_font', type: Laya.Loader.FONT }, { url: 'images/load/bg.jpg', type: IMAGE }, { url: 'images/load/barbg.png', type: IMAGE }, { url: 'images/load/notice.png', type: IMAGE }, { url: 'res/atlas/images/load.json', type: ATLAS }, { url: 'images/animate/loading.sk', type: BUFFER }, { url: 'images/animate/loading.png', type: IMAGE }];\n\n// 不打包图片资源\nvar unPackRes = [\n// room\n{ url: \"images/room/bg.jpg\", type: IMAGE }, { url: \"images/room/bottom.png\", type: IMAGE },\n\n// 模拟中奖\n{ url: 'images/animate/win_queen.sk', type: BUFFER }, { url: 'images/animate/win_queen.png', type: IMAGE },\n// 企鹅骨骼动画的资源\n{ url: 'images/animate/penguin_0.sk', type: BUFFER }, { url: 'images/animate/penguin_0.png', type: IMAGE }, { url: 'images/animate/penguin_1.sk', type: BUFFER }, { url: 'images/animate/penguin_1.png', type: IMAGE }, { url: 'images/animate/penguin_2.sk', type: BUFFER }, { url: 'images/animate/penguin_2.png', type: IMAGE }, { url: 'images/animate/penguin_3.sk', type: BUFFER }, { url: 'images/animate/penguin_3.png', type: IMAGE },\n\n// 雪坑\n{ url: 'images/animate/keng.sk', type: BUFFER }, { url: 'images/animate/keng.png', type: IMAGE }, { url: 'images/animate/snow.sk', type: BUFFER }, { url: 'images/animate/snow.png', type: IMAGE },\n\n//按钮\n{ url: 'images/animate/button.sk', type: BUFFER }, { url: 'images/animate/button.png', type: IMAGE },\n// 福袋\n{ url: 'images/animate/fudai.sk', type: BUFFER }, { url: 'images/animate/fudai.png', type: IMAGE },\n\n// 语句\n{ url: 'images/animate/talk.sk', type: BUFFER }, { url: 'images/animate/talk.png', type: IMAGE },\n//女王\n{ url: 'images/animate/queen.sk', type: BUFFER }, { url: 'images/animate/queen.png', type: IMAGE },\n//女王\n{ url: 'images/animate/hand.sk', type: BUFFER }, { url: 'images/animate/hand.png', type: IMAGE },\n\n// 排行榜弹层的资源\n{ url: 'images/pop/rank/bg_rank.png', type: IMAGE }, { url: 'images/pop/rank/bg_con1.png', type: IMAGE }, { url: 'images/pop/rank/rank.png', type: IMAGE },\n\n// 帮助资源\n{ url: 'images/pop/help/banner_01.png', type: IMAGE }, { url: 'images/pop/help/banner_02.png', type: IMAGE },\n\n// 福袋\n{ url: 'images/pop/fudai/bg_01.png', type: IMAGE }, { url: 'images/pop/fudai/bg_02.png', type: IMAGE }, { url: 'images/pop/fudai/txt_header.png', type: IMAGE }, { url: 'images/pop/fudai/txt_title.png', type: IMAGE },\n\n// 宝藏说明弹层\n{ url: 'images/pop/precious/bg_precious.png', type: IMAGE },\n// 充值弹层\n{ url: 'images/pop/recharge/bg.png', type: IMAGE },\n\n//  公共弹层\n{ url: 'images/pop/tips/bg_tips.png', type: IMAGE }, { url: 'images/pop/tips/bg_bet.png', type: IMAGE }];\n\n// 打包的json文件\nvar packRes = [\n// room\n{ url: 'res/atlas/images/room.json', type: ATLAS },\n//pop\n{ url: 'res/atlas/images/pop/rank.json', type: ATLAS }, { url: 'res/atlas/images/pop/help.json', type: ATLAS }, { url: 'res/atlas/images/pop/fudai.json', type: ATLAS }, { url: 'res/atlas/images/pop/recharge.json', type: ATLAS }, { url: 'res/atlas/images/pop/tips.json', type: ATLAS }];\n\n//音效\nvar audioRes = [{ url: 'audio/bg.mp3', type: SOUND }, { url: 'audio/btn.mp3', type: SOUND }, { url: 'audio/bian.mp3', type: SOUND }, { url: 'audio/dig_0.mp3', type: SOUND }, { url: 'audio/dig_1.mp3', type: SOUND }, { url: 'audio/dig_2.mp3', type: SOUND }, { url: 'audio/dig_3.mp3', type: SOUND }, { url: 'audio/queen.mp3', type: SOUND }, { url: 'audio/receive.mp3', type: SOUND }, { url: 'audio/run.mp3', type: SOUND }, { url: 'audio/runbeak.mp3', type: SOUND }, { url: 'audio/win.mp3', type: SOUND }, { url: 'audio/winqueen.mp3', type: SOUND }, { url: 'audio/zha.mp3', type: SOUND }];\n\n// 字体\nRESOURCE.fonts = fonts;\n// 加载页资源\nRESOURCE.loadingRes = loadingRes;\n// 非加载页资源\nRESOURCE.disLoadingRes = [].concat(audioRes, unPackRes, packRes);\n\n// 总的资源\nRESOURCE.images = [].concat(_toConsumableArray(RESOURCE.disLoadingRes), loadingRes);\n\nvar loop = function loop(arr) {\n    if ((typeof arr === 'undefined' ? 'undefined' : _typeof(arr)) !== 'object') {\n        return;\n    }\n    arr.forEach(function (item, i) {\n        var newUrl = void 0;\n        var jsonIndex = void 0;\n        var fntIndex = void 0;\n        var atlasIndex = void 0;\n        if (typeof item.url === 'string') {\n            // 若加载后缀有 .json 和.fnt 的, 则连它们对应的 png一起添加了\n            jsonIndex = item.url.indexOf('.json');\n            fntIndex = item.url.indexOf('.fnt');\n            atlasIndex = item.url.indexOf('.atlas');\n            if (jsonIndex > -1) {\n                newUrl = item.url.substr(0, jsonIndex) + '.png';\n            } else if (fntIndex > -1) {\n                newUrl = item.url.substr(0, fntIndex) + '.png';\n            } else if (atlasIndex > -1) {\n                newUrl = item.url.substr(0, atlasIndex) + '.png';\n            }\n\n            if (newUrl) {\n                GAME_VERSION[newUrl] = _config2.default.STATIC_VERTION;\n            }\n\n            GAME_VERSION[item.url] = _config2.default.STATIC_VERTION;\n        } else {\n            loop(item);\n        }\n    });\n};\n\nloop([].concat(_toConsumableArray(RESOURCE.fonts), _toConsumableArray(RESOURCE.images)));\n\nexports.RESOURCE = RESOURCE;\nexports.GAME_VERSION = GAME_VERSION;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9jb25maWcvcmVzb3VyY2UuanM/MTAyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR0FNRV9DT05GSUcgZnJvbSAnLi9jb25maWcnO1xyXG5cclxuXHJcbmxldCBYTUwgPSBMYXlhLkxvYWRlci5YTUw7XHJcbmxldCBJTUFHRSA9IExheWEuTG9hZGVyLklNQUdFO1xyXG5sZXQgQVRMQVMgPSBMYXlhLkxvYWRlci5BVExBUztcclxubGV0IEJVRkZFUiA9IExheWEuTG9hZGVyLkJVRkZFUjtcclxubGV0IFNPVU5EID0gTGF5YS5Mb2FkZXIuU09VTkQ7XHJcblxyXG4vLyDmiYDmnInnmoTotYTmupBcclxuY29uc3QgUkVTT1VSQ0UgPSB7fTtcclxuLy8g5ri45oiP54mI5pys5Y+3XHJcbmNvbnN0IEdBTUVfVkVSU0lPTiA9IHt9O1xyXG5cclxuLy8g5a2X5L2T6LWE5rqQXHJcbmxldCBmb250cyA9IFtcclxuICAgIHsgdXJsOiBcImltYWdlcy9mb250L2F1dG8uZm50XCIsIG5hbWU6ICdhdXRvJywgdHlwZTogWE1MIH0sXHJcbiAgICB7IHVybDogXCJpbWFnZXMvZm9udC9hdXRvX2ZvbnQuZm50XCIsIG5hbWU6ICdhdXRvX2ZvbnQnLCB0eXBlOiBYTUwgfSxcclxuICAgIHsgdXJsOiBcImltYWdlcy9mb250L2Z1ZGFpX2Ftb3VudC5mbnRcIiwgbmFtZTogJ2Z1ZGFpX2Ftb3VudCcsIHR5cGU6IFhNTCB9LFxyXG4gICAgeyB1cmw6IFwiaW1hZ2VzL2ZvbnQvbmV3X2ZvbnQuZm50XCIsIG5hbWU6ICduZXdfZm9udCcsIHR5cGU6IFhNTCB9LFxyXG4gICAgeyB1cmw6IFwiaW1hZ2VzL2ZvbnQvcXVlZW53aW5fZm9udC5mbnRcIiwgbmFtZTogJ3F1ZWVud2luX2ZvbnQnLCB0eXBlOiBYTUwgfSxcclxuICAgIHsgdXJsOiBcImltYWdlcy9mb250L2d1aWRlX2ZvbnQuZm50XCIsIG5hbWU6ICdndWlkZV9mb250JywgdHlwZTogWE1MIH0sXHJcbiAgICB7IHVybDogXCJpbWFnZXMvZm9udC9mb250X2JldC5mbnRcIiwgbmFtZTogJ2ZvbnRfYmV0JywgdHlwZTogWE1MIH0sXHJcbiAgICB7IHVybDogXCJpbWFnZXMvZm9udC9qaW4uZm50XCIsIG5hbWU6ICdqaW4nLCB0eXBlOiBYTUwgfVxyXG5dO1xyXG5cclxuLy8gbG9hZGluZ+mcgOimgeeahOi1hOa6kOS8mOWFiOWKoOi9vVxyXG5sZXQgbG9hZGluZ1JlcyA9IFtcclxuICAgIHsgdXJsOiBcImltYWdlcy9mb250L2xvYWRfZm9udC5mbnRcIiwgbmFtZTogJ2xvYWRfZm9udCcsIHR5cGU6IExheWEuTG9hZGVyLkZPTlQgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2xvYWQvYmcuanBnJywgdHlwZTogSU1BR0UgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2xvYWQvYmFyYmcucG5nJywgdHlwZTogSU1BR0UgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2xvYWQvbm90aWNlLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICB7IHVybDogJ3Jlcy9hdGxhcy9pbWFnZXMvbG9hZC5qc29uJywgdHlwZTogQVRMQVMgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvbG9hZGluZy5zaycsIHR5cGU6IEJVRkZFUiB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS9sb2FkaW5nLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbl1cclxuXHJcbi8vIOS4jeaJk+WMheWbvueJh+i1hOa6kFxyXG5sZXQgdW5QYWNrUmVzID0gW1xyXG4gICAgLy8gcm9vbVxyXG4gICAgeyB1cmw6IFwiaW1hZ2VzL3Jvb20vYmcuanBnXCIsIHR5cGU6IElNQUdFIH0sXHJcbiAgICB7IHVybDogXCJpbWFnZXMvcm9vbS9ib3R0b20ucG5nXCIsIHR5cGU6IElNQUdFIH0sXHJcblxyXG4gICAgLy8g5qih5ouf5Lit5aWWXHJcbiAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvd2luX3F1ZWVuLnNrJywgdHlwZTogQlVGRkVSIH0sXHJcbiAgICB7IHVybDogJ2ltYWdlcy9hbmltYXRlL3dpbl9xdWVlbi5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG4gICAgLy8g5LyB6bmF6aqo6aq85Yqo55S755qE6LWE5rqQXHJcbiAgICB7IHVybDogJ2ltYWdlcy9hbmltYXRlL3Blbmd1aW5fMC5zaycsIHR5cGU6IEJVRkZFUiB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS9wZW5ndWluXzAucG5nJywgdHlwZTogSU1BR0UgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvcGVuZ3Vpbl8xLnNrJywgdHlwZTogQlVGRkVSIH0sXHJcbiAgICB7IHVybDogJ2ltYWdlcy9hbmltYXRlL3Blbmd1aW5fMS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS9wZW5ndWluXzIuc2snLCB0eXBlOiBCVUZGRVIgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvcGVuZ3Vpbl8yLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICB7IHVybDogJ2ltYWdlcy9hbmltYXRlL3Blbmd1aW5fMy5zaycsIHR5cGU6IEJVRkZFUiB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS9wZW5ndWluXzMucG5nJywgdHlwZTogSU1BR0UgfSxcclxuXHJcbiAgICAvLyDpm6rlnZFcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUva2VuZy5zaycsIHR5cGU6IEJVRkZFUiB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS9rZW5nLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcblxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS9zbm93LnNrJywgdHlwZTogQlVGRkVSIH0sXHJcbiAgICB7IHVybDogJ2ltYWdlcy9hbmltYXRlL3Nub3cucG5nJywgdHlwZTogSU1BR0UgfSxcclxuXHJcbiAgICAvL+aMiemSrlxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS9idXR0b24uc2snLCB0eXBlOiBCVUZGRVIgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvYnV0dG9uLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICAvLyDnpo/oootcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvZnVkYWkuc2snLCB0eXBlOiBCVUZGRVIgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvZnVkYWkucG5nJywgdHlwZTogSU1BR0UgfSxcclxuXHJcbiAgICAvLyDor63lj6VcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvdGFsay5zaycsIHR5cGU6IEJVRkZFUiB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvYW5pbWF0ZS90YWxrLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICAgLy/lpbPnjotcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvcXVlZW4uc2snLCB0eXBlOiBCVUZGRVIgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvcXVlZW4ucG5nJywgdHlwZTogSU1BR0UgfSxcclxuICAgIC8v5aWz546LXHJcbiAgICB7IHVybDogJ2ltYWdlcy9hbmltYXRlL2hhbmQuc2snLCB0eXBlOiBCVUZGRVIgfSxcclxuICAgIHsgdXJsOiAnaW1hZ2VzL2FuaW1hdGUvaGFuZC5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG5cclxuICAgIC8vIOaOkuihjOamnOW8ueWxgueahOi1hOa6kFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvcG9wL3JhbmsvYmdfcmFuay5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvcG9wL3JhbmsvYmdfY29uMS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvcG9wL3JhbmsvcmFuay5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG5cclxuICAgIC8vIOW4ruWKqei1hOa6kFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvcG9wL2hlbHAvYmFubmVyXzAxLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICB7IHVybDogJ2ltYWdlcy9wb3AvaGVscC9iYW5uZXJfMDIucG5nJywgdHlwZTogSU1BR0UgfSxcclxuXHJcbiAgICAvLyDnpo/oootcclxuICAgIHsgdXJsOiAnaW1hZ2VzL3BvcC9mdWRhaS9iZ18wMS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvcG9wL2Z1ZGFpL2JnXzAyLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICB7IHVybDogJ2ltYWdlcy9wb3AvZnVkYWkvdHh0X2hlYWRlci5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG4gICAgeyB1cmw6ICdpbWFnZXMvcG9wL2Z1ZGFpL3R4dF90aXRsZS5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG5cclxuICAgIC8vIOWuneiXj+ivtOaYjuW8ueWxglxyXG4gICAgeyB1cmw6ICdpbWFnZXMvcG9wL3ByZWNpb3VzL2JnX3ByZWNpb3VzLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICAvLyDlhYXlgLzlvLnlsYJcclxuICAgIHsgdXJsOiAnaW1hZ2VzL3BvcC9yZWNoYXJnZS9iZy5wbmcnLCB0eXBlOiBJTUFHRSB9LFxyXG5cclxuXHJcbiAgICAvLyAg5YWs5YWx5by55bGCXHJcbiAgICB7IHVybDogJ2ltYWdlcy9wb3AvdGlwcy9iZ190aXBzLnBuZycsIHR5cGU6IElNQUdFIH0sXHJcbiAgICB7IHVybDogJ2ltYWdlcy9wb3AvdGlwcy9iZ19iZXQucG5nJywgdHlwZTogSU1BR0UgfVxyXG5dO1xyXG5cclxuLy8g5omT5YyF55qEanNvbuaWh+S7tlxyXG5sZXQgcGFja1JlcyA9IFtcclxuICAgIC8vIHJvb21cclxuICAgIHsgdXJsOiAncmVzL2F0bGFzL2ltYWdlcy9yb29tLmpzb24nLCB0eXBlOiBBVExBUyB9LFxyXG4gICAgLy9wb3BcclxuICAgIHsgdXJsOiAncmVzL2F0bGFzL2ltYWdlcy9wb3AvcmFuay5qc29uJywgdHlwZTogQVRMQVMgfSxcclxuICAgIHsgdXJsOiAncmVzL2F0bGFzL2ltYWdlcy9wb3AvaGVscC5qc29uJywgdHlwZTogQVRMQVMgfSxcclxuICAgIHsgdXJsOiAncmVzL2F0bGFzL2ltYWdlcy9wb3AvZnVkYWkuanNvbicsIHR5cGU6IEFUTEFTIH0sXHJcbiAgICB7IHVybDogJ3Jlcy9hdGxhcy9pbWFnZXMvcG9wL3JlY2hhcmdlLmpzb24nLCB0eXBlOiBBVExBUyB9LFxyXG4gICAgeyB1cmw6ICdyZXMvYXRsYXMvaW1hZ2VzL3BvcC90aXBzLmpzb24nLCB0eXBlOiBBVExBUyB9XHJcbl07XHJcblxyXG4vL+mfs+aViFxyXG5sZXQgYXVkaW9SZXMgPSBbXHJcbiAgICB7IHVybDogJ2F1ZGlvL2JnLm1wMycsIHR5cGU6IFNPVU5EfSxcclxuICAgIHsgdXJsOiAnYXVkaW8vYnRuLm1wMycsIHR5cGU6IFNPVU5EIH0sXHJcbiAgICB7IHVybDogJ2F1ZGlvL2JpYW4ubXAzJywgdHlwZTogU09VTkR9LFxyXG4gICAgeyB1cmw6ICdhdWRpby9kaWdfMC5tcDMnLCB0eXBlOlNPVU5EfSxcclxuICAgIHsgdXJsOiAnYXVkaW8vZGlnXzEubXAzJywgdHlwZTogU09VTkR9LFxyXG4gICAgeyB1cmw6ICdhdWRpby9kaWdfMi5tcDMnLCB0eXBlOiBTT1VORH0sXHJcbiAgICB7IHVybDogJ2F1ZGlvL2RpZ18zLm1wMycsIHR5cGU6IFNPVU5EIH0sXHJcbiAgICB7IHVybDogJ2F1ZGlvL3F1ZWVuLm1wMycsIHR5cGU6IFNPVU5EIH0sXHJcbiAgICB7IHVybDogJ2F1ZGlvL3JlY2VpdmUubXAzJywgdHlwZTogU09VTkR9LFxyXG4gICAgeyB1cmw6ICdhdWRpby9ydW4ubXAzJywgdHlwZTogU09VTkQgfSxcclxuICAgIHsgdXJsOiAnYXVkaW8vcnVuYmVhay5tcDMnLCB0eXBlOiBTT1VORCB9LFxyXG4gICAgeyB1cmw6ICdhdWRpby93aW4ubXAzJywgdHlwZTogU09VTkQgfSxcclxuICAgIHsgdXJsOiAnYXVkaW8vd2lucXVlZW4ubXAzJywgdHlwZTogU09VTkQgfSxcclxuICAgIHsgdXJsOiAnYXVkaW8vemhhLm1wMycsIHR5cGU6IFNPVU5EIH1cclxuXTtcclxuXHJcblxyXG4vLyDlrZfkvZNcclxuUkVTT1VSQ0UuZm9udHMgPSBmb250cztcclxuLy8g5Yqg6L296aG16LWE5rqQXHJcblJFU09VUkNFLmxvYWRpbmdSZXMgPSBsb2FkaW5nUmVzO1xyXG4vLyDpnZ7liqDovb3pobXotYTmupBcclxuUkVTT1VSQ0UuZGlzTG9hZGluZ1JlcyA9IFsuLi5hdWRpb1JlcywgLi4udW5QYWNrUmVzLCAuLi5wYWNrUmVzXTtcclxuXHJcbi8vIOaAu+eahOi1hOa6kFxyXG5SRVNPVVJDRS5pbWFnZXMgPSBbLi4uUkVTT1VSQ0UuZGlzTG9hZGluZ1JlcywgLi4ubG9hZGluZ1Jlc107XHJcblxyXG5sZXQgbG9vcCA9IChhcnIpID0+IHtcclxuICAgIGlmICh0eXBlb2YgYXJyICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGkpIHtcclxuICAgICAgICBsZXQgbmV3VXJsO1xyXG4gICAgICAgIGxldCBqc29uSW5kZXg7XHJcbiAgICAgICAgbGV0IGZudEluZGV4O1xyXG4gICAgICAgIGxldCBhdGxhc0luZGV4O1xyXG4gICAgICAgIGlmICh0eXBlb2YgaXRlbS51cmwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgLy8g6Iul5Yqg6L295ZCO57yA5pyJIC5qc29uIOWSjC5mbnQg55qELCDliJnov57lroPku6zlr7nlupTnmoQgcG5n5LiA6LW35re75Yqg5LqGXHJcbiAgICAgICAgICAgIGpzb25JbmRleCA9IGl0ZW0udXJsLmluZGV4T2YoJy5qc29uJyk7XHJcbiAgICAgICAgICAgIGZudEluZGV4ID0gaXRlbS51cmwuaW5kZXhPZignLmZudCcpO1xyXG4gICAgICAgICAgICBhdGxhc0luZGV4ID0gaXRlbS51cmwuaW5kZXhPZignLmF0bGFzJyk7XHJcbiAgICAgICAgICAgIGlmIChqc29uSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgbmV3VXJsID0gaXRlbS51cmwuc3Vic3RyKDAsIGpzb25JbmRleCkgKyAnLnBuZyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm50SW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgbmV3VXJsID0gaXRlbS51cmwuc3Vic3RyKDAsIGZudEluZGV4KSArICcucG5nJztcclxuICAgICAgICAgICAgfWVsc2UgaWYgKGF0bGFzSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgbmV3VXJsID0gaXRlbS51cmwuc3Vic3RyKDAsIGF0bGFzSW5kZXgpICsgJy5wbmcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobmV3VXJsKSB7XHJcbiAgICAgICAgICAgICAgICBHQU1FX1ZFUlNJT05bbmV3VXJsXSA9IEdBTUVfQ09ORklHLlNUQVRJQ19WRVJUSU9OO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBHQU1FX1ZFUlNJT05baXRlbS51cmxdID0gR0FNRV9DT05GSUcuU1RBVElDX1ZFUlRJT047XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbG9vcChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxubG9vcChbLi4uUkVTT1VSQ0UuZm9udHMsIC4uLlJFU09VUkNFLmltYWdlc10pO1xyXG5cclxuXHJcbmV4cG9ydCB7IFJFU09VUkNFLCBHQU1FX1ZFUlNJT04gfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvY29uZmlnL3Jlc291cmNlLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBOzs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 16 */
/* no static exports found */
/* all exports used */
/*!***************************************!*\
  !*** ./laya_game/src/pop/init_pop.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = initAllPop;\n\nvar _helpPop = __webpack_require__(/*! ./com/helpPop */ 28);\n\nvar _instructPop = __webpack_require__(/*! ./com/instructPop */ 30);\n\nvar _rechargePop = __webpack_require__(/*! ./com/rechargePop */ 33);\n\nvar _rankPop = __webpack_require__(/*! ./com/rankPop */ 32);\n\nvar _fudaiPop = __webpack_require__(/*! ./com/fudaiPop */ 27);\n\nvar _commonPop = __webpack_require__(/*! ./com/commonPop */ 10);\n\nvar _defaultBetPop = __webpack_require__(/*! ./com/defaultBetPop */ 26);\n\nvar _defaultBetPop2 = _interopRequireDefault(_defaultBetPop);\n\nvar _queenPop = __webpack_require__(/*! ./com/queenPop */ 31);\n\nvar _hinderPop = __webpack_require__(/*! ./com/hinderPop */ 29);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// 初始化所有弹层\n\nfunction initAllPop(_ref) {\n    var messageCenter = _ref.messageCenter,\n        observer = _ref.observer;\n\n    // 帮助弹层\n    new _helpPop.HelpPopDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n    // 宝藏说明\n    new _instructPop.InstructPopDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n    // 充值弹层\n    new _rechargePop.RechargePopDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n\n    // 排行榜\n    new _rankPop.RankPopDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n\n    //福袋\n    new _fudaiPop.FudaiPopDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n\n    //  公共提示弹层\n    new _commonPop.CommonTipsPopDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n\n    // 女王\n    new _queenPop.QueenDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n\n    // 障碍物提示\n    new _hinderPop.HinderPopDialog().registerAction({ messageCenter: messageCenter, observer: observer });\n\n    // 默认投币额\n    new _defaultBetPop2.default();\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvaW5pdF9wb3AuanM/MTFhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgSGVscFBvcERpYWxvZyB9IGZyb20gJy4vY29tL2hlbHBQb3AnO1xyXG5pbXBvcnQgeyBJbnN0cnVjdFBvcERpYWxvZyB9IGZyb20gJy4vY29tL2luc3RydWN0UG9wJztcclxuaW1wb3J0IHsgUmVjaGFyZ2VQb3BEaWFsb2cgfSBmcm9tICcuL2NvbS9yZWNoYXJnZVBvcCc7XHJcbmltcG9ydCB7IFJhbmtQb3BEaWFsb2cgfSBmcm9tICcuL2NvbS9yYW5rUG9wJztcclxuaW1wb3J0IHsgRnVkYWlQb3BEaWFsb2cgfSBmcm9tICcuL2NvbS9mdWRhaVBvcCc7XHJcbmltcG9ydCB7Q29tbW9uVGlwc1BvcERpYWxvZ30gZnJvbSAnLi9jb20vY29tbW9uUG9wJztcclxuaW1wb3J0IERlZmF1bHRCZXRWaWV3IGZyb20gJy4vY29tL2RlZmF1bHRCZXRQb3AnO1xyXG5pbXBvcnQge1F1ZWVuRGlhbG9nfSBmcm9tICcuL2NvbS9xdWVlblBvcCc7XHJcbmltcG9ydCB7SGluZGVyUG9wRGlhbG9nfSBmcm9tICcuL2NvbS9oaW5kZXJQb3AnO1xyXG5cclxuLy8g5Yid5aeL5YyW5omA5pyJ5by55bGCXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0QWxsUG9wKHttZXNzYWdlQ2VudGVyLCBvYnNlcnZlcn0pIHtcclxuXHQvLyDluK7liqnlvLnlsYJcclxuXHRuZXcgSGVscFBvcERpYWxvZygpLnJlZ2lzdGVyQWN0aW9uKHttZXNzYWdlQ2VudGVyLCBvYnNlcnZlcn0pO1xyXG4gICAgLy8g5a6d6JeP6K+05piOXHJcbiAgICBuZXcgSW5zdHJ1Y3RQb3BEaWFsb2coKS5yZWdpc3RlckFjdGlvbih7bWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9KTtcclxuICAgIC8vIOWFheWAvOW8ueWxglxyXG4gICAgbmV3IFJlY2hhcmdlUG9wRGlhbG9nKCkucmVnaXN0ZXJBY3Rpb24oe21lc3NhZ2VDZW50ZXIsIG9ic2VydmVyfSk7XHJcblxyXG4gICAgLy8g5o6S6KGM5qacXHJcbiAgICBuZXcgUmFua1BvcERpYWxvZygpLnJlZ2lzdGVyQWN0aW9uKHttZXNzYWdlQ2VudGVyLCBvYnNlcnZlcn0pO1xyXG5cclxuICAgIC8v56aP6KKLXHJcbiAgICBuZXcgRnVkYWlQb3BEaWFsb2coKS5yZWdpc3RlckFjdGlvbih7bWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9KTtcclxuXHJcbiAgICAvLyAg5YWs5YWx5o+Q56S65by55bGCXHJcbiAgICBuZXcgQ29tbW9uVGlwc1BvcERpYWxvZygpLnJlZ2lzdGVyQWN0aW9uKHttZXNzYWdlQ2VudGVyLCBvYnNlcnZlcn0pO1xyXG5cclxuICAgIC8vIOWls+eOi1xyXG4gICAgbmV3IFF1ZWVuRGlhbG9nKCkucmVnaXN0ZXJBY3Rpb24oe21lc3NhZ2VDZW50ZXIsIG9ic2VydmVyfSk7XHJcblxyXG4gICAgLy8g6Zqc56KN54mp5o+Q56S6XHJcbiAgICBuZXcgSGluZGVyUG9wRGlhbG9nKCkucmVnaXN0ZXJBY3Rpb24oe21lc3NhZ2VDZW50ZXIsIG9ic2VydmVyfSk7XHJcblxyXG4gICAgLy8g6buY6K6k5oqV5biB6aKdXHJcbiAgICBuZXcgRGVmYXVsdEJldFZpZXcoKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvcG9wL2luaXRfcG9wLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQWFBO0FBQ0E7QUFiQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 17 */
/* no static exports found */
/* all exports used */
/*!****************************************!*\
  !*** ./laya_game/src/sail/keyboard.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n;(function () {\n    var utils = Sail && Sail.Utils || $;\n\n    var SKIN = {\n        \"confirm\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAWlBMVEUAAADMQkLLQkLLQkL9Y2PLQkLLQkL9Y2PMQkL9Y2PLQkLLQkLdTk75YGD7YmL9Y2P2Xl77YmL9Y2P9Y2P9Y2PLQkL9Y2PLQkL3Xl7cTU3tWFj5YGDoVVXmVFTAQB7jAAAAFnRSTlMA4qyPiltUU9sGBvr59e3cyl/fplYHf9H6ogAAAJVJREFUKM/lzFkOhCAQRdEHCs5TD1WAuv9ttm00xii1Ae/vSS7Wis/7Ree6DHtZRzelm6Z0XyrpUvY/U7S2QNFSvAEDCfXoJW7QkBTooTzK7CR1CBIH1BLXyIX7qKB9nL2G4TmmMxuUiqd7nVh9Acvs3RWdZ7ZYSpjZB3eysCAnwOaXDgVsfsXcAnul0ao6qFLalCv8AOM4RjeBMUEAAAAAAElFTkSuQmCC\",\n        \"delete\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAb1BMVEUAAADLy8ttbGzMzMzMzMxtbGzMzMxtbGzMzMxtbGzMzMxubW3MzMxtbGxtbGyQj4/MzMxtbGxtbGzMzMzMzMzMzMzMzMzMzMzMzMxwb29tbGzMzMxtbGzBwcGtra2NjIy/vr6goKCPjo6kpKSko6Pen5mzAAAAG3RSTlMA/N2piVtVVAYGA+ParPr54ZSKW1Hz5OPf2quDrJY6AAAAqklEQVQoz9XPSQ6DMBBE0TKEeR4yum0Dyf3PGCARLLA76/ztk0oqrMWhfxNy65z7YYytPpeH8v6L6UlaO6Urz+rwRUPpLATiq5svMTrJ1MHn2EfNcQ3BsYBk+2P+8XvgWEFzrFFxXOGumO0MD+NmUyCg0aUjBUgyetn1SVkCRETG8m4wRBHmWiKatBI7CaUnImqxlDZkrUnxKfKO6EXYSoLCK3cqvSJIVngDsvlU0+yaOfMAAAAASUVORK5CYII=\",\n        \"number\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAeFBMVEUAAADGxsa3t7f///////////////////+3t7e3t7fo6Oi3t7fT09P///////+3t7e6urr///+3t7f///+3t7e3t7f///////////////+3t7e3t7f///+3t7fQ0ND29vb19fX7+/v39/fo6Ojh4eHe3t65ubm4uLiqIy5xAAAAHHRSTlMABeKJVQb64VtV/Prp5NvbrqysppSKW1Hz11xTZZ6wfwAAAKVJREFUKM/d00cSgzAQRNEWOefgIIkM97+hMbhwuUBzAP/tq1nMorFlGrlt8aPbPTdMHNURPxXVH2Q6v0xnG6+q8LcaXJkBmKGaQxMVJ6qQUpzCptiGRbEFTva/3FHaoaW4gUexh4DiAEmv1j6BI9UsH2DapNJJY4C7jNc6Li7WSiHbM7ZSlPsMCjHLofn5d5CzKBj2nrE4Fbs4Yk6m+V/ytczZT1+rJlhgr8lBXAAAAABJRU5ErkJggg==\"\n    };\n    var SKIN_PATH = \"public/keyboard_\" + (Math.random() * 9999999 | 0) + \"/\";\n    var KEYS = [{ text: \"1\", skin: \"number\", x: 20, y: 15 }, { text: \"2\", skin: \"number\", x: 280, y: 15 }, { text: \"3\", skin: \"number\", x: 545, y: 15 }, { text: \"4\", skin: \"number\", x: 20, y: 125 }, { text: \"5\", skin: \"number\", x: 280, y: 125 }, { text: \"6\", skin: \"number\", x: 545, y: 125 }, { text: \"7\", skin: \"number\", x: 20, y: 235 }, { text: \"8\", skin: \"number\", x: 280, y: 235 }, { text: \"9\", skin: \"number\", x: 545, y: 235 }, { text: \"0\", skin: \"number\", x: 810, y: 15 }, { text: \"00\", skin: \"number\", x: 810, y: 125 }, { text: \".\", skin: \"number\", x: 810, y: 235 }, { text: \"确定\", skin: \"confirm\", x: 1070, y: 15 }, { text: \"删除\", skin: \"delete\", x: 1070, y: 235 }];\n    var EVENT_CLICK = Laya.Event.CLICK;\n\n    var KeyBoardMask = function (_super) {\n        function KeyBoardMask() {\n            KeyBoardMask.super(this);\n\n            this.configAlpha = null;\n            this.configColor = null;\n            this.closeOnSide = false;\n\n            this.on(EVENT_CLICK, this, function () {\n                if (this.closeOnSide) {\n                    this.event(\"exit\", [\"mask\", null]);\n                }\n            });\n        }\n        Laya.class(KeyBoardMask, \"\", _super);\n        var _proto = KeyBoardMask.prototype;\n\n        _proto.update = function (width, height, alpha, color, closeOnSide) {\n            this.alpha = this.configAlpha = alpha;\n            this.configColor = color;\n            this.closeOnSide = closeOnSide;\n\n            this.resize(width, height);\n        };\n        _proto.resize = function (width, height) {\n            this.size(width, height);\n            this.graphics.clear();\n            this.graphics.drawRect(0, 0, this.width, this.height, this.configColor);\n            this.alpha = this.configAlpha;\n        };\n\n        return KeyBoardMask;\n    }(Laya.Sprite);\n\n    var InputText = function (_super) {\n        function InputText() {\n            InputText.super(this);\n\n            this.Mask = null;\n            this.textValue = null;\n            this.originHeight = null;\n\n            this.init();\n        }\n        Laya.class(InputText, \"KeyBoard.InputText\", _super);\n        var _proto = InputText.prototype;\n        _proto.destroy = function () {\n            _super.prototype.destroy.call(this, true);\n            this.Mask = null;\n            this.textValue = null;\n            this.originHeight = null;\n        };\n        _proto.init = function (width) {\n            this.originHeight = 60;\n\n            var mask = new KeyBoardMask();\n            mask.update(this.width, this.height, 0.5, \"#000000\", false);\n\n            var text = new Laya.Label();\n            text.height = 30;\n            text.fontSize = 30;\n            text.align = \"center\";\n\n            this.Mask = mask;\n            this.textValue = text;\n            this.addChildren(mask, text);\n        };\n        _proto.update = function (value, color) {\n            this.textValue.color = color;\n            this.textValue.text = value;\n        };\n        _proto.resize = function (width, height) {\n            var yrate = height / 1334;\n\n            this.size(width, this.originHeight * yrate);\n            this.Mask.resize(this.width, this.height);\n            this.textValue.width = width;\n            this.textValue.bottom = 0;\n            this.top = -this.height;\n        };\n\n        return InputText;\n    }(Laya.Box);\n\n    var KeyBoardButton = function (_super) {\n        function KeyBoardButton(config, callback) {\n            KeyBoardButton.super(this);\n\n            this.config = null;\n            this.callback = null;\n            this.label = null;\n\n            this.init(config, callback);\n        }\n\n        Laya.class(KeyBoardButton, \"\", _super);\n        var _proto = KeyBoardButton.prototype;\n        _proto.destroy = function () {\n            _super.prototype.destroy.call(this, true);\n\n            this.config = null;\n            this.callback = null;\n            this.label = null;\n        };\n\n        _proto.init = function (config, callback) {\n            config.width = 240;\n            config.height = config.skin === \"confirm\" ? 210 : 100;\n            this.config = config;\n\n            this.skin = SKIN_PATH + config.skin + \".png\";\n            this.sizeGrid = \"15,15,15,15\";\n\n            this.resize(Laya.stage.width, Laya.stage.height);\n            this.create(config);\n\n            this.on(EVENT_CLICK, this, callback, [config.text]);\n        };\n        _proto.create = function (config) {\n            var label = new Laya.Label(config.text);\n            label.color = config.skin === \"confirm\" ? \"#ffffff\" : \"#1c1c1c\";\n            label.font = \"arial\";\n            label.align = \"center\";\n            label.fontSize = 40;\n            label.size(this.width, label.fontSize);\n            label.centerY = 0;\n\n            this.label = label;\n            this.addChild(label);\n        };\n        _proto.resize = function (width, height) {\n            var xrate = width / 1334;\n            var yrate = height / 1334;\n\n            this.size(this.config.width * xrate, this.config.height * yrate);\n            this.pos(this.config.x * xrate, this.config.y * yrate);\n            this.label && (this.label.width = this.width);\n        };\n\n        return KeyBoardButton;\n    }(Laya.Image);\n\n    var KeyBoardPanel = function (_super) {\n        function KeyBoardPanel() {\n            KeyBoardPanel.super(this);\n\n            this.keys = [];\n            this.textValue = \"\";\n            this.inputText = null;\n            this.panelMask = null;\n\n            this.init();\n        }\n        Laya.class(KeyBoardPanel, \"\", _super);\n        var _proto = KeyBoardPanel.prototype;\n        _proto.destroy = function () {\n            _super.prototype.destroy.call(this, true);\n        };\n\n        _proto.init = function () {\n            var height = Laya.stage.height;\n            height = height < 750 ? 750 : height;\n\n            this.size(Laya.stage.width, height / 1334 * 350);\n            this.bottom = -this.height;\n\n            var panelMask = new KeyBoardMask();\n            panelMask.update(this.width, this.height, 0.5, \"#000000\", false);\n\n            var inputText = new InputText();\n            inputText.resize(this.width, height);\n\n            this.inputText = inputText;\n            this.panelMask = panelMask;\n            this.addChildren(panelMask, inputText);\n\n            for (var i in KEYS) {\n                this.keys.push(new KeyBoardButton(KEYS[i], this.onClick.bind(this)));\n            }\n            _super.prototype.addChildren.apply(this, this.keys);\n        };\n        _proto.onClick = function (text) {\n            this.event(\"input\", [text]);\n        };\n\n        _proto.update = function (value, color) {\n            this.inputText.update(value, color);\n        };\n        _proto.enter = function (value) {\n            this.inputText.update(value, \"#ffffff\");\n\n            Laya.Tween.to(this, { bottom: 0 }, 300, Laya.Ease.linearIn);\n        };\n        _proto.exit = function (type) {\n            Laya.Tween.to(this, { bottom: -this.height }, 200, Laya.Ease.linearIn, Laya.Handler.create(this, function (type) {\n                this.event(\"exit\", [type]);\n            }, [type]));\n        };\n        _proto.resize = function (width, height) {\n            height = height < 750 ? 750 : height;\n\n            var xrate = width / 1334;\n            var yrate = height / 1334;\n\n            this.size(width, 350 * yrate);\n            this.panelMask.resize(this.width, this.height);\n\n            this.inputText.resize(width, height);\n            for (var i in this.keys) {\n                this.keys[i].resize(width, height);\n            }\n        };\n\n        return KeyBoardPanel;\n    }(Laya.Box);\n\n    (function (_super) {\n        var DEFAULT_CONFIG = {\n            \"closeOnSide\": true, //点击遮罩关闭键盘\n            \"shadowAlpha\": 0.3, //遮罩的透明度\n            \"shadowColor\": \"#000000\", //遮罩的颜色值\n            \"nullMsg\": \"输入的值不能为空\", //输入的值为空时的提示\n            \"length\": 11, //输入字段的最大长度（只针对整数位）\n            \"float\": false, //是否允许有小数点\n            \"fixed\": 4, //保留的小数位，仅在 float:true 时起作用\n            \"input\": function input(value) {\n                //输入时的回调函数，参数为当前输入的值\n                console.log(\"当前输入值：\" + value);\n            },\n            \"close\": function close(type, value) {\n                //键盘关闭时的回调函数，参数为 type:(confirm|mask)从哪儿关闭， value:当前输入的值\n                if (type === \"confirm\") {\n                    console.log(\"点击了确定按钮，关闭输入键盘，当前值：\" + value);\n                } else {\n                    console.log(\"点击了遮罩，关闭输入键盘。\");\n                }\n            }\n        };\n\n        function KeyBoardNumber() {\n            KeyBoardNumber.super(this);\n\n            this.keyBoardMask = null;\n            this.keyBoardPanel = null;\n            this.config = null;\n            this.textValue = \"\";\n            this.firstInput = false;\n\n            this.loadAssets();\n        }\n\n        Laya.class(KeyBoardNumber, \"Tools.KeyBoardNumber\", _super);\n        var _proto = KeyBoardNumber.prototype;\n        _proto.destroy = function () {\n            Laya.stage.off(Laya.Event.RESIZE, this, this.onResize);\n            _super.prototype.destroy.call(this, true);\n\n            this.keyBoardMask = null;\n            this.keyBoardPanel = null;\n            this.config = null;\n            this.textValue = null;\n        };\n\n        _proto.loadAssets = function () {\n            var self = this;\n            var loadedNum = 0;\n            var totalNum = Object.keys(SKIN).length;\n\n            for (var i in SKIN) {\n                (function (url, data) {\n                    var img = new Laya.HTMLImage.create(data, {\n                        onload: function onload() {\n                            Laya.Loader.cacheRes(SKIN_PATH + url + \".png\", new Laya.Texture(img));\n                            loadedNum++;\n                            if (loadedNum === totalNum) {\n                                self.init();\n                            }\n                        }\n                    });\n                })(i, SKIN[i]);\n            }\n        };\n        _proto.init = function () {\n            this.size(Laya.stage.width, Laya.stage.height);\n            this.zOrder = 1000;\n\n            var keyBoardPanel = new KeyBoardPanel(this.removeSelf.bind(this));\n            keyBoardPanel.on(\"input\", this, this.onInput);\n            keyBoardPanel.on(\"exit\", this, this.onExit);\n            var keyBoardMask = new KeyBoardMask();\n            keyBoardMask.on(\"exit\", this, function (type) {\n                keyBoardPanel.exit(type);\n            });\n\n            this.keyBoardMask = keyBoardMask;\n            this.keyBoardPanel = keyBoardPanel;\n            this.addChildren(keyBoardMask, keyBoardPanel);\n\n            Laya.stage.on(Laya.Event.RESIZE, this, this.onResize);\n        };\n        _proto.onExit = function (type) {\n            this.removeSelf();\n            this.config.close && this.config.close(type, type === \"confirm\" ? this.textValue + \"\" : null);\n            this.textValue = \"\";\n            this.firstInput = false;\n        };\n        _proto.onInput = function (text) {\n            switch (text) {\n                case \"删除\":\n                    var text = this.textValue.split(\"\");\n                    text.pop();\n                    this.textValue = text.join(\"\");\n\n                    if (this.textValue) {\n                        this.keyBoardPanel.update(this.textValue, \"#ffffff\");\n                    } else {\n                        this.keyBoardPanel.update(this.config.nullMsg, \"#ff0000\");\n                    }\n                    this.config.input && this.config.input(this.textValue);\n                    break;\n                case \"确定\":\n                    this.keyBoardPanel.exit(\"confirm\");\n                    break;\n                default:\n                    if (this.firstInput) {\n                        this.textValue = \"\";\n                        this.firstInput = false;\n                    }\n                    if (text === \".\") {\n                        if (this.config.float !== true) {\n                            return;\n                        }\n                        if (this.textValue == \"\") {\n                            text = \"0.\";\n                        }\n                        if (this.textValue.indexOf(\".\") != -1) {\n                            return;\n                        }\n                    }\n                    if (this.config.float === true) {\n                        var decimal = this.textValue.split(\".\")[1];\n                        if (decimal && decimal.length >= this.config.fixed) {\n                            return;\n                        }\n                    }\n                    if ((this.textValue + text).length > this.config.length) {\n                        return;\n                    }\n\n                    this.textValue = this.textValue + text;\n                    this.textValue = this.textValue.replace(/^0+/, \"\");\n\n                    this.config.input && this.config.input(this.textValue);\n                    if (this.textValue) {\n                        this.keyBoardPanel.update(this.textValue, \"#ffffff\");\n                    } else {\n                        this.keyBoardPanel.update(this.config.nullMsg, \"#ff0000\");\n                    }\n            }\n        };\n\n        _proto.enter = function (value, config) {\n            // this.firstInput = true;\n            this.config = utils.extend({}, DEFAULT_CONFIG, config);\n            this.textValue = value + \"\";\n\n            Laya.timer.callLater(this, function () {\n                this.keyBoardMask.update(this.width, this.height, this.config.shadowAlpha, this.config.shadowColor, this.config.closeOnSide);\n                this.keyBoardPanel.enter(this.textValue, this.config);\n            });\n            Laya.stage.addChild(this);\n        };\n        _proto.onResize = function () {\n            var width = Laya.stage.width;\n            var height = Laya.stage.height;\n            this.size(width, height);\n\n            this.keyBoardMask.resize(width, height);\n            this.keyBoardPanel.resize(width, height);\n        };\n    })(Laya.Box);\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9zYWlsL2tleWJvYXJkLmpzPzUxZDQiXSwic291cmNlc0NvbnRlbnQiOlsiOyhmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdXRpbHMgPSAoU2FpbCAmJiBTYWlsLlV0aWxzKSB8fCAkO1xyXG5cclxuICAgIHZhciBTS0lOID0ge1xyXG4gICAgICAgIFwiY29uZmlybVwiIDogXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUI0QUFBQWVDQU1BQUFBTTdsNlFBQUFBV2xCTVZFVUFBQURNUWtMTFFrTExRa0w5WTJQTFFrTExRa0w5WTJQTVFrTDlZMlBMUWtMTFFrTGRUazc1WUdEN1ltTDlZMlAyWGw3N1ltTDlZMlA5WTJQOVkyUExRa0w5WTJQTFFrTDNYbDdjVFUzdFdGajVZR0RvVlZYbVZGVEFRQjdqQUFBQUZuUlNUbE1BNHF5UGlsdFVVOXNHQnZyNTllM2N5bC9mcGxZSGY5SDZvZ0FBQUpWSlJFRlVLTS9sekZrT2hDQVFSZEVIQ3M1VEQxV0F1djl0dG0wMHhpaTFBZS92U1M3V2lzLzdSZWU2REh0WlJ6ZWxtNlowWHlycFV2WS9VN1MyUU5GU3ZBRURDZlhvSlc3UWtCVG9vVHpLN0NSMUNCSUgxQkxYeUlYN3FLQjluTDJHNFRtbU14dVVpcWQ3blZoOUFjdnMzUldkWjdaWVNwalpCM2V5c0NBbndPYVhEZ1ZzZnNYY0FudWwwYW82cUZMYWxDdjhBT000UmplQk1VRUFBQUFBQUVsRlRrU3VRbUNDXCIsXHJcbiAgICAgICAgXCJkZWxldGVcIiA6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCNEFBQUFlQ0FNQUFBQU03bDZRQUFBQWIxQk1WRVVBQUFETHk4dHRiR3pNek16TXpNeHRiR3pNek14dGJHek16TXh0Ykd6TXpNeHViVzNNek14dGJHeHRiR3lRajQvTXpNeHRiR3h0Ykd6TXpNek16TXpNek16TXpNek16TXpNek14d2IyOXRiR3pNek14dGJHekJ3Y0d0cmEyTmpJeS92cjZnb0tDUGpvNmtwS1NrbzZQZW41bXpBQUFBRzNSU1RsTUEvTjJwaVZ0VlZBWUdBK1BhclByNTRaU0tXMUh6NU9QZjJxdURySlk2QUFBQXFrbEVRVlFvejlYUFNRNkRNQkJFMFRLRWVSNHl1bTBEeWYzUEdDQVJMTEE3Ni96dGswb3FyTVdoZnhOeTY1ejdZWXl0UHBlSDh2Nkw2VWxhTzZVcnorcndSVVBwTEFUaXE1c3ZNVHJKMU1IbjJFZk5jUTNCc1lCaysyUCs4WHZnV0VGenJGRnhYT0d1bU8wTUQrTm1VeUNnMGFVakJVZ3lldG4xU1ZrQ1JFVEc4bTR3UkJIbVdpS2F0Qkk3Q2FVbkltcXhsRFprclVueEtmS082RVhZU29MQ0szY3F2U0pJVm5nRHN2bFUwK3lhT2ZNQUFBQUFTVVZPUks1Q1lJST1cIixcclxuICAgICAgICBcIm51bWJlclwiIDogXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUI0QUFBQWVDQU1BQUFBTTdsNlFBQUFBZUZCTVZFVUFBQURHeHNhM3Q3Zi8vLy8vLy8vLy8vLy8vLy8vLy8rM3Q3ZTN0N2ZvNk9pM3Q3ZlQwOVAvLy8vLy8vKzN0N2U2dXJyLy8vKzN0N2YvLy8rM3Q3ZTN0N2YvLy8vLy8vLy8vLy8vLy8rM3Q3ZTN0N2YvLy8rM3Q3ZlEwTkQyOXZiMTlmWDcrL3YzOS9mbzZPamg0ZUhlM3Q2NXVibTR1TGlxSXk1eEFBQUFISFJTVGxNQUJlS0pWUWI2NFZ0Vi9QcnA1TnZicnF5c3BwU0tXMUh6MTF4VFpaNndmd0FBQUtWSlJFRlVLTS9kMDBjU2d6QVFSTkVXT2VmZ0lJa005NytoTWJod3VVQnpBUC90cTFuTW9yRmxHcmx0OGFQYlBUZE1ITlVSUHhYVkgyUTZ2MHhuRzYrcThMY2FYSmtCbUtHYVF4TVZKNnFRVXB6Q3B0aUdSYkVGVHZhLzNGSGFvYVc0Z1VleGg0RGlBRW12MWo2Qkk5VXNIMkRhcE5KSlk0QzdqTmM2TGk3V1NpSGJNN1pTbFBzTUNqSExvZm41ZDVDektCajJuckU0RmJzNFlrNm0rVi95dGN6WlQxK3JKbGhncjhsQlhBQUFBQUJKUlU1RXJrSmdnZz09XCJcclxuICAgIH07XHJcbiAgICB2YXIgU0tJTl9QQVRIID0gXCJwdWJsaWMva2V5Ym9hcmRfXCIgKyAoTWF0aC5yYW5kb20oKSAqIDk5OTk5OTkgfCAwKSArIFwiL1wiO1xyXG4gICAgdmFyIEtFWVMgPSBbXHJcbiAgICAgICAge3RleHQgOiBcIjFcIiwgc2tpbiA6IFwibnVtYmVyXCIsIHggOiAyMCwgeSA6IDE1fSxcclxuICAgICAgICB7dGV4dCA6IFwiMlwiLCBza2luIDogXCJudW1iZXJcIiwgeCA6IDI4MCwgeSA6IDE1fSxcclxuICAgICAgICB7dGV4dCA6IFwiM1wiLCBza2luIDogXCJudW1iZXJcIiwgeCA6IDU0NSwgeSA6IDE1fSxcclxuICAgICAgICB7dGV4dCA6IFwiNFwiLCBza2luIDogXCJudW1iZXJcIiwgeCA6IDIwLCB5IDogMTI1fSxcclxuICAgICAgICB7dGV4dCA6IFwiNVwiLCBza2luIDogXCJudW1iZXJcIiwgeCA6IDI4MCwgeSA6IDEyNX0sXHJcbiAgICAgICAge3RleHQgOiBcIjZcIiwgc2tpbiA6IFwibnVtYmVyXCIsIHggOiA1NDUsIHkgOiAxMjV9LFxyXG4gICAgICAgIHt0ZXh0IDogXCI3XCIsIHNraW4gOiBcIm51bWJlclwiLCB4IDogMjAsIHkgOiAyMzV9LFxyXG4gICAgICAgIHt0ZXh0IDogXCI4XCIsIHNraW4gOiBcIm51bWJlclwiLCB4IDogMjgwLCB5IDogMjM1fSxcclxuICAgICAgICB7dGV4dCA6IFwiOVwiLCBza2luIDogXCJudW1iZXJcIiwgeCA6IDU0NSwgeSA6IDIzNX0sXHJcbiAgICAgICAge3RleHQgOiBcIjBcIiwgc2tpbiA6IFwibnVtYmVyXCIsIHggOiA4MTAsIHkgOiAxNX0sXHJcbiAgICAgICAge3RleHQgOiBcIjAwXCIsIHNraW4gOiBcIm51bWJlclwiLCB4IDogODEwLCB5IDogMTI1fSxcclxuICAgICAgICB7dGV4dCA6IFwiLlwiLCBza2luIDogXCJudW1iZXJcIiwgeCA6IDgxMCwgeSA6IDIzNX0sXHJcbiAgICAgICAge3RleHQgOiBcIuehruWumlwiLCBza2luIDogXCJjb25maXJtXCIsIHggOiAxMDcwLCB5IDogMTV9LFxyXG4gICAgICAgIHt0ZXh0IDogXCLliKDpmaRcIiwgc2tpbiA6IFwiZGVsZXRlXCIsIHggOiAxMDcwLCB5IDogMjM1fVxyXG4gICAgXTtcclxuICAgIHZhciBFVkVOVF9DTElDSyA9IExheWEuRXZlbnQuQ0xJQ0s7XHJcblxyXG4gICAgdmFyIEtleUJvYXJkTWFzayA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gS2V5Qm9hcmRNYXNrKCkge1xyXG4gICAgICAgICAgICBLZXlCb2FyZE1hc2suc3VwZXIodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ0FscGhhID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jb25maWdDb2xvciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VPblNpZGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oRVZFTlRfQ0xJQ0ssIHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2xvc2VPblNpZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnQoXCJleGl0XCIsIFtcIm1hc2tcIiwgbnVsbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTGF5YS5jbGFzcyhLZXlCb2FyZE1hc2ssIFwiXCIsIF9zdXBlcik7XHJcbiAgICAgICAgdmFyIF9wcm90byA9IEtleUJvYXJkTWFzay5wcm90b3R5cGU7XHJcblxyXG4gICAgICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgYWxwaGEsIGNvbG9yLCBjbG9zZU9uU2lkZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFscGhhID0gdGhpcy5jb25maWdBbHBoYSA9IGFscGhhO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ0NvbG9yID0gY29sb3I7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VPblNpZGUgPSBjbG9zZU9uU2lkZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcHJvdG8ucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5zaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuZHJhd1JlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuY29uZmlnQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmFscGhhID0gdGhpcy5jb25maWdBbHBoYTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBLZXlCb2FyZE1hc2s7XHJcbiAgICB9KShMYXlhLlNwcml0ZSk7XHJcblxyXG4gICAgdmFyIElucHV0VGV4dCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gSW5wdXRUZXh0KCkge1xyXG4gICAgICAgICAgICBJbnB1dFRleHQuc3VwZXIodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLk1hc2sgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWYWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luSGVpZ2h0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMYXlhLmNsYXNzKElucHV0VGV4dCwgXCJLZXlCb2FyZC5JbnB1dFRleHRcIiwgX3N1cGVyKTtcclxuICAgICAgICB2YXIgX3Byb3RvID0gSW5wdXRUZXh0LnByb3RvdHlwZTtcclxuICAgICAgICBfcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuTWFzayA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW5IZWlnaHQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uICh3aWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbkhlaWdodCA9IDYwO1xyXG5cclxuICAgICAgICAgICAgdmFyIG1hc2sgPSBuZXcgS2V5Qm9hcmRNYXNrKCk7XHJcbiAgICAgICAgICAgICAgICBtYXNrLnVwZGF0ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMC41LCBcIiMwMDAwMDBcIiwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRleHQgPSBuZXcgTGF5YS5MYWJlbCgpO1xyXG4gICAgICAgICAgICAgICAgdGV4dC5oZWlnaHQgPSAzMDtcclxuICAgICAgICAgICAgICAgIHRleHQuZm9udFNpemUgPSAzMDtcclxuICAgICAgICAgICAgICAgIHRleHQuYWxpZ24gPSBcImNlbnRlclwiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5NYXNrID0gbWFzaztcclxuICAgICAgICAgICAgdGhpcy50ZXh0VmFsdWUgPSB0ZXh0O1xyXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkcmVuKG1hc2ssIHRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gKHZhbHVlLCBjb2xvcikge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWYWx1ZS5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWYWx1ZS50ZXh0ID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9wcm90by5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICB2YXIgeXJhdGUgPSBoZWlnaHQgLyAxMzM0O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaXplKHdpZHRoLCB0aGlzLm9yaWdpbkhlaWdodCAqIHlyYXRlKTtcclxuICAgICAgICAgICAgdGhpcy5NYXNrLnJlc2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlLmJvdHRvbSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudG9wID0gLXRoaXMuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIElucHV0VGV4dDtcclxuICAgIH0pKExheWEuQm94KTtcclxuXHJcbiAgICB2YXIgS2V5Qm9hcmRCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIGZ1bmN0aW9uIEtleUJvYXJkQnV0dG9uKGNvbmZpZywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgS2V5Qm9hcmRCdXR0b24uc3VwZXIodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdChjb25maWcsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIExheWEuY2xhc3MoS2V5Qm9hcmRCdXR0b24sIFwiXCIsIF9zdXBlcik7XHJcbiAgICAgICAgdmFyIF9wcm90byA9IEtleUJvYXJkQnV0dG9uLnByb3RvdHlwZTtcclxuICAgICAgICBfcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9wcm90by5pbml0ID0gZnVuY3Rpb24gKGNvbmZpZywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgY29uZmlnLndpZHRoID0gMjQwO1xyXG4gICAgICAgICAgICBjb25maWcuaGVpZ2h0ID0gY29uZmlnLnNraW4gPT09IFwiY29uZmlybVwiID8gMjEwIDogMTAwO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2tpbiA9IFNLSU5fUEFUSCArIGNvbmZpZy5za2luICsgXCIucG5nXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZUdyaWQgPSBcIjE1LDE1LDE1LDE1XCI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShMYXlhLnN0YWdlLndpZHRoLCBMYXlhLnN0YWdlLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlKGNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uKEVWRU5UX0NMSUNLLCB0aGlzLCBjYWxsYmFjaywgW2NvbmZpZy50ZXh0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9wcm90by5jcmVhdGUgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IG5ldyBMYXlhLkxhYmVsKGNvbmZpZy50ZXh0KTtcclxuICAgICAgICAgICAgICAgIGxhYmVsLmNvbG9yID0gY29uZmlnLnNraW4gPT09IFwiY29uZmlybVwiID8gXCIjZmZmZmZmXCIgOiBcIiMxYzFjMWNcIjtcclxuICAgICAgICAgICAgICAgIGxhYmVsLmZvbnQgPSBcImFyaWFsXCI7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5hbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5mb250U2l6ZSA9IDQwO1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuc2l6ZSh0aGlzLndpZHRoLCBsYWJlbC5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5jZW50ZXJZID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9wcm90by5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICB2YXIgeHJhdGUgPSB3aWR0aCAvIDEzMzQ7XHJcbiAgICAgICAgICAgIHZhciB5cmF0ZSA9IGhlaWdodCAvIDEzMzQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNpemUodGhpcy5jb25maWcud2lkdGggKiB4cmF0ZSwgdGhpcy5jb25maWcuaGVpZ2h0ICogeXJhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBvcyh0aGlzLmNvbmZpZy54ICogeHJhdGUsIHRoaXMuY29uZmlnLnkgKiB5cmF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwgJiYgKHRoaXMubGFiZWwud2lkdGggPSB0aGlzLndpZHRoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBLZXlCb2FyZEJ1dHRvbjtcclxuICAgIH0pKExheWEuSW1hZ2UpO1xyXG5cclxuICAgIHZhciBLZXlCb2FyZFBhbmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBmdW5jdGlvbiBLZXlCb2FyZFBhbmVsKCkge1xyXG4gICAgICAgICAgICBLZXlCb2FyZFBhbmVsLnN1cGVyKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5rZXlzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dFRleHQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsTWFzayA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTGF5YS5jbGFzcyhLZXlCb2FyZFBhbmVsLCBcIlwiLCBfc3VwZXIpO1xyXG4gICAgICAgIHZhciBfcHJvdG8gPSBLZXlCb2FyZFBhbmVsLnByb3RvdHlwZTtcclxuICAgICAgICBfcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IDwgNzUwID8gNzUwIDogaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaXplKExheWEuc3RhZ2Uud2lkdGgsIGhlaWdodCAvIDEzMzQgKiAzNTApO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IC10aGlzLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHZhciBwYW5lbE1hc2sgPSBuZXcgS2V5Qm9hcmRNYXNrKCk7XHJcbiAgICAgICAgICAgICAgICBwYW5lbE1hc2sudXBkYXRlKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLjUsIFwiIzAwMDAwMFwiLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5wdXRUZXh0ID0gbmV3IElucHV0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRUZXh0LnJlc2l6ZSh0aGlzLndpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnB1dFRleHQgPSBpbnB1dFRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxNYXNrID0gcGFuZWxNYXNrO1xyXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkcmVuKHBhbmVsTWFzaywgaW5wdXRUZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBLRVlTKXtcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5cy5wdXNoKG5ldyBLZXlCb2FyZEJ1dHRvbihLRVlTW2ldLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuYWRkQ2hpbGRyZW4uYXBwbHkodGhpcywgdGhpcy5rZXlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3Byb3RvLm9uQ2xpY2sgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50KFwiaW5wdXRcIiwgW3RleHRdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiAodmFsdWUsIGNvbG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUZXh0LnVwZGF0ZSh2YWx1ZSwgY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcHJvdG8uZW50ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dFRleHQudXBkYXRlKHZhbHVlLCBcIiNmZmZmZmZcIik7XHJcblxyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMsIHtib3R0b20gOiAwfSwgMzAwLCBMYXlhLkVhc2UubGluZWFySW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcHJvdG8uZXhpdCA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcywge2JvdHRvbSA6IC10aGlzLmhlaWdodH0sIDIwMCwgTGF5YS5FYXNlLmxpbmVhckluLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50KFwiZXhpdFwiLCBbdHlwZV0pO1xyXG4gICAgICAgICAgICB9LCBbdHlwZV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3Byb3RvLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IGhlaWdodCA8IDc1MCA/IDc1MCA6IGhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHZhciB4cmF0ZSA9IHdpZHRoIC8gMTMzNDtcclxuICAgICAgICAgICAgdmFyIHlyYXRlID0gaGVpZ2h0IC8gMTMzNDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSh3aWR0aCwgMzUwICogeXJhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsTWFzay5yZXNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnB1dFRleHQucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5rZXlzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5c1tpXS5yZXNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBLZXlCb2FyZFBhbmVsO1xyXG4gICAgfSkoTGF5YS5Cb3gpO1xyXG5cclxuICAgIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgdmFyIERFRkFVTFRfQ09ORklHID0ge1xyXG4gICAgICAgICAgICBcImNsb3NlT25TaWRlXCIgOiB0cnVlLCAvL+eCueWHu+mBrue9qeWFs+mXremUruebmFxyXG4gICAgICAgICAgICBcInNoYWRvd0FscGhhXCIgOiAwLjMsIC8v6YGu572p55qE6YCP5piO5bqmXHJcbiAgICAgICAgICAgIFwic2hhZG93Q29sb3JcIiA6IFwiIzAwMDAwMFwiLCAvL+mBrue9qeeahOminOiJsuWAvFxyXG4gICAgICAgICAgICBcIm51bGxNc2dcIiA6IFwi6L6T5YWl55qE5YC85LiN6IO95Li656m6XCIsIC8v6L6T5YWl55qE5YC85Li656m65pe255qE5o+Q56S6XHJcbiAgICAgICAgICAgIFwibGVuZ3RoXCIgOiAxMSwgLy/ovpPlhaXlrZfmrrXnmoTmnIDlpKfplb/luqbvvIjlj6rpkojlr7nmlbTmlbDkvY3vvIlcclxuICAgICAgICAgICAgXCJmbG9hdFwiIDogZmFsc2UsIC8v5piv5ZCm5YWB6K645pyJ5bCP5pWw54K5XHJcbiAgICAgICAgICAgIFwiZml4ZWRcIiA6IDQsIC8v5L+d55WZ55qE5bCP5pWw5L2N77yM5LuF5ZyoIGZsb2F0OnRydWUg5pe26LW35L2c55SoXHJcbiAgICAgICAgICAgIFwiaW5wdXRcIiA6IGZ1bmN0aW9uICh2YWx1ZSkgeyAvL+i+k+WFpeaXtueahOWbnuiwg+WHveaVsO+8jOWPguaVsOS4uuW9k+WJjei+k+WFpeeahOWAvFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlvZPliY3ovpPlhaXlgLzvvJpcIiArIHZhbHVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJjbG9zZVwiIDogZnVuY3Rpb24gKHR5cGUsIHZhbHVlKSB7IC8v6ZSu55uY5YWz6Zet5pe255qE5Zue6LCD5Ye95pWw77yM5Y+C5pWw5Li6IHR5cGU6KGNvbmZpcm18bWFzaynku47lk6rlhL/lhbPpl63vvIwgdmFsdWU65b2T5YmN6L6T5YWl55qE5YC8XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSBcImNvbmZpcm1cIil7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLngrnlh7vkuobnoa7lrprmjInpkq7vvIzlhbPpl63ovpPlhaXplK7nm5jvvIzlvZPliY3lgLzvvJpcIiArIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi54K55Ye75LqG6YGu572p77yM5YWz6Zet6L6T5YWl6ZSu55uY44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gS2V5Qm9hcmROdW1iZXIoKSB7XHJcbiAgICAgICAgICAgIEtleUJvYXJkTnVtYmVyLnN1cGVyKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5rZXlCb2FyZE1hc2sgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmtleUJvYXJkUGFuZWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5maXJzdElucHV0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWRBc3NldHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIExheWEuY2xhc3MoS2V5Qm9hcmROdW1iZXIsIFwiVG9vbHMuS2V5Qm9hcmROdW1iZXJcIiwgX3N1cGVyKTtcclxuICAgICAgICB2YXIgX3Byb3RvID0gS2V5Qm9hcmROdW1iZXIucHJvdG90eXBlO1xyXG4gICAgICAgIF9wcm90by5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50LlJFU0laRSwgdGhpcywgdGhpcy5vblJlc2l6ZSk7XHJcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5rZXlCb2FyZE1hc2sgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmtleUJvYXJkUGFuZWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9wcm90by5sb2FkQXNzZXRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBsb2FkZWROdW0gPSAwO1xyXG4gICAgICAgICAgICB2YXIgdG90YWxOdW0gPSBPYmplY3Qua2V5cyhTS0lOKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGkgaW4gU0tJTil7XHJcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKHVybCwgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgTGF5YS5IVE1MSW1hZ2UuY3JlYXRlKGRhdGEsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkIDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5Mb2FkZXIuY2FjaGVSZXMoU0tJTl9QQVRIICsgdXJsICsgXCIucG5nXCIsIG5ldyBMYXlhLlRleHR1cmUoaW1nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWROdW0rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxvYWRlZE51bSA9PT0gdG90YWxOdW0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5pdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KShpLCBTS0lOW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zaXplKExheWEuc3RhZ2Uud2lkdGgsIExheWEuc3RhZ2UuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy56T3JkZXIgPSAxMDAwO1xyXG5cclxuICAgICAgICAgICAgdmFyIGtleUJvYXJkUGFuZWwgPSBuZXcgS2V5Qm9hcmRQYW5lbCh0aGlzLnJlbW92ZVNlbGYuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICBrZXlCb2FyZFBhbmVsLm9uKFwiaW5wdXRcIiwgdGhpcywgdGhpcy5vbklucHV0KTtcclxuICAgICAgICAgICAgICAgIGtleUJvYXJkUGFuZWwub24oXCJleGl0XCIsIHRoaXMsIHRoaXMub25FeGl0KTtcclxuICAgICAgICAgICAgdmFyIGtleUJvYXJkTWFzayA9IG5ldyBLZXlCb2FyZE1hc2soKTtcclxuICAgICAgICAgICAgICAgIGtleUJvYXJkTWFzay5vbihcImV4aXRcIiwgdGhpcywgZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXlCb2FyZFBhbmVsLmV4aXQodHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMua2V5Qm9hcmRNYXNrID0ga2V5Qm9hcmRNYXNrO1xyXG4gICAgICAgICAgICB0aGlzLmtleUJvYXJkUGFuZWwgPSBrZXlCb2FyZFBhbmVsO1xyXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkcmVuKGtleUJvYXJkTWFzaywga2V5Qm9hcmRQYW5lbCk7XHJcblxyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuUkVTSVpFLCB0aGlzLCB0aGlzLm9uUmVzaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3Byb3RvLm9uRXhpdCA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5jbG9zZSAmJiB0aGlzLmNvbmZpZy5jbG9zZSh0eXBlLCB0eXBlID09PSBcImNvbmZpcm1cIiA/IHRoaXMudGV4dFZhbHVlICsgXCJcIiA6IG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWYWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyc3RJbnB1dCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfcHJvdG8ub25JbnB1dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCh0ZXh0KXtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCLliKDpmaRcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHRoaXMudGV4dFZhbHVlLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlID0gdGV4dC5qb2luKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRleHRWYWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Qm9hcmRQYW5lbC51cGRhdGUodGhpcy50ZXh0VmFsdWUsIFwiI2ZmZmZmZlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlCb2FyZFBhbmVsLnVwZGF0ZSh0aGlzLmNvbmZpZy5udWxsTXNnLCBcIiNmZjAwMDBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmlucHV0ICYmIHRoaXMuY29uZmlnLmlucHV0KHRoaXMudGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCLnoa7lrppcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleUJvYXJkUGFuZWwuZXhpdChcImNvbmZpcm1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZmlyc3RJbnB1dCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJzdElucHV0PWZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZih0ZXh0ID09PSBcIi5cIil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY29uZmlnLmZsb2F0ICE9PSB0cnVlKXtyZXR1cm47fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRleHRWYWx1ZSA9PSBcIlwiKXt0ZXh0ID0gXCIwLlwiO31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoKHRoaXMudGV4dFZhbHVlLmluZGV4T2YoXCIuXCIpICE9IC0xKSl7cmV0dXJuO31cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jb25maWcuZmxvYXQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVjaW1hbCA9IHRoaXMudGV4dFZhbHVlLnNwbGl0KFwiLlwiKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGVjaW1hbCAmJiBkZWNpbWFsLmxlbmd0aCA+PSB0aGlzLmNvbmZpZy5maXhlZCl7cmV0dXJuO31cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoKHRoaXMudGV4dFZhbHVlICsgdGV4dCkubGVuZ3RoID4gdGhpcy5jb25maWcubGVuZ3RoKXtyZXR1cm47fVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWYWx1ZSA9IHRoaXMudGV4dFZhbHVlICsgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRWYWx1ZSA9IHRoaXMudGV4dFZhbHVlLnJlcGxhY2UoL14wKy8sIFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5pbnB1dCAmJiB0aGlzLmNvbmZpZy5pbnB1dCh0aGlzLnRleHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy50ZXh0VmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtleUJvYXJkUGFuZWwudXBkYXRlKHRoaXMudGV4dFZhbHVlLCBcIiNmZmZmZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5Qm9hcmRQYW5lbC51cGRhdGUodGhpcy5jb25maWcubnVsbE1zZywgXCIjZmYwMDAwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3Byb3RvLmVudGVyID0gZnVuY3Rpb24gKHZhbHVlLCBjb25maWcpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5maXJzdElucHV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSB1dGlscy5leHRlbmQoe30sIERFRkFVTFRfQ09ORklHLCBjb25maWcpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRWYWx1ZSA9IHZhbHVlICsgXCJcIjtcclxuXHJcbiAgICAgICAgICAgIExheWEudGltZXIuY2FsbExhdGVyKHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5Qm9hcmRNYXNrLnVwZGF0ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5jb25maWcuc2hhZG93QWxwaGEsIHRoaXMuY29uZmlnLnNoYWRvd0NvbG9yLCB0aGlzLmNvbmZpZy5jbG9zZU9uU2lkZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleUJvYXJkUGFuZWwuZW50ZXIodGhpcy50ZXh0VmFsdWUsIHRoaXMuY29uZmlnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9wcm90by5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gTGF5YS5zdGFnZS53aWR0aDtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLnNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleUJvYXJkTWFzay5yZXNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMua2V5Qm9hcmRQYW5lbC5yZXNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkoTGF5YS5Cb3gpO1xyXG59KSgpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3NhaWwva2V5Ym9hcmQuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQUNBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4Q0E7QUEwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 18 */
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./laya_game/src/sail/sail.utils.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n;(function () {\n    window.Sail = window.Sail || {};\n\n    var isPlainObject = function () {\n        var class2type = {};\n        var toString = class2type.toString;\n        var hasOwn = class2type.hasOwnProperty;\n        var fnToString = hasOwn.toString;\n        var ObjectFunctionString = fnToString.call(Object);\n\n        function isPlainObject(obj) {\n            var proto, Ctor;\n\n            if (!obj || toString.call(obj) !== \"[object Object]\") {\n                return false;\n            }\n\n            proto = Object.getPrototypeOf(obj);\n\n            if (!proto) {\n                return true;\n            }\n\n            Ctor = hasOwn.call(proto, \"constructor\") && proto.constructor;\n            return typeof Ctor === \"function\" && fnToString.call(Ctor) === ObjectFunctionString;\n        };\n\n        return isPlainObject;\n    }();\n\n    function Utils() {}\n    Laya.class(Utils, \"Sail.Utils\");\n\n    /**\r\n     * @public\r\n     * 创建骨骼动画\r\n     * @param {String} path 骨骼动画路径\r\n     * @param {Number} rate 骨骼动画帧率，引擎默认为30，一般传24\r\n     * @param {Number} type 动画类型 0,使用模板缓冲的数据，模板缓冲的数据，不允许修改\t（内存开销小，计算开销小，不支持换装） 1,使用动画自己的缓冲区，每个动画都会有自己的缓冲区，相当耗费内存 （内存开销大，计算开销小，支持换装） 2,使用动态方式，去实时去画\t（内存开销小，计算开销大，支持换装,不建议使用）\r\n     * \r\n     * @return 骨骼动画\r\n     */\n    Utils.createSkeleton = function (path, rate, type) {\n        rate = rate || 30;\n        type = type || 0;\n        var png = Laya.loader.getRes(path + \".png\");\n        var sk = Laya.loader.getRes(path + \".sk\");\n        if (!png || !sk) {\n            return null;\n        }\n\n        var templet = new Laya.Templet();\n        templet.parseData(png, sk, rate);\n\n        return templet.buildArmature(type);\n    };\n\n    /**\r\n     * @public\r\n     * 获取字符串长度，支持中文\r\n     * @param {String} str 要获取长度的字符串\r\n     * \r\n     * @return 字符串长度\r\n     */\n    Utils.getStringLength = function (str) {\n        return (\"\" + str.replace(/[^\\x00-\\xff]/gi, \"ox\")).length;\n    };\n    /**\r\n     * @public\r\n     * 按指定长度截取字符串\r\n     * @param {String} str 要截取长度的字符串\r\n     * @param {Number} length 字符串长度\r\n     * \r\n     * @return 截取长度后的字符串\r\n     */\n    Utils.cutStr = function (text, length) {\n        text = text + \"\";\n        var reg = /[^\\x00-\\xff]/g;\n        if (text.replace(reg, \"mm\").length <= length) {\n            return text;\n        }\n        var m = Math.floor(length / 2);\n        for (var i = m; i < text.length; i++) {\n            if (text.substr(0, i).replace(reg, \"mm\").length >= length) {\n                return text.substr(0, i) + \"...\";\n            }\n        }\n        return text;\n    };\n    /**\r\n     * @public\r\n     * 获取URL中指定参数的值\r\n     * @param {String} name 参数名\r\n     * \r\n     * @return 参数值\r\n     */\n    Utils.getUrlParam = function (name) {\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n        var r = window.location.search.substr(1).match(reg);\n\n        if (r != null) {\n            return unescape(r[2]);\n        }\n\n        return null;\n    };\n\n    /**\r\n     * @public\r\n     * 将两个或更多对象的内容合并到第一个对象。使用方式见Jquery.extend\r\n     * 调用方式\r\n     * Sail.Utils.extend( [deep ], target, object1 [, objectN ] )\r\n     * Sail.Utils.extend( target [, object1 ] [, objectN ] )\r\n     * \r\n     * @return 合并后的对象\r\n     */\n    Utils.extend = function () {\n        var options,\n            name,\n            src,\n            copy,\n            copyIsArray,\n            clone,\n            target = arguments[0] || {},\n            i = 1,\n            length = arguments.length,\n            deep = false;\n\n        if (typeof target === \"boolean\") {\n            deep = target;target = arguments[i] || {};i++;\n        }\n        if ((typeof target === \"undefined\" ? \"undefined\" : _typeof(target)) !== \"object\" && !(typeof target === \"undefined\" ? \"undefined\" : _typeof(target)) !== \"function\") {\n            target = {};\n        }\n        if (i === length) {\n            target = this;i--;\n        }\n\n        for (; i < length; i++) {\n            if ((options = arguments[i]) != null) {\n                for (name in options) {\n                    src = target[name];\n                    copy = options[name];\n                    if (target === copy) {\n                        continue;\n                    }\n                    if (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && Array.isArray(src) ? src : [];\n                        } else {\n                            clone = src && isPlainObject(src) ? src : {};\n                        }\n                        target[name] = Utils.extend(deep, clone, copy);\n                    } else if (copy !== undefined) {\n                        target[name] = copy;\n                    }\n                }\n            }\n        }\n\n        return target;\n    };\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9zYWlsL3NhaWwudXRpbHMuanM/NDMwMiJdLCJzb3VyY2VzQ29udGVudCI6WyI7KGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5TYWlsID0gd2luZG93LlNhaWwgfHwge307XHJcblxyXG4gICAgdmFyIGlzUGxhaW5PYmplY3QgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjbGFzczJ0eXBlID0ge307XHJcbiAgICAgICAgdmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcclxuICAgICAgICB2YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxuICAgICAgICB2YXIgZm5Ub1N0cmluZyA9IGhhc093bi50b1N0cmluZztcclxuICAgICAgICB2YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoT2JqZWN0KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCAob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm90bywgQ3RvcjtcclxuXHJcbiAgICAgICAgICAgIGlmKCFvYmogfHwgdG9TdHJpbmcuY2FsbChvYmopICE9PSBcIltvYmplY3QgT2JqZWN0XVwiKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCFwcm90byl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQ3RvciA9IGhhc093bi5jYWxsKHByb3RvLCBcImNvbnN0cnVjdG9yXCIpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBmblRvU3RyaW5nLmNhbGwoQ3RvcikgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0O1xyXG4gICAgfSkoKTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gVXRpbHMoKSB7fVxyXG4gICAgTGF5YS5jbGFzcyhVdGlscywgXCJTYWlsLlV0aWxzXCIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICog5Yib5bu66aqo6aq85Yqo55S7XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCDpqqjpqrzliqjnlLvot6/lvoRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYXRlIOmqqOmqvOWKqOeUu+W4p+eOh++8jOW8leaTjum7mOiupOS4ujMw77yM5LiA6Iis5LygMjRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIOWKqOeUu+exu+WeiyAwLOS9v+eUqOaooeadv+e8k+WGsueahOaVsOaNru+8jOaooeadv+e8k+WGsueahOaVsOaNru+8jOS4jeWFgeiuuOS/ruaUuVx077yI5YaF5a2Y5byA6ZSA5bCP77yM6K6h566X5byA6ZSA5bCP77yM5LiN5pSv5oyB5o2i6KOF77yJIDEs5L2/55So5Yqo55S76Ieq5bex55qE57yT5Yay5Yy677yM5q+P5Liq5Yqo55S76YO95Lya5pyJ6Ieq5bex55qE57yT5Yay5Yy677yM55u45b2T6ICX6LS55YaF5a2YIO+8iOWGheWtmOW8gOmUgOWkp++8jOiuoeeul+W8gOmUgOWwj++8jOaUr+aMgeaNouijhe+8iSAyLOS9v+eUqOWKqOaAgeaWueW8j++8jOWOu+WunuaXtuWOu+eUu1x077yI5YaF5a2Y5byA6ZSA5bCP77yM6K6h566X5byA6ZSA5aSn77yM5pSv5oyB5o2i6KOFLOS4jeW7uuiuruS9v+eUqO+8iVxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJuIOmqqOmqvOWKqOeUu1xyXG4gICAgICovXHJcbiAgICBVdGlscy5jcmVhdGVTa2VsZXRvbiA9IGZ1bmN0aW9uIChwYXRoLCByYXRlLCB0eXBlKSB7XHJcbiAgICAgICAgcmF0ZSA9IHJhdGUgfHwgMzA7XHJcbiAgICAgICAgdHlwZSA9IHR5cGUgfHwgMDtcclxuICAgICAgICB2YXIgcG5nID0gTGF5YS5sb2FkZXIuZ2V0UmVzKHBhdGggKyBcIi5wbmdcIik7XHJcbiAgICAgICAgdmFyIHNrICA9IExheWEubG9hZGVyLmdldFJlcyhwYXRoICsgXCIuc2tcIik7XHJcbiAgICAgICAgaWYoIXBuZyB8fCAhc2spe3JldHVybiBudWxsO31cclxuXHJcbiAgICAgICAgdmFyIHRlbXBsZXQgPSBuZXcgTGF5YS5UZW1wbGV0KCk7XHJcbiAgICAgICAgICAgIHRlbXBsZXQucGFyc2VEYXRhKHBuZywgc2ssIHJhdGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGVtcGxldC5idWlsZEFybWF0dXJlKHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICog6I635Y+W5a2X56ym5Liy6ZW/5bqm77yM5pSv5oyB5Lit5paHXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIOimgeiOt+WPlumVv+W6pueahOWtl+espuS4slxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJuIOWtl+espuS4sumVv+W6plxyXG4gICAgICovXHJcbiAgICBVdGlscy5nZXRTdHJpbmdMZW5ndGggPSBmdW5jdGlvbihzdHIpe1xyXG4gICAgICAgIHJldHVybiAoXCJcIiArIHN0ci5yZXBsYWNlKC9bXlxceDAwLVxceGZmXS9naSxcIm94XCIpKS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIOaMieaMh+WumumVv+W6puaIquWPluWtl+espuS4slxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciDopoHmiKrlj5bplb/luqbnmoTlrZfnrKbkuLJcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGgg5a2X56ym5Liy6ZW/5bqmXHJcbiAgICAgKiBcclxuICAgICAqIEByZXR1cm4g5oiq5Y+W6ZW/5bqm5ZCO55qE5a2X56ym5LiyXHJcbiAgICAgKi9cclxuICAgIFV0aWxzLmN1dFN0ciA9IGZ1bmN0aW9uICh0ZXh0LCBsZW5ndGgpIHtcclxuICAgICAgICB0ZXh0ID0gdGV4dCArIFwiXCI7XHJcbiAgICAgICAgdmFyIHJlZyA9IC9bXlxceDAwLVxceGZmXS9nO1xyXG4gICAgICAgIGlmKHRleHQucmVwbGFjZShyZWcsIFwibW1cIikubGVuZ3RoIDw9IGxlbmd0aCl7cmV0dXJuIHRleHQ7fVxyXG4gICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihsZW5ndGggLyAyKTtcclxuICAgICAgICBmb3IodmFyIGkgPSBtOyBpIDwgdGV4dC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHRleHQuc3Vic3RyKDAsIGkpLnJlcGxhY2UocmVnLCBcIm1tXCIpLmxlbmd0aCA+PSBsZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyKDAsIGkpICsgXCIuLi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICog6I635Y+WVVJM5Lit5oyH5a6a5Y+C5pWw55qE5YC8XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSDlj4LmlbDlkI1cclxuICAgICAqIFxyXG4gICAgICogQHJldHVybiDlj4LmlbDlgLxcclxuICAgICAqL1xyXG4gICAgVXRpbHMuZ2V0VXJsUGFyYW0gPSBmdW5jdGlvbihuYW1lKXtcclxuICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihefCYpXCIgKyBuYW1lICsgXCI9KFteJl0qKSgmfCQpXCIsIFwiaVwiKTtcclxuICAgICAgICB2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYociAhPSBudWxsKXtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZXNjYXBlKHJbMl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIOWwhuS4pOS4quaIluabtOWkmuWvueixoeeahOWGheWuueWQiOW5tuWIsOesrOS4gOS4quWvueixoeOAguS9v+eUqOaWueW8j+ingUpxdWVyeS5leHRlbmRcclxuICAgICAqIOiwg+eUqOaWueW8j1xyXG4gICAgICogU2FpbC5VdGlscy5leHRlbmQoIFtkZWVwIF0sIHRhcmdldCwgb2JqZWN0MSBbLCBvYmplY3ROIF0gKVxyXG4gICAgICogU2FpbC5VdGlscy5leHRlbmQoIHRhcmdldCBbLCBvYmplY3QxIF0gWywgb2JqZWN0TiBdIClcclxuICAgICAqIFxyXG4gICAgICogQHJldHVybiDlkIjlubblkI7nmoTlr7nosaFcclxuICAgICAqL1xyXG4gICAgVXRpbHMuZXh0ZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxyXG4gICAgICAgICAgICB0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sXHJcbiAgICAgICAgICAgIGkgPSAxLFxyXG4gICAgICAgICAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxyXG4gICAgICAgICAgICBkZWVwID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiKXtkZWVwID0gdGFyZ2V0O3RhcmdldCA9IGFyZ3VtZW50c1tpXSB8fCB7fTtpKys7fVxyXG4gICAgICAgIGlmKHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIXR5cGVvZiB0YXJnZXQgIT09IFwiZnVuY3Rpb25cIil7dGFyZ2V0ID0ge307fVxyXG4gICAgICAgIGlmKGkgPT09IGxlbmd0aCl7dGFyZ2V0ID0gdGhpcztpLS07fVxyXG5cclxuICAgICAgICBmb3IgKDtpIDwgbGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZiggKG9wdGlvbnMgPSBhcmd1bWVudHNbaV0pICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IHRhcmdldFtuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBjb3B5ID0gb3B0aW9uc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0YXJnZXQgPT09IGNvcHkpe2NvbnRpbnVlO31cclxuICAgICAgICAgICAgICAgICAgICBpZihkZWVwICYmIGNvcHkgJiYgKGlzUGxhaW5PYmplY3QoY29weSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheShjb3B5KSApICkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29weUlzQXJyYXkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weUlzQXJyYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lID0gc3JjICYmIEFycmF5LmlzQXJyYXkoc3JjKSA/IHNyYyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gVXRpbHMuZXh0ZW5kKGRlZXAsIGNsb25lLCBjb3B5KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoY29weSAhPT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gY29weTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG59KSgpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3NhaWwvc2FpbC51dGlscy5qcyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 19 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./laya_game/src/uiScene/com/monitor.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nvar _commonPop = __webpack_require__(/*! ../../pop/com/commonPop */ 10);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MonitorSet = function () {\n    function MonitorSet() {\n        _classCallCheck(this, MonitorSet);\n    }\n\n    _createClass(MonitorSet, null, [{\n        key: 'init',\n        value: function init() {\n\n            var backTimer = void 0;\n\n            Laya.Monitor.init();\n            Laya.Monitor.onSleep = function () {\n                Laya.timer.clearAll();\n\n                // socket.passivityClose();\n                _init_module.messageCenter.disconnectSocket();\n                var t = 0;\n\n                Laya.timer.once(t, this, function () {\n                    // let reload = () => window.location.reload();\n                    var monitorReset = function monitorReset() {\n                        /*  observer.publish('walk::stop');\r\n                          observer.publish('game::reset');*/\n                        window.location.reload();\n                    };\n\n                    _init_module.observer.publish('common::tips', '网络异常，请刷新界面...', monitorReset, monitorReset);\n                });\n            };\n\n            Laya.Monitor.onBack = function () {\n                backTimer = setTimeout(function () {\n                    // observer.publish('game::voice', false);\n                }, 8000);\n            };\n            Laya.Monitor.onFront = function () {\n                clearTimeout(backTimer);\n            };\n        }\n    }]);\n\n    return MonitorSet;\n}();\n\nexports.default = MonitorSet;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2NvbS9tb25pdG9yLmpzPzNkYTMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7IG9ic2VydmVyLG1lc3NhZ2VDZW50ZXIgfSBmcm9tICcuLi8uLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xyXG5pbXBvcnQge0NvbW1vblRpcHNQb3BEaWFsb2d9IGZyb20gJy4uLy4uL3BvcC9jb20vY29tbW9uUG9wJztcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uaXRvclNldCB7XHJcblxyXG4gICAgc3RhdGljIGluaXQoKSB7XHJcblxyXG4gICAgICAgIGxldCBiYWNrVGltZXI7XHJcblxyXG4gICAgICAgIExheWEuTW9uaXRvci5pbml0KCk7XHJcbiAgICAgICAgTGF5YS5Nb25pdG9yLm9uU2xlZXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhckFsbCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gc29ja2V0LnBhc3Npdml0eUNsb3NlKCk7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VDZW50ZXIuZGlzY29ubmVjdFNvY2tldCgpO1xyXG4gICAgICAgICAgICBsZXQgdCA9IDA7XHJcblxyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UodCwgdGhpcywgKCk9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgcmVsb2FkID0gKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vbml0b3JSZXNldCA9ICgpPT57XHJcbiAgICAgICAgICAgICAgICAgIC8qICBvYnNlcnZlci5wdWJsaXNoKCd3YWxrOjpzdG9wJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2FtZTo6cmVzZXQnKTsqL1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdjb21tb246OnRpcHMnLCAn572R57uc5byC5bi477yM6K+35Yi35paw55WM6Z2iLi4uJywgbW9uaXRvclJlc2V0LCBtb25pdG9yUmVzZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBMYXlhLk1vbml0b3Iub25CYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGJhY2tUaW1lciA9IHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICAgICAgICAgICAvLyBvYnNlcnZlci5wdWJsaXNoKCdnYW1lOjp2b2ljZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgIH0sIDgwMDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTGF5YS5Nb25pdG9yLm9uRnJvbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGJhY2tUaW1lcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy91aVNjZW5lL2NvbS9tb25pdG9yLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFuQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 20 */
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./laya_game/src/uiScene/loading.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(/*! ../config/utils.js */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _init_module = __webpack_require__(/*! ../module/init_module.js */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // loading页\n\n\nvar LoadingScene = function (_window$loadUI) {\n    _inherits(LoadingScene, _window$loadUI);\n\n    function LoadingScene() {\n        _classCallCheck(this, LoadingScene);\n\n        var _this = _possibleConstructorReturn(this, (LoadingScene.__proto__ || Object.getPrototypeOf(LoadingScene)).call(this));\n\n        _this.sceneName = \"loadingScene\";\n        _this.init();\n        LoadingScene.instance = _this;\n        return _this;\n    }\n\n    _createClass(LoadingScene, [{\n        key: 'init',\n\n\n        //初始化\n        value: function init() {\n            this.initConfig();\n            this.renderProcessData(this.config.MIN_WIDTH, '10%');\n\n            //订阅场景加载事件，请注意bind方法似乎会改变function，导致取消订阅的时候判断的回调函数和绑定的回调函数不相同\n            _init_module.observer.subscribe(this.sceneName + \"_enter\", this.onEnter.bind(this));\n        }\n    }, {\n        key: 'onEnter',\n        value: function onEnter() {\n\n            // 视图居中\n            (0, _init_module.setViewCenter)();\n\n            _utils2.default.log(this.sceneName + \" enter\");\n\n            //取消订阅时不用传递回调函数\n            _init_module.observer.unsubscribe(this.sceneName + \"_enter\");\n        }\n\n        // 初始化配置\n\n    }, {\n        key: 'initConfig',\n        value: function initConfig() {\n            this.config = {};\n            this.config.MAX_WIDTH = 680;\n            this.config.MIN_WIDTH = 60;\n            this.load_txt.font = \"load_font\";\n        }\n\n        // 加载运动条\n\n    }, {\n        key: 'loading',\n        value: function loading(percent) {\n            var per = Math.floor(percent * 100);\n            var w = per / 100 * this.config.MAX_WIDTH;\n            w = w < this.config.MIN_WIDTH ? this.config.MIN_WIDTH : w;\n\n            this.renderProcessData(w, parseInt(per) + '%');\n        }\n    }, {\n        key: 'renderProcessData',\n        value: function renderProcessData(width, txt) {\n            this.load_img.width = width;\n            this.load_txt.text = txt;\n        }\n\n        // 退出场景\n\n    }, {\n        key: 'onExit',\n        value: function onExit() {\n            // this.dom_skele.stop();\n\n            _utils2.default.log(this.sceneName + \" exit\");\n\n            //发布退出事件\n            _init_module.observer.publish(this.sceneName + \"_exit\");\n\n            this.clear();\n        }\n\n        //自定义方法，场景退出的时候是销毁还是removeself请自行抉择\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            this.destroy(true);\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return LoadingScene;\n}(window.loadUI);\n\nexports.default = LoadingScene;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2xvYWRpbmcuanM/MmU1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsb2FkaW5n6aG1XHJcbmltcG9ydCBVVElMUyBmcm9tICcuLi9jb25maWcvdXRpbHMuanMnO1xyXG5pbXBvcnQgeyBvYnNlcnZlciwgc2V0Vmlld0NlbnRlciB9IGZyb20gJy4uL21vZHVsZS9pbml0X21vZHVsZS5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nU2NlbmUgZXh0ZW5kcyB3aW5kb3cubG9hZFVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmVOYW1lID0gXCJsb2FkaW5nU2NlbmVcIjtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICBMb2FkaW5nU2NlbmUuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlIHx8IG5ldyB0aGlzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liJ3lp4vljJZcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0Q29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9jZXNzRGF0YSh0aGlzLmNvbmZpZy5NSU5fV0lEVEgsICcxMCUnKTtcclxuXHJcbiAgICAgICAgLy/orqLpmIXlnLrmma/liqDovb3kuovku7bvvIzor7fms6jmhI9iaW5k5pa55rOV5Ly85LmO5Lya5pS55Y+YZnVuY3Rpb27vvIzlr7zoh7Tlj5bmtojorqLpmIXnmoTml7blgJnliKTmlq3nmoTlm57osIPlh73mlbDlkoznu5HlrprnmoTlm57osIPlh73mlbDkuI3nm7jlkIxcclxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUodGhpcy5zY2VuZU5hbWUgKyBcIl9lbnRlclwiLCB0aGlzLm9uRW50ZXIuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbnRlcigpIHtcclxuXHJcbiAgICAgICAgLy8g6KeG5Zu+5bGF5LitXHJcbiAgICAgICAgc2V0Vmlld0NlbnRlcigpO1xyXG5cclxuICAgICAgICBVVElMUy5sb2codGhpcy5zY2VuZU5hbWUgKyBcIiBlbnRlclwiKTtcclxuXHJcbiAgICAgICAgLy/lj5bmtojorqLpmIXml7bkuI3nlKjkvKDpgJLlm57osIPlh73mlbBcclxuICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSh0aGlzLnNjZW5lTmFtZSArIFwiX2VudGVyXCIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDliJ3lp4vljJbphY3nva5cclxuICAgIGluaXRDb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7fTtcclxuICAgICAgICB0aGlzLmNvbmZpZy5NQVhfV0lEVEggPSA2ODA7XHJcbiAgICAgICAgdGhpcy5jb25maWcuTUlOX1dJRFRIID0gNjA7XHJcbiAgICAgICAgdGhpcy5sb2FkX3R4dC5mb250ID0gXCJsb2FkX2ZvbnRcIjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Yqg6L296L+Q5Yqo5p2hXHJcbiAgICBsb2FkaW5nKHBlcmNlbnQpIHtcclxuICAgICAgICBsZXQgcGVyID0gTWF0aC5mbG9vcihwZXJjZW50ICogMTAwKTtcclxuICAgICAgICBsZXQgdyA9IHBlciAvIDEwMCAqIHRoaXMuY29uZmlnLk1BWF9XSURUSDtcclxuICAgICAgICB3ID0gdyA8IHRoaXMuY29uZmlnLk1JTl9XSURUSCA/IHRoaXMuY29uZmlnLk1JTl9XSURUSCA6IHc7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyUHJvY2Vzc0RhdGEodywgYCR7cGFyc2VJbnQocGVyKX0lYCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUHJvY2Vzc0RhdGEod2lkdGgsIHR4dCl7XHJcbiAgICAgICAgdGhpcy5sb2FkX2ltZy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMubG9hZF90eHQudGV4dCA9IHR4dDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDpgIDlh7rlnLrmma9cclxuICAgIG9uRXhpdCgpIHtcclxuICAgICAgICAvLyB0aGlzLmRvbV9za2VsZS5zdG9wKCk7XHJcblxyXG4gICAgICAgIFVUSUxTLmxvZyh0aGlzLnNjZW5lTmFtZSArIFwiIGV4aXRcIik7XHJcblxyXG4gICAgICAgIC8v5Y+R5biD6YCA5Ye65LqL5Lu2XHJcbiAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCh0aGlzLnNjZW5lTmFtZSArIFwiX2V4aXRcIik7XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iHquWumuS5ieaWueazle+8jOWcuuaZr+mAgOWHuueahOaXtuWAmeaYr+mUgOavgei/mOaYr3JlbW92ZXNlbGbor7foh6rooYzmionmi6lcclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3VpU2NlbmUvbG9hZGluZy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7O0FBSEE7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFMQTtBQU1BO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUVBOzs7QUFoRUE7QUFDQTtBQUNBOzs7O0FBWEE7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 21 */
/* no static exports found */
/* all exports used */
/*!******************************!*\
  !*** ./laya_game/src/app.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ./common/common */ 13);\n\n__webpack_require__(/*! ./common/laya.custom */ 4);\n\n__webpack_require__(/*! ./common/requestAnimationFrame */ 14);\n\n__webpack_require__(/*! ./sail/sail.utils */ 18);\n\n__webpack_require__(/*! ./sail/keyboard */ 17);\n\nvar _config = __webpack_require__(/*! ./config/config */ 3);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _utils = __webpack_require__(/*! ./config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _resource = __webpack_require__(/*! ./config/resource */ 15);\n\nvar _init_module = __webpack_require__(/*! ./module/init_module */ 0);\n\nvar _commonGameModule = __webpack_require__(/*! ./module/com/commonGameModule */ 5);\n\nvar _commonGameModule2 = _interopRequireDefault(_commonGameModule);\n\nvar _init_pop = __webpack_require__(/*! ./pop/init_pop */ 16);\n\nvar _init_pop2 = _interopRequireDefault(_init_pop);\n\nvar _loading = __webpack_require__(/*! ./uiScene/loading */ 20);\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _room = __webpack_require__(/*! ./uiScene/room */ 6);\n\nvar _room2 = _interopRequireDefault(_room);\n\nvar _audio = __webpack_require__(/*! ./module/com/audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nvar _monitor = __webpack_require__(/*! ./uiScene/com/monitor */ 19);\n\nvar _monitor2 = _interopRequireDefault(_monitor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// laya初始化\n{\n    //配置宽高以及启用webgl(如果浏览器支持的话);\n    Laya.init(_config2.default.gameWidth, _config2.default.gameHeight, Laya.WebGL);\n\n    //设置横屏\n    Laya.stage.screenMode = _config2.default.screenMode;\n\n    //设置适配模式\n    Laya.stage.scaleMode = _config2.default.scaleMode;\n\n    // Laya.stage.fullScreenEnabled = true; //禁止横竖屏\n\n    // iPhone x 适配\n    var changeScaleMode = function changeScaleMode() {\n        var scaleMode;\n        switch (Laya.stage.screenMode) {\n            case 'horizontal':\n                scaleMode = Laya.Browser.width / Laya.Browser.height > 1334 / 750 ? Laya.Stage.SCALE_SHOWALL : Laya.Stage.SCALE_FIXED_WIDTH;\n                break;\n            case 'vertical':\n                scaleMode = Laya.Browser.width / Laya.Browser.height < 750 / 1334 ? Laya.Stage.SCALE_SHOWALL : Laya.Stage.SCALE_FIXED_HEIGHT;\n                break;\n            default:\n                scaleMode = Laya.Stage.SCALE_SHOWALL;\n                break;\n        }\n        Laya.stage.scaleMode = scaleMode;\n        Laya.stage.setScreenSize(Laya.Browser.clientWidth * Laya.Browser.pixelRatio, Laya.Browser.clientHeight * Laya.Browser.pixelRatio);\n    };\n    var resizeListen = function resizeListen() {\n        var timeoutResize;\n        var resizeFunc = function resizeFunc() {\n            clearTimeout(timeoutResize);\n            timeoutResize = setTimeout(function () {\n                changeScaleMode();\n            }, 200);\n        };\n        window.addEventListener('resize', resizeFunc);\n    };\n    var resizeOnce = false;\n    Laya.stage.once('resize', undefined, function () {\n\n        if (resizeOnce) {\n            return;\n        }\n        resizeOnce = true;\n        changeScaleMode();\n        resizeListen();\n        main();\n    });\n    setTimeout(function () {\n        changeScaleMode();\n    }, 0);\n    //设置水平对齐\n    Laya.stage.alignH = _config2.default.alignH;\n    //设置垂直对齐\n    Laya.stage.alignV = _config2.default.alignV;\n    //设置basepath\n    Laya.URL.basePath = typeof window.cdnpath === \"string\" ? window.cdnpath : \"\";\n    //版本号\n    Laya.URL.version = _resource.GAME_VERSION;\n\n    Laya.UIConfig.popupBgAlpha = 0.5;\n}\n\n// 开启调试\n\n// 弹层初始化\n\n\n//io模块 && 顶层观察者，各模块间可以通过观察者来通信 && 场景管理器\nif (_config2.default.localStatus || _config2.default.debug) {\n    Object.assign(window, { messageCenter: _init_module.messageCenter, observer: _init_module.observer, UTILS: _utils2.default, sceneManager: _init_module.sceneManager, RoomScene: _room2.default, LoadingScene: _loading2.default, AudioMudule: _audio2.default, CommonGameModule: _commonGameModule2.default });\n\n    window.checheEmit = _init_module.messageCenter.emit.bind(_init_module.messageCenter);\n\n    //是否开启FPS监听\n    // Laya.Stat.show(0, 0);\n}\n\n// loading页优先加载并渲染\nfunction main() {\n    var _this = this;\n\n    Laya.loader.load(_resource.RESOURCE.loadingRes, Laya.Handler.create(this, function () {\n        if (window.bigRender) {\n            window.bigRender.clear();\n        }\n\n        // loading场景\n        _init_module.sceneManager.loadScene(_loading2.default.getInstance());\n\n        // 浏览器窗口大小变化\n        Laya.stage.on(Laya.Event.RESIZE, _this, _init_module.setViewCenter);\n\n        // 加载字体&&图片\n        loadFontAndImage();\n    }));\n}\n\n// 加载字体&&图片\nfunction loadFontAndImage() {\n    var _this2 = this;\n\n    var count = 0;\n    var length = _resource.RESOURCE.fonts.length;\n    //全局字体资源\n    _resource.RESOURCE.fonts.forEach(function (item, i, arr) {\n        var bitmapfont = new Laya.BitmapFont();\n        bitmapfont.loadFont(item.url, Laya.Handler.create(_this2, function () {\n            Laya.Text.registerBitmapFont(item.name, bitmapfont);\n\n            // 字体全部加载完成\n            if (++count === length) {\n                // 加载图片\n                loadImages();\n            }\n        }));\n    });\n}\n\n// 加载图片\nfunction loadImages() {\n    // 资源加载完毕后\n    var onLoaded = function onLoaded() {\n        console.warn('大厅&房间————资源加载完成');\n\n        // 初始化所有弹层\n        (0, _init_pop2.default)({ messageCenter: _init_module.messageCenter, observer: _init_module.observer });\n        // MonitorSet.init();\n        // 有socket地址\n        if (window.websocketurl) {\n\n            // 绑定消息\n            _init_module.messageCenter.initAction();\n\n            // 连接服务器\n            _init_module.messageCenter.connectSocket();\n        } else {\n            // 直接进房间\n            _init_module.sceneManager.loadScene(_room2.default.getInstance(_init_module.messageCenter));\n        }\n    };\n\n    var loadView = _loading2.default.getInstance();\n\n    // 加载资源\n    Laya.loader.load(_resource.RESOURCE.disLoadingRes, Laya.Handler.create(this, onLoaded), Laya.Handler.create(loadView, loadView.loading, null, false));\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9hcHAuanM/OTQyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vY29tbW9uL2NvbW1vbic7XHJcbmltcG9ydCAnLi9jb21tb24vbGF5YS5jdXN0b20nO1xyXG5pbXBvcnQgJy4vY29tbW9uL3JlcXVlc3RBbmltYXRpb25GcmFtZSc7XHJcbmltcG9ydCAnLi9zYWlsL3NhaWwudXRpbHMnO1xyXG5pbXBvcnQgJy4vc2FpbC9rZXlib2FyZCc7XHJcblxyXG5pbXBvcnQgR0FNRV9DT05GSUcgZnJvbSAnLi9jb25maWcvY29uZmlnJztcclxuaW1wb3J0IFVUSUxTIGZyb20gJy4vY29uZmlnL3V0aWxzJztcclxuaW1wb3J0IHsgUkVTT1VSQ0UsIEdBTUVfVkVSU0lPTiB9IGZyb20gJy4vY29uZmlnL3Jlc291cmNlJztcclxuXHJcbi8vaW/mqKHlnZcgJiYg6aG25bGC6KeC5a+f6ICF77yM5ZCE5qih5Z2X6Ze05Y+v5Lul6YCa6L+H6KeC5a+f6ICF5p2l6YCa5L+hICYmIOWcuuaZr+euoeeQhuWZqFxyXG5pbXBvcnQgeyBtZXNzYWdlQ2VudGVyLCBvYnNlcnZlciwgc2NlbmVNYW5hZ2VyLCBzZXRWaWV3Q2VudGVyIH0gZnJvbSAnLi9tb2R1bGUvaW5pdF9tb2R1bGUnO1xyXG5pbXBvcnQgQ29tbW9uR2FtZU1vZHVsZSBmcm9tICcuL21vZHVsZS9jb20vY29tbW9uR2FtZU1vZHVsZSc7XHJcbi8vIOW8ueWxguWIneWni+WMllxyXG5pbXBvcnQgaW5pdEFsbFBvcCBmcm9tICcuL3BvcC9pbml0X3BvcCc7XHJcblxyXG5pbXBvcnQgTG9hZGluZ1NjZW5lIGZyb20gJy4vdWlTY2VuZS9sb2FkaW5nJztcclxuaW1wb3J0IFJvb21TY2VuZSBmcm9tICcuL3VpU2NlbmUvcm9vbSc7XHJcbmltcG9ydCBBdWRpb011ZHVsZSBmcm9tICcuL21vZHVsZS9jb20vYXVkaW8nO1xyXG5pbXBvcnQgTW9uaXRvclNldCBmcm9tICcuL3VpU2NlbmUvY29tL21vbml0b3InO1xyXG5cclxuLy8gbGF5YeWIneWni+WMllxyXG57XHJcbiAgICAvL+mFjee9ruWuvemrmOS7peWPiuWQr+eUqHdlYmdsKOWmguaenOa1j+iniOWZqOaUr+aMgeeahOivnSk7XHJcbiAgICBMYXlhLmluaXQoR0FNRV9DT05GSUcuZ2FtZVdpZHRoLCBHQU1FX0NPTkZJRy5nYW1lSGVpZ2h0LCBMYXlhLldlYkdMKTtcclxuXHJcbiAgICAvL+iuvue9ruaoquWxj1xyXG4gICAgTGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR0FNRV9DT05GSUcuc2NyZWVuTW9kZTtcclxuXHJcbiAgICAvL+iuvue9rumAgumFjeaooeW8j1xyXG4gICAgTGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHQU1FX0NPTkZJRy5zY2FsZU1vZGU7XHJcblxyXG4gICAgLy8gTGF5YS5zdGFnZS5mdWxsU2NyZWVuRW5hYmxlZCA9IHRydWU7IC8v56aB5q2i5qiq56uW5bGPXHJcblxyXG4gICAgLy8gaVBob25lIHgg6YCC6YWNXHJcbiAgICB2YXIgY2hhbmdlU2NhbGVNb2RlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgc2NhbGVNb2RlO1xyXG4gICAgICAgIHN3aXRjaChMYXlhLnN0YWdlLnNjcmVlbk1vZGUpe1xyXG4gICAgICAgICAgICBjYXNlICdob3Jpem9udGFsJzpcclxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZSA9IExheWEuQnJvd3Nlci53aWR0aCAvIExheWEuQnJvd3Nlci5oZWlnaHQgPiAxMzM0IC8gNzUwID8gTGF5YS5TdGFnZS5TQ0FMRV9TSE9XQUxMIDogTGF5YS5TdGFnZS5TQ0FMRV9GSVhFRF9XSURUSDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd2ZXJ0aWNhbCc6XHJcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGUgPSBMYXlhLkJyb3dzZXIud2lkdGggLyBMYXlhLkJyb3dzZXIuaGVpZ2h0IDwgNzUwIC8gMTMzNCA/IExheWEuU3RhZ2UuU0NBTEVfU0hPV0FMTCA6IExheWEuU3RhZ2UuU0NBTEVfRklYRURfSEVJR0hUO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGUgPSBMYXlhLlN0YWdlLlNDQUxFX1NIT1dBTEw7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgTGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBzY2FsZU1vZGU7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5zZXRTY3JlZW5TaXplKExheWEuQnJvd3Nlci5jbGllbnRXaWR0aCAqIExheWEuQnJvd3Nlci5waXhlbFJhdGlvLCBMYXlhLkJyb3dzZXIuY2xpZW50SGVpZ2h0ICogTGF5YS5Ccm93c2VyLnBpeGVsUmF0aW8pO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlc2l6ZUxpc3RlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHRpbWVvdXRSZXNpemU7XHJcbiAgICAgICAgdmFyIHJlc2l6ZUZ1bmMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlc2l6ZSk7XHJcbiAgICAgICAgICAgIHRpbWVvdXRSZXNpemUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VTY2FsZU1vZGUoKTtcclxuICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUZ1bmMpO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlc2l6ZU9uY2UgPSBmYWxzZTtcclxuICAgIExheWEuc3RhZ2Uub25jZSgncmVzaXplJywgdGhpcywgZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgaWYocmVzaXplT25jZSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzaXplT25jZSA9IHRydWU7XHJcbiAgICAgICAgY2hhbmdlU2NhbGVNb2RlKCk7XHJcbiAgICAgICAgcmVzaXplTGlzdGVuKCk7XHJcbiAgICAgICAgbWFpbigpO1xyXG4gICAgfSk7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2hhbmdlU2NhbGVNb2RlKCk7XHJcbiAgICB9LCAwKTtcclxuICAgIC8v6K6+572u5rC05bmz5a+56b2QXHJcbiAgICBMYXlhLnN0YWdlLmFsaWduSCA9IEdBTUVfQ09ORklHLmFsaWduSDtcclxuICAgIC8v6K6+572u5Z6C55u05a+56b2QXHJcbiAgICBMYXlhLnN0YWdlLmFsaWduViA9IEdBTUVfQ09ORklHLmFsaWduVjtcclxuICAgIC8v6K6+572uYmFzZXBhdGhcclxuICAgIExheWEuVVJMLmJhc2VQYXRoID0gdHlwZW9mIHdpbmRvdy5jZG5wYXRoID09PSBcInN0cmluZ1wiID8gd2luZG93LmNkbnBhdGggOiBcIlwiO1xyXG4gICAgLy/niYjmnKzlj7dcclxuICAgIExheWEuVVJMLnZlcnNpb24gPSBHQU1FX1ZFUlNJT047XHJcblxyXG4gICAgTGF5YS5VSUNvbmZpZy5wb3B1cEJnQWxwaGEgPSAwLjU7XHJcblxyXG59XHJcblxyXG4vLyDlvIDlkK/osIPor5VcclxuaWYgKEdBTUVfQ09ORklHLmxvY2FsU3RhdHVzIHx8IEdBTUVfQ09ORklHLmRlYnVnKSB7XHJcbiAgICBPYmplY3QuYXNzaWduKHdpbmRvdywgeyBtZXNzYWdlQ2VudGVyLCBvYnNlcnZlciwgVVRJTFMsIHNjZW5lTWFuYWdlciwgUm9vbVNjZW5lLCBMb2FkaW5nU2NlbmUsIEF1ZGlvTXVkdWxlLCBDb21tb25HYW1lTW9kdWxlfSlcclxuXHJcbiAgICB3aW5kb3cuY2hlY2hlRW1pdCA9IG1lc3NhZ2VDZW50ZXIuZW1pdC5iaW5kKG1lc3NhZ2VDZW50ZXIpO1xyXG5cclxuICAgIC8v5piv5ZCm5byA5ZCvRlBT55uR5ZCsXHJcbiAgICAvLyBMYXlhLlN0YXQuc2hvdygwLCAwKTtcclxufVxyXG5cclxuXHJcbi8vIGxvYWRpbmfpobXkvJjlhYjliqDovb3lubbmuLLmn5NcclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIExheWEubG9hZGVyLmxvYWQoUkVTT1VSQ0UubG9hZGluZ1JlcywgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgaWYod2luZG93LmJpZ1JlbmRlcil7XHJcbiAgICAgICAgICAgIHdpbmRvdy5iaWdSZW5kZXIuY2xlYXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGxvYWRpbmflnLrmma9cclxuICAgICAgICBzY2VuZU1hbmFnZXIubG9hZFNjZW5lKExvYWRpbmdTY2VuZS5nZXRJbnN0YW5jZSgpKTtcclxuXHJcbiAgICAgICAgLy8g5rWP6KeI5Zmo56qX5Y+j5aSn5bCP5Y+Y5YyWXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJFU0laRSwgdGhpcywgc2V0Vmlld0NlbnRlcik7XHJcblxyXG4gICAgICAgIC8vIOWKoOi9veWtl+S9kyYm5Zu+54mHXHJcbiAgICAgICAgbG9hZEZvbnRBbmRJbWFnZSgpO1xyXG4gICAgfSkpXHJcbn1cclxuXHJcbi8vIOWKoOi9veWtl+S9kyYm5Zu+54mHXHJcbmZ1bmN0aW9uIGxvYWRGb250QW5kSW1hZ2UoKSB7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgbGV0IGxlbmd0aCA9IFJFU09VUkNFLmZvbnRzLmxlbmd0aDtcclxuICAgIC8v5YWo5bGA5a2X5L2T6LWE5rqQXHJcbiAgICBSRVNPVVJDRS5mb250cy5mb3JFYWNoKChpdGVtLCBpLCBhcnIpID0+IHtcclxuICAgICAgICBsZXQgYml0bWFwZm9udCA9IG5ldyBMYXlhLkJpdG1hcEZvbnQoKTtcclxuICAgICAgICBiaXRtYXBmb250LmxvYWRGb250KGl0ZW0udXJsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgTGF5YS5UZXh0LnJlZ2lzdGVyQml0bWFwRm9udChpdGVtLm5hbWUsIGJpdG1hcGZvbnQpO1xyXG5cclxuICAgICAgICAgICAgLy8g5a2X5L2T5YWo6YOo5Yqg6L295a6M5oiQXHJcbiAgICAgICAgICAgIGlmICgrK2NvdW50ID09PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIOWKoOi9veWbvueJh1xyXG4gICAgICAgICAgICAgICAgbG9hZEltYWdlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSlcclxufVxyXG5cclxuLy8g5Yqg6L295Zu+54mHXHJcbmZ1bmN0aW9uIGxvYWRJbWFnZXMoKSB7XHJcbiAgICAvLyDotYTmupDliqDovb3lrozmr5XlkI5cclxuICAgIGxldCBvbkxvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+Wkp+WOhSbmiL/pl7TigJTigJTigJTigJTotYTmupDliqDovb3lrozmiJAnKTtcclxuXHJcbiAgICAgICAgLy8g5Yid5aeL5YyW5omA5pyJ5by55bGCXHJcbiAgICAgICAgaW5pdEFsbFBvcCh7IG1lc3NhZ2VDZW50ZXIsIG9ic2VydmVyIH0pO1xyXG4gICAgICAgIC8vIE1vbml0b3JTZXQuaW5pdCgpO1xyXG4gICAgICAgIC8vIOaciXNvY2tldOWcsOWdgFxyXG4gICAgICAgIGlmICh3aW5kb3cud2Vic29ja2V0dXJsKSB7XHJcblxyXG4gICAgICAgICAgICAvLyDnu5Hlrprmtojmga9cclxuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5pbml0QWN0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDov57mjqXmnI3liqHlmahcclxuICAgICAgICAgICAgbWVzc2FnZUNlbnRlci5jb25uZWN0U29ja2V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g55u05o6l6L+b5oi/6Ze0XHJcbiAgICAgICAgICAgIHNjZW5lTWFuYWdlci5sb2FkU2NlbmUoUm9vbVNjZW5lLmdldEluc3RhbmNlKG1lc3NhZ2VDZW50ZXIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGxvYWRWaWV3ID0gTG9hZGluZ1NjZW5lLmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgLy8g5Yqg6L296LWE5rqQXHJcbiAgICBMYXlhLmxvYWRlci5sb2FkKFJFU09VUkNFLmRpc0xvYWRpbmdSZXMsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgb25Mb2FkZWQpLCBMYXlhLkhhbmRsZXIuY3JlYXRlKGxvYWRWaWV3LCBsb2FkVmlldy5sb2FkaW5nLCBudWxsLCBmYWxzZSkpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL2FwcC5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBNUVBO0FBQ0E7QUFDQTtBQUxBO0FBK0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 22 */
/* no static exports found */
/* all exports used */
/*!************************************************!*\
  !*** ./laya_game/src/common/laya.zsySlider.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar default_config = {\n    origin_index: 0, // 初始显示的index\n    animate_time: 500, // 动画执行时间\n    item_space: 10, // item 之间的距离\n    move_scope_rate: 1 / 6,\n    pagination: true, // false | true || dom\n    end_call_back: null // 移动完成执行函数 @para index\n};\n\nfunction zsySlider(dom, options) {\n    var self = this;\n    self.dom = {\n        glr: dom\n    };\n    self.config = {}; // 储存游戏的配置\n    self.tmp = {}; // 储存游戏中数据\n    self.initConfig(options);\n    self.init();\n}\nvar _proto = zsySlider.prototype;\n\n// 初始化配置\n_proto.initConfig = function (options) {\n    var self = this;\n    if (!options) {\n        options = {};\n    }\n\n    self.config.cur_index = options.origin_index || default_config.origin_index;\n    self.config.item_space = options.item_space || default_config.item_space;\n    self.config.animate_time = options.animate_time || default_config.animate_time;\n    self.config.pagination = options.pagination || default_config.pagination;\n    self.config.end_call_back = options.end_call_back || default_config.end_call_back;\n\n    // 每次移动的距离\n    if (options.item_width) {\n        self.config.move_space = options.item_width + self.config.item_space;\n        // 每次移动超过这个阈值 才会移动到上一个或者下一个, 不然只是移动到原来的位置\n        self.config.move_scope = self.config.move_space * default_config.move_scope_rate;\n    }\n};\n\n_proto.init = function () {\n    var self = this;\n    self.initDom();\n    self.initEvent();\n\n    // 如果option中没有设置item_width, 就根据当前的宽度计算 应该移动的位移\n    if (!self.config.move_space) {\n        self.config.move_space = self.dom.con.width + self.config.item_space;\n        self.config.move_scope = self.config.move_space * default_config.move_scope_rate;\n    }\n};\n\n_proto.initDom = function () {\n    var self = this;\n    var dom_glr = self.dom.glr;\n\n    self.dom.con = dom_glr.getChildByName('con');\n    self.dom.list = self.dom.con.getChildByName('list');\n    self.replaceGlrList();\n    self.addMask();\n\n    self.dom.items = [];\n    for (var i = 0; i < self.dom.list.numChildren; i++) {\n        self.dom.items.push(self.dom.list.getChildAt(i));\n    }\n\n    if (self.config.pagination) {\n        self.dom.pagination = dom_glr.getChildByName('pagination');\n    }\n};\n\n// 在con上面添加mask\n_proto.addMask = function () {\n    var self = this;\n    var dom_con = self.dom.con;\n    dom_con.scrollRect = new laya.maths.Rectangle(0, 0, dom_con.width, dom_con.height);\n\n    //   var mask_sprite = new laya.display.Sprite();\n    //   dom_con.mask = mask_sprite;\n};\n\n// 将原来ViewStact标签换成新的HBox\n_proto.replaceGlrList = function () {\n    var self = this;\n    var dom_con = self.dom.con;\n\n    var dom_list = self.dom.list;\n    var dom_new_list = new Laya.Box();\n\n    dom_new_list.name = 'list';\n    var arr_items = [];\n    /*\r\n      将list添加在数组中, 然后在添加到新的list中\r\n      保证新的list中保持原有的顺序\r\n    */\n    for (var i = 0; i < dom_list.numChildren; i++) {\n        var dom_item = dom_list.getChildAt(i);\n        dom_item.name = 'item';\n        dom_item.visible = true;\n        arr_items.push(dom_item);\n    }\n\n    for (var i = 0; i < arr_items.length; i++) {\n        if (i == default_config.origin_index) {\n            arr_items[i].visible = true;\n        } else {\n            arr_items[i].visible = false;\n        }\n        dom_new_list.addChild(arr_items[i]);\n    }\n    self.dom.list = dom_new_list;\n    dom_con.addChild(dom_new_list);\n    dom_new_list.space = default_config.item_space;\n    dom_new_list.cacheAs = 'none';\n    dom_new_list.x = dom_list.x;\n    dom_new_list.y = dom_list.y;\n\n    // 删除原有的list\n    dom_con.removeChild(dom_list);\n    dom_list.destroy();\n};\n\n_proto.initEvent = function () {\n    var self = this;\n    var mouse_down = Laya.Event.MOUSE_DOWN;\n    var mouse_move = Laya.Event.MOUSE_MOVE;\n    var mouse_up = Laya.Event.MOUSE_UP;\n    var mouse_out = Laya.Event.MOUSE_OUT;\n    var dom_list = self.dom.list;\n\n    if (self.config.pagination) {\n        self.dom.pagination.selectHandler = Laya.Handler.create(self, self.paginationHandler, null, false);\n    }\n\n    dom_list.on(mouse_down, self, self.onTouchStart);\n    dom_list.on(mouse_move, self, self.onTouchMove);\n    dom_list.on(mouse_up, self, self.onTouchEnd);\n    dom_list.on(mouse_out, self, self.onTouchEnd);\n};\n\n// 点击paginationHandler的处理函数\n_proto.paginationHandler = function (index) {\n    var self = this;\n    var dom_pagination = self.dom.pagination;\n\n    if (self.getTouchStatus() === 'onEndAnimate') {\n        // 正在touchEnd动画时候不做处理\n        return true;\n    }\n    // 如果用户点击pagination而不是滑动触发, 要移动list\n    var cur_index = self.config.cur_index;\n    var move_direction, next_show_index;\n    next_show_index = index;\n    if (cur_index > index) {\n        move_direction = 'left';\n    } else {\n        move_direction = 'right';\n    }\n    self.handleMoveEffect(move_direction, next_show_index);\n    self.animateMove();\n};\n\n// con 的 mouseDown\n_proto.onTouchStart = function (event) {\n    var self = this;\n    var dom_list = self.dom.list;\n    if (dom_list != self.dom.list) {\n        return;\n    }\n    if (self.getTouchStatus() == 'onEndAnimate') {\n        // 正在touchEnd动画时候不做处理\n        return true;\n    }\n    self.tmp.start_point = {\n        x: event.stageX,\n        y: event.stageY\n    };\n    self.tmp.origin_pos = {\n        x: dom_list.x\n    };\n    self.setTouchStatus('start');\n};\n\n// con 的 mouseMove\n_proto.onTouchMove = function (event) {\n    var self = this;\n    //   var dom_list = event.target;\n    var dom_list = self.dom.list;\n\n    if (self.getTouchStatus() !== 'start' && self.getTouchStatus() !== 'move') {\n        return true;\n    }\n\n    if (self.getTouchStatus() == 'start') {\n        self.setTouchStatus('move');\n    }\n    self.tmp.move_dist = {\n        x: event.stageX - self.tmp.start_point.x,\n        y: event.stageY - self.tmp.start_point.y\n    };\n    dom_list.x = self.tmp.origin_pos.x + self.tmp.move_dist.x;\n    self.detectNextShowIndex();\n};\n\n/*\r\n  如果用户往前划, 将前面的item 显示到前面, 向后滑类式\r\n  预估将要看到的item\r\n*/\n_proto.detectNextShowIndex = function () {\n    var self = this;\n    var cur_index = self.config.cur_index;\n    var dom_items = self.dom.items;\n    var items_num = dom_items.length;\n    var move_direction, next_show_index;\n    var move_dist = self.tmp.move_dist.x;\n\n    if (move_dist > 0) {\n        move_direction = 'left';\n    } else if (move_dist < 0) {\n        move_direction = 'right';\n    } else {\n        // 没有移动不做处理\n        self.tmp.next_show_index = cur_index;\n        return true;\n    }\n\n    if (move_direction == 'left') {\n        next_show_index = cur_index - 1;\n    } else {\n        next_show_index = cur_index + 1;\n    }\n\n    if (next_show_index < 0) {\n        next_show_index = items_num - 1;\n    } else if (next_show_index >= items_num) {\n        next_show_index = 0;\n    }\n    self.handleMoveEffect(move_direction, next_show_index);\n};\n\n/*\r\n  通过移动的方向, next_show_index, 将下一个显示的item 移动到相应的位置, 隐藏其他的\r\n*/\n_proto.handleMoveEffect = function (move_direction, next_show_index) {\n    var self = this;\n    var cur_index = self.config.cur_index;\n    var dom_items = self.dom.items;\n    var move_space = self.config.move_space;\n    if (move_direction == self.tmp.move_direction && next_show_index == self.tmp.next_show_index) {\n        // next_show_index 已经出现 无需处理\n        return true;\n    }\n    self.tmp.move_direction = move_direction;\n    self.tmp.next_show_index = next_show_index;\n\n    for (var i = 0; i < dom_items.length; i++) {\n        if (i == cur_index || i == next_show_index) {\n            continue;\n        }\n        dom_items[i].x = 0;\n        dom_items[i].visible = false;\n    }\n\n    var dom_next_show = dom_items[next_show_index];\n    dom_next_show.visible = true;\n    if (move_direction == 'left') {\n        dom_next_show.x = -move_space;\n    } else {\n        dom_next_show.x = move_space;\n    }\n};\n\n// con 的 mouseUp\n_proto.onTouchEnd = function (event) {\n    var self = this;\n    var move_dist = self.tmp && self.tmp.move_dist && self.tmp.move_dist.x;\n    if (self.getTouchStatus() !== 'move') {\n        return true;\n    }\n    if (!move_dist) {\n        // 没有移动距离无需做任何操作\n        return true;\n    }\n\n    var move_dist = self.tmp.move_dist.x;\n    if (Math.abs(move_dist) < self.config.move_scope) {\n        self.tmp.next_show_index = self.config.cur_index;\n    }\n    self.animateMove();\n};\n\n// 滑动结束 滚动最终的位置动画\n_proto.animateMove = function () {\n    var self = this;\n    var end_call_back = self.config.end_call_back;\n    var next_show_index = self.tmp.next_show_index;\n    var move_space = self.config.move_space;\n\n    self.setTouchStatus('onEndAnimate');\n\n    if (self.config.cur_index == next_show_index) {\n        // 如果两者相等 移动的距离为0\n        move_space = 0;\n    } else {\n        self.config.cur_index = next_show_index;\n        if (self.tmp.move_direction == 'right') {\n            move_space = -move_space;\n        }\n    }\n\n    var dom_list = self.dom.list;\n    var changeProper = {\n        x: move_space\n    };\n\n    var Tween = new Laya.Tween();\n    Tween.to(dom_list, changeProper, self.config.animate_time, null, Laya.Handler.create(self, callLater));\n\n    function callLater() {\n        if (self.config.pagination) {\n            self.dom.pagination.selectedIndex = self.config.cur_index; // pagination的处理\n        }\n        if (end_call_back && typeof end_call_back == 'function') {\n            end_call_back(self.config.cur_index);\n        }\n        self.reset();\n    }\n};\n// 重置游戏\n_proto.reset = function () {\n    var self = this;\n    self.resetGlrCon();\n    self.tmp = {};\n\n    self.setTouchStatus('end');\n};\n\n// 滚动结束之后, reset所有的item\n_proto.resetGlrCon = function () {\n    var self = this;\n    var dom_list = self.dom.list;\n    var dom_items = self.dom.items;\n    var cur_index = self.config.cur_index;\n\n    // 将list回到原点, 当前显示的item\n    dom_list.x = 0;\n    dom_items[cur_index].x = 0;\n\n    for (var i = 0; i < dom_items.length; i++) {\n        if (i != self.config.cur_index) {\n            dom_items[i].visible = false;\n            continue;\n        }\n        dom_items[i].x = 0; // 将节点的位置设置为0\n    }\n};\n\n// 设置滚动的状态\n_proto.setTouchStatus = function (status) {\n    var self = this;\n    self.dom.con._zsySlider_touchtatus = status;\n};\n\n// 获取 滚动的状态\n_proto.getTouchStatus = function () {\n    var self = this;\n    return self.dom.con._zsySlider_touchtatus;\n};\n\nexports.default = zsySlider;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9jb21tb24vbGF5YS56c3lTbGlkZXIuanM/YmQ0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIgIHZhciBkZWZhdWx0X2NvbmZpZyA9IHtcclxuICAgICAgb3JpZ2luX2luZGV4OiAwLCAvLyDliJ3lp4vmmL7npLrnmoRpbmRleFxyXG4gICAgICBhbmltYXRlX3RpbWU6IDUwMCwgLy8g5Yqo55S75omn6KGM5pe26Ze0XHJcbiAgICAgIGl0ZW1fc3BhY2U6IDEwLCAvLyBpdGVtIOS5i+mXtOeahOi3neemu1xyXG4gICAgICBtb3ZlX3Njb3BlX3JhdGU6IDEgLyA2LFxyXG4gICAgICBwYWdpbmF0aW9uOiB0cnVlLCAvLyBmYWxzZSB8IHRydWUgfHwgZG9tXHJcbiAgICAgIGVuZF9jYWxsX2JhY2s6IG51bGwgLy8g56e75Yqo5a6M5oiQ5omn6KGM5Ye95pWwIEBwYXJhIGluZGV4XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24genN5U2xpZGVyKGRvbSwgb3B0aW9ucykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbGYuZG9tID0ge1xyXG4gICAgICAgICAgZ2xyOiBkb21cclxuICAgICAgfTtcclxuICAgICAgc2VsZi5jb25maWcgPSB7fTsgLy8g5YKo5a2Y5ri45oiP55qE6YWN572uXHJcbiAgICAgIHNlbGYudG1wID0ge307IC8vIOWCqOWtmOa4uOaIj+S4reaVsOaNrlxyXG4gICAgICBzZWxmLmluaXRDb25maWcob3B0aW9ucyk7XHJcbiAgICAgIHNlbGYuaW5pdCgpO1xyXG4gIH1cclxuICB2YXIgX3Byb3RvID0genN5U2xpZGVyLnByb3RvdHlwZTtcclxuXHJcbiAgLy8g5Yid5aeL5YyW6YWN572uXHJcbiAgX3Byb3RvLmluaXRDb25maWcgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgaWYgKCFvcHRpb25zKSB7XHJcbiAgICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuY29uZmlnLmN1cl9pbmRleCA9IG9wdGlvbnMub3JpZ2luX2luZGV4IHx8IGRlZmF1bHRfY29uZmlnLm9yaWdpbl9pbmRleDtcclxuICAgICAgc2VsZi5jb25maWcuaXRlbV9zcGFjZSA9IG9wdGlvbnMuaXRlbV9zcGFjZSB8fCBkZWZhdWx0X2NvbmZpZy5pdGVtX3NwYWNlO1xyXG4gICAgICBzZWxmLmNvbmZpZy5hbmltYXRlX3RpbWUgPSBvcHRpb25zLmFuaW1hdGVfdGltZSB8fCBkZWZhdWx0X2NvbmZpZy5hbmltYXRlX3RpbWU7XHJcbiAgICAgIHNlbGYuY29uZmlnLnBhZ2luYXRpb24gPSBvcHRpb25zLnBhZ2luYXRpb24gfHwgZGVmYXVsdF9jb25maWcucGFnaW5hdGlvbjtcclxuICAgICAgc2VsZi5jb25maWcuZW5kX2NhbGxfYmFjayA9IG9wdGlvbnMuZW5kX2NhbGxfYmFjayB8fCBkZWZhdWx0X2NvbmZpZy5lbmRfY2FsbF9iYWNrO1xyXG5cclxuICAgICAgLy8g5q+P5qyh56e75Yqo55qE6Led56a7XHJcbiAgICAgIGlmIChvcHRpb25zLml0ZW1fd2lkdGgpIHtcclxuICAgICAgICAgIHNlbGYuY29uZmlnLm1vdmVfc3BhY2UgPSBvcHRpb25zLml0ZW1fd2lkdGggKyBzZWxmLmNvbmZpZy5pdGVtX3NwYWNlO1xyXG4gICAgICAgICAgLy8g5q+P5qyh56e75Yqo6LaF6L+H6L+Z5Liq6ZiI5YC8IOaJjeS8muenu+WKqOWIsOS4iuS4gOS4quaIluiAheS4i+S4gOS4qiwg5LiN54S25Y+q5piv56e75Yqo5Yiw5Y6f5p2l55qE5L2N572uXHJcbiAgICAgICAgICBzZWxmLmNvbmZpZy5tb3ZlX3Njb3BlID0gc2VsZi5jb25maWcubW92ZV9zcGFjZSAqIGRlZmF1bHRfY29uZmlnLm1vdmVfc2NvcGVfcmF0ZTtcclxuICAgICAgfVxyXG4gIH07XHJcblxyXG4gIF9wcm90by5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgc2VsZi5pbml0RG9tKCk7XHJcbiAgICAgIHNlbGYuaW5pdEV2ZW50KCk7XHJcblxyXG4gICAgICAvLyDlpoLmnpxvcHRpb27kuK3msqHmnInorr7nva5pdGVtX3dpZHRoLCDlsLHmoLnmja7lvZPliY3nmoTlrr3luqborqHnrpcg5bqU6K+l56e75Yqo55qE5L2N56e7XHJcbiAgICAgIGlmICghc2VsZi5jb25maWcubW92ZV9zcGFjZSkge1xyXG4gICAgICAgICAgc2VsZi5jb25maWcubW92ZV9zcGFjZSA9IHNlbGYuZG9tLmNvbi53aWR0aCArIHNlbGYuY29uZmlnLml0ZW1fc3BhY2U7XHJcbiAgICAgICAgICBzZWxmLmNvbmZpZy5tb3ZlX3Njb3BlID0gc2VsZi5jb25maWcubW92ZV9zcGFjZSAqIGRlZmF1bHRfY29uZmlnLm1vdmVfc2NvcGVfcmF0ZTtcclxuICAgICAgfVxyXG4gIH07XHJcblxyXG4gIF9wcm90by5pbml0RG9tID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGRvbV9nbHIgPSBzZWxmLmRvbS5nbHI7XHJcblxyXG4gICAgICBzZWxmLmRvbS5jb24gPSBkb21fZ2xyLmdldENoaWxkQnlOYW1lKCdjb24nKTtcclxuICAgICAgc2VsZi5kb20ubGlzdCA9IHNlbGYuZG9tLmNvbi5nZXRDaGlsZEJ5TmFtZSgnbGlzdCcpO1xyXG4gICAgICBzZWxmLnJlcGxhY2VHbHJMaXN0KCk7XHJcbiAgICAgIHNlbGYuYWRkTWFzaygpO1xyXG5cclxuICAgICAgc2VsZi5kb20uaXRlbXMgPSBbXTtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmRvbS5saXN0Lm51bUNoaWxkcmVuOyBpKyspIHtcclxuICAgICAgICAgIHNlbGYuZG9tLml0ZW1zLnB1c2goc2VsZi5kb20ubGlzdC5nZXRDaGlsZEF0KGkpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNlbGYuY29uZmlnLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgIHNlbGYuZG9tLnBhZ2luYXRpb24gPSBkb21fZ2xyLmdldENoaWxkQnlOYW1lKCdwYWdpbmF0aW9uJyk7XHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuICAvLyDlnKhjb27kuIrpnaLmt7vliqBtYXNrXHJcbiAgX3Byb3RvLmFkZE1hc2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZG9tX2NvbiA9IHNlbGYuZG9tLmNvbjtcclxuICAgICAgZG9tX2Nvbi5zY3JvbGxSZWN0ID0gbmV3IGxheWEubWF0aHMuUmVjdGFuZ2xlKDAsIDAsIGRvbV9jb24ud2lkdGgsIGRvbV9jb24uaGVpZ2h0KTtcclxuXHJcbiAgICAvLyAgIHZhciBtYXNrX3Nwcml0ZSA9IG5ldyBsYXlhLmRpc3BsYXkuU3ByaXRlKCk7XHJcbiAgICAvLyAgIGRvbV9jb24ubWFzayA9IG1hc2tfc3ByaXRlO1xyXG4gIH07XHJcblxyXG4gIC8vIOWwhuWOn+adpVZpZXdTdGFjdOagh+etvuaNouaIkOaWsOeahEhCb3hcclxuICBfcHJvdG8ucmVwbGFjZUdsckxpc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZG9tX2NvbiA9IHNlbGYuZG9tLmNvbjtcclxuXHJcbiAgICAgIHZhciBkb21fbGlzdCA9IHNlbGYuZG9tLmxpc3Q7XHJcbiAgICAgIHZhciBkb21fbmV3X2xpc3QgPSBuZXcgTGF5YS5Cb3goKTtcclxuXHJcbiAgICAgIGRvbV9uZXdfbGlzdC5uYW1lID0gJ2xpc3QnO1xyXG4gICAgICB2YXIgYXJyX2l0ZW1zID0gW107XHJcbiAgICAgIC8qXHJcbiAgICAgICAg5bCGbGlzdOa3u+WKoOWcqOaVsOe7hOS4rSwg54S25ZCO5Zyo5re75Yqg5Yiw5paw55qEbGlzdOS4rVxyXG4gICAgICAgIOS/neivgeaWsOeahGxpc3TkuK3kv53mjIHljp/mnInnmoTpobrluo9cclxuICAgICAgKi9cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21fbGlzdC5udW1DaGlsZHJlbjsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgZG9tX2l0ZW0gPSBkb21fbGlzdC5nZXRDaGlsZEF0KGkpO1xyXG4gICAgICAgICAgZG9tX2l0ZW0ubmFtZSA9ICdpdGVtJztcclxuICAgICAgICAgIGRvbV9pdGVtLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgYXJyX2l0ZW1zLnB1c2goZG9tX2l0ZW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycl9pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgPT0gZGVmYXVsdF9jb25maWcub3JpZ2luX2luZGV4KSB7XHJcbiAgICAgICAgICAgICAgYXJyX2l0ZW1zW2ldLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcnJfaXRlbXNbaV0udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZG9tX25ld19saXN0LmFkZENoaWxkKGFycl9pdGVtc1tpXSk7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5kb20ubGlzdCA9IGRvbV9uZXdfbGlzdDtcclxuICAgICAgZG9tX2Nvbi5hZGRDaGlsZChkb21fbmV3X2xpc3QpO1xyXG4gICAgICBkb21fbmV3X2xpc3Quc3BhY2UgPSBkZWZhdWx0X2NvbmZpZy5pdGVtX3NwYWNlO1xyXG4gICAgICBkb21fbmV3X2xpc3QuY2FjaGVBcyA9ICdub25lJztcclxuICAgICAgZG9tX25ld19saXN0LnggPSBkb21fbGlzdC54O1xyXG4gICAgICBkb21fbmV3X2xpc3QueSA9IGRvbV9saXN0Lnk7XHJcblxyXG4gICAgICAvLyDliKDpmaTljp/mnInnmoRsaXN0XHJcbiAgICAgIGRvbV9jb24ucmVtb3ZlQ2hpbGQoZG9tX2xpc3QpO1xyXG4gICAgICBkb21fbGlzdC5kZXN0cm95KCk7XHJcblxyXG4gIH07XHJcblxyXG4gIF9wcm90by5pbml0RXZlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgbW91c2VfZG93biA9IExheWEuRXZlbnQuTU9VU0VfRE9XTjtcclxuICAgICAgdmFyIG1vdXNlX21vdmUgPSBMYXlhLkV2ZW50Lk1PVVNFX01PVkU7XHJcbiAgICAgIHZhciBtb3VzZV91cCA9IExheWEuRXZlbnQuTU9VU0VfVVA7XHJcbiAgICAgIHZhciBtb3VzZV9vdXQgPSBMYXlhLkV2ZW50Lk1PVVNFX09VVDtcclxuICAgICAgdmFyIGRvbV9saXN0ID0gc2VsZi5kb20ubGlzdDtcclxuXHJcbiAgICAgIGlmIChzZWxmLmNvbmZpZy5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgICBzZWxmLmRvbS5wYWdpbmF0aW9uLnNlbGVjdEhhbmRsZXIgPSBMYXlhLkhhbmRsZXIuY3JlYXRlKHNlbGYsIHNlbGYucGFnaW5hdGlvbkhhbmRsZXIsIG51bGwsIGZhbHNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZG9tX2xpc3Qub24obW91c2VfZG93biwgc2VsZiwgc2VsZi5vblRvdWNoU3RhcnQpO1xyXG4gICAgICBkb21fbGlzdC5vbihtb3VzZV9tb3ZlLCBzZWxmLCBzZWxmLm9uVG91Y2hNb3ZlKTtcclxuICAgICAgZG9tX2xpc3Qub24obW91c2VfdXAsIHNlbGYsIHNlbGYub25Ub3VjaEVuZCk7XHJcbiAgICAgIGRvbV9saXN0Lm9uKG1vdXNlX291dCwgc2VsZiwgc2VsZi5vblRvdWNoRW5kKTtcclxuICB9O1xyXG5cclxuICAvLyDngrnlh7twYWdpbmF0aW9uSGFuZGxlcueahOWkhOeQhuWHveaVsFxyXG4gIF9wcm90by5wYWdpbmF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGRvbV9wYWdpbmF0aW9uID0gc2VsZi5kb20ucGFnaW5hdGlvbjtcclxuXHJcbiAgICAgIGlmIChzZWxmLmdldFRvdWNoU3RhdHVzKCkgPT09ICdvbkVuZEFuaW1hdGUnKSB7XHJcbiAgICAgICAgICAvLyDmraPlnKh0b3VjaEVuZOWKqOeUu+aXtuWAmeS4jeWBmuWkhOeQhlxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgLy8g5aaC5p6c55So5oi354K55Ye7cGFnaW5hdGlvbuiAjOS4jeaYr+a7keWKqOinpuWPkSwg6KaB56e75YqobGlzdFxyXG4gICAgICB2YXIgY3VyX2luZGV4ID0gc2VsZi5jb25maWcuY3VyX2luZGV4O1xyXG4gICAgICB2YXIgbW92ZV9kaXJlY3Rpb24sIG5leHRfc2hvd19pbmRleDtcclxuICAgICAgbmV4dF9zaG93X2luZGV4ID0gaW5kZXg7XHJcbiAgICAgIGlmIChjdXJfaW5kZXggPiBpbmRleCkge1xyXG4gICAgICAgICAgbW92ZV9kaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtb3ZlX2RpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5oYW5kbGVNb3ZlRWZmZWN0KG1vdmVfZGlyZWN0aW9uLCBuZXh0X3Nob3dfaW5kZXgpO1xyXG4gICAgICBzZWxmLmFuaW1hdGVNb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gY29uIOeahCBtb3VzZURvd25cclxuICBfcHJvdG8ub25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZG9tX2xpc3QgPSBzZWxmLmRvbS5saXN0O1xyXG4gICAgICBpZiAoZG9tX2xpc3QgIT0gc2VsZi5kb20ubGlzdCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2VsZi5nZXRUb3VjaFN0YXR1cygpID09ICdvbkVuZEFuaW1hdGUnKSB7XHJcbiAgICAgICAgICAvLyDmraPlnKh0b3VjaEVuZOWKqOeUu+aXtuWAmeS4jeWBmuWkhOeQhlxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi50bXAuc3RhcnRfcG9pbnQgPSB7XHJcbiAgICAgICAgICB4OiBldmVudC5zdGFnZVgsXHJcbiAgICAgICAgICB5OiBldmVudC5zdGFnZVlcclxuICAgICAgfTtcclxuICAgICAgc2VsZi50bXAub3JpZ2luX3BvcyA9IHtcclxuICAgICAgICAgIHg6IGRvbV9saXN0LnhcclxuICAgICAgfTtcclxuICAgICAgc2VsZi5zZXRUb3VjaFN0YXR1cygnc3RhcnQnKTtcclxuICB9O1xyXG5cclxuICAvLyBjb24g55qEIG1vdXNlTW92ZVxyXG4gIF9wcm90by5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vICAgdmFyIGRvbV9saXN0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICB2YXIgZG9tX2xpc3QgPSBzZWxmLmRvbS5saXN0O1xyXG5cclxuICAgICAgaWYgKHNlbGYuZ2V0VG91Y2hTdGF0dXMoKSAhPT0gJ3N0YXJ0JyAmJiBzZWxmLmdldFRvdWNoU3RhdHVzKCkgIT09ICdtb3ZlJykge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZWxmLmdldFRvdWNoU3RhdHVzKCkgPT0gJ3N0YXJ0Jykge1xyXG4gICAgICAgICAgc2VsZi5zZXRUb3VjaFN0YXR1cygnbW92ZScpO1xyXG4gICAgICB9XHJcbiAgICAgIHNlbGYudG1wLm1vdmVfZGlzdCA9IHtcclxuICAgICAgICAgIHg6IGV2ZW50LnN0YWdlWCAtIHNlbGYudG1wLnN0YXJ0X3BvaW50LngsXHJcbiAgICAgICAgICB5OiBldmVudC5zdGFnZVkgLSBzZWxmLnRtcC5zdGFydF9wb2ludC55XHJcbiAgICAgIH07XHJcbiAgICAgIGRvbV9saXN0LnggPSBzZWxmLnRtcC5vcmlnaW5fcG9zLnggKyBzZWxmLnRtcC5tb3ZlX2Rpc3QueDtcclxuICAgICAgc2VsZi5kZXRlY3ROZXh0U2hvd0luZGV4KCk7XHJcbiAgfTtcclxuXHJcbiAgLypcclxuICAgIOWmguaenOeUqOaIt+W+gOWJjeWIkiwg5bCG5YmN6Z2i55qEaXRlbSDmmL7npLrliLDliY3pnaIsIOWQkeWQjua7keexu+W8j1xyXG4gICAg6aKE5Lyw5bCG6KaB55yL5Yiw55qEaXRlbVxyXG4gICovXHJcbiAgX3Byb3RvLmRldGVjdE5leHRTaG93SW5kZXggPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgY3VyX2luZGV4ID0gc2VsZi5jb25maWcuY3VyX2luZGV4O1xyXG4gICAgICB2YXIgZG9tX2l0ZW1zID0gc2VsZi5kb20uaXRlbXM7XHJcbiAgICAgIHZhciBpdGVtc19udW0gPSBkb21faXRlbXMubGVuZ3RoO1xyXG4gICAgICB2YXIgbW92ZV9kaXJlY3Rpb24sIG5leHRfc2hvd19pbmRleDtcclxuICAgICAgdmFyIG1vdmVfZGlzdCA9IHNlbGYudG1wLm1vdmVfZGlzdC54O1xyXG5cclxuICAgICAgaWYgKG1vdmVfZGlzdCA+IDApIHtcclxuICAgICAgICAgIG1vdmVfZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICB9IGVsc2UgaWYgKG1vdmVfZGlzdCA8IDApIHtcclxuICAgICAgICAgIG1vdmVfZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIOayoeacieenu+WKqOS4jeWBmuWkhOeQhlxyXG4gICAgICAgICAgc2VsZi50bXAubmV4dF9zaG93X2luZGV4ID0gY3VyX2luZGV4O1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtb3ZlX2RpcmVjdGlvbiA9PSAnbGVmdCcpIHtcclxuICAgICAgICAgIG5leHRfc2hvd19pbmRleCA9IGN1cl9pbmRleCAtIDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuZXh0X3Nob3dfaW5kZXggPSBjdXJfaW5kZXggKyAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobmV4dF9zaG93X2luZGV4IDwgMCkge1xyXG4gICAgICAgICAgbmV4dF9zaG93X2luZGV4ID0gaXRlbXNfbnVtIC0gMTtcclxuICAgICAgfSBlbHNlIGlmIChuZXh0X3Nob3dfaW5kZXggPj0gaXRlbXNfbnVtKSB7XHJcbiAgICAgICAgICBuZXh0X3Nob3dfaW5kZXggPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIHNlbGYuaGFuZGxlTW92ZUVmZmVjdChtb3ZlX2RpcmVjdGlvbiwgbmV4dF9zaG93X2luZGV4KTtcclxuICB9O1xyXG5cclxuICAvKlxyXG4gICAg6YCa6L+H56e75Yqo55qE5pa55ZCRLCBuZXh0X3Nob3dfaW5kZXgsIOWwhuS4i+S4gOS4quaYvuekuueahGl0ZW0g56e75Yqo5Yiw55u45bqU55qE5L2N572uLCDpmpDol4/lhbbku5bnmoRcclxuICAqL1xyXG4gIF9wcm90by5oYW5kbGVNb3ZlRWZmZWN0ID0gZnVuY3Rpb24obW92ZV9kaXJlY3Rpb24sIG5leHRfc2hvd19pbmRleCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBjdXJfaW5kZXggPSBzZWxmLmNvbmZpZy5jdXJfaW5kZXg7XHJcbiAgICAgIHZhciBkb21faXRlbXMgPSBzZWxmLmRvbS5pdGVtcztcclxuICAgICAgdmFyIG1vdmVfc3BhY2UgPSBzZWxmLmNvbmZpZy5tb3ZlX3NwYWNlO1xyXG4gICAgICBpZiAobW92ZV9kaXJlY3Rpb24gPT0gc2VsZi50bXAubW92ZV9kaXJlY3Rpb24gJiZcclxuICAgICAgICAgIG5leHRfc2hvd19pbmRleCA9PSBzZWxmLnRtcC5uZXh0X3Nob3dfaW5kZXgpIHtcclxuICAgICAgICAgIC8vIG5leHRfc2hvd19pbmRleCDlt7Lnu4/lh7rnjrAg5peg6ZyA5aSE55CGXHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBzZWxmLnRtcC5tb3ZlX2RpcmVjdGlvbiA9IG1vdmVfZGlyZWN0aW9uO1xyXG4gICAgICBzZWxmLnRtcC5uZXh0X3Nob3dfaW5kZXggPSBuZXh0X3Nob3dfaW5kZXg7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbV9pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgPT0gY3VyX2luZGV4IHx8IGkgPT0gbmV4dF9zaG93X2luZGV4KSB7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkb21faXRlbXNbaV0ueCA9IDA7XHJcbiAgICAgICAgICBkb21faXRlbXNbaV0udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZG9tX25leHRfc2hvdyA9IGRvbV9pdGVtc1tuZXh0X3Nob3dfaW5kZXhdO1xyXG4gICAgICBkb21fbmV4dF9zaG93LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICBpZiAobW92ZV9kaXJlY3Rpb24gPT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICBkb21fbmV4dF9zaG93LnggPSAtbW92ZV9zcGFjZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRvbV9uZXh0X3Nob3cueCA9IG1vdmVfc3BhY2U7XHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBjb24g55qEIG1vdXNlVXBcclxuICBfcHJvdG8ub25Ub3VjaEVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIG1vdmVfZGlzdCA9IHNlbGYudG1wICYmIHNlbGYudG1wLm1vdmVfZGlzdCAmJiBzZWxmLnRtcC5tb3ZlX2Rpc3QueDtcclxuICAgICAgaWYgKHNlbGYuZ2V0VG91Y2hTdGF0dXMoKSAhPT0gJ21vdmUnKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIW1vdmVfZGlzdCkge1xyXG4gICAgICAgICAgLy8g5rKh5pyJ56e75Yqo6Led56a75peg6ZyA5YGa5Lu75L2V5pON5L2cXHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIG1vdmVfZGlzdCA9IHNlbGYudG1wLm1vdmVfZGlzdC54O1xyXG4gICAgICBpZiAoTWF0aC5hYnMobW92ZV9kaXN0KSA8IHNlbGYuY29uZmlnLm1vdmVfc2NvcGUpIHtcclxuICAgICAgICAgIHNlbGYudG1wLm5leHRfc2hvd19pbmRleCA9IHNlbGYuY29uZmlnLmN1cl9pbmRleDtcclxuICAgICAgfVxyXG4gICAgICBzZWxmLmFuaW1hdGVNb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgLy8g5ruR5Yqo57uT5p2fIOa7muWKqOacgOe7iOeahOS9jee9ruWKqOeUu1xyXG4gIF9wcm90by5hbmltYXRlTW92ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBlbmRfY2FsbF9iYWNrID0gc2VsZi5jb25maWcuZW5kX2NhbGxfYmFjaztcclxuICAgICAgdmFyIG5leHRfc2hvd19pbmRleCA9IHNlbGYudG1wLm5leHRfc2hvd19pbmRleDtcclxuICAgICAgdmFyIG1vdmVfc3BhY2UgPSBzZWxmLmNvbmZpZy5tb3ZlX3NwYWNlO1xyXG5cclxuXHJcbiAgICAgIHNlbGYuc2V0VG91Y2hTdGF0dXMoJ29uRW5kQW5pbWF0ZScpO1xyXG5cclxuICAgICAgaWYgKHNlbGYuY29uZmlnLmN1cl9pbmRleCA9PSBuZXh0X3Nob3dfaW5kZXgpIHtcclxuICAgICAgICAgIC8vIOWmguaenOS4pOiAheebuOetiSDnp7vliqjnmoTot53nprvkuLowXHJcbiAgICAgICAgICBtb3ZlX3NwYWNlID0gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYuY29uZmlnLmN1cl9pbmRleCA9IG5leHRfc2hvd19pbmRleDtcclxuICAgICAgICAgIGlmIChzZWxmLnRtcC5tb3ZlX2RpcmVjdGlvbiA9PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgbW92ZV9zcGFjZSA9IC1tb3ZlX3NwYWNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZG9tX2xpc3QgPSBzZWxmLmRvbS5saXN0O1xyXG4gICAgICB2YXIgY2hhbmdlUHJvcGVyID0ge1xyXG4gICAgICAgICAgeDogbW92ZV9zcGFjZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIFR3ZWVuID0gbmV3IExheWEuVHdlZW4oKTtcclxuICAgICAgVHdlZW4udG8oZG9tX2xpc3QsIGNoYW5nZVByb3Blciwgc2VsZi5jb25maWcuYW5pbWF0ZV90aW1lLCBudWxsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHNlbGYsIGNhbGxMYXRlcikpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gY2FsbExhdGVyKCkge1xyXG4gICAgICAgICAgaWYgKHNlbGYuY29uZmlnLnBhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgICBzZWxmLmRvbS5wYWdpbmF0aW9uLnNlbGVjdGVkSW5kZXggPSBzZWxmLmNvbmZpZy5jdXJfaW5kZXg7IC8vIHBhZ2luYXRpb27nmoTlpITnkIZcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChlbmRfY2FsbF9iYWNrICYmIHR5cGVvZihlbmRfY2FsbF9iYWNrKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgZW5kX2NhbGxfYmFjayhzZWxmLmNvbmZpZy5jdXJfaW5kZXgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2VsZi5yZXNldCgpO1xyXG4gICAgICB9XHJcbiAgfTtcclxuICAvLyDph43nva7muLjmiI9cclxuICBfcHJvdG8ucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBzZWxmLnJlc2V0R2xyQ29uKCk7XHJcbiAgICAgIHNlbGYudG1wID0ge307XHJcblxyXG4gICAgICBzZWxmLnNldFRvdWNoU3RhdHVzKCdlbmQnKTtcclxuICB9O1xyXG5cclxuICAvLyDmu5rliqjnu5PmnZ/kuYvlkI4sIHJlc2V05omA5pyJ55qEaXRlbVxyXG4gIF9wcm90by5yZXNldEdsckNvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBkb21fbGlzdCA9IHNlbGYuZG9tLmxpc3Q7XHJcbiAgICAgIHZhciBkb21faXRlbXMgPSBzZWxmLmRvbS5pdGVtcztcclxuICAgICAgdmFyIGN1cl9pbmRleCA9IHNlbGYuY29uZmlnLmN1cl9pbmRleDtcclxuXHJcbiAgICAgIC8vIOWwhmxpc3Tlm57liLDljp/ngrksIOW9k+WJjeaYvuekuueahGl0ZW1cclxuICAgICAgZG9tX2xpc3QueCA9IDA7XHJcbiAgICAgIGRvbV9pdGVtc1tjdXJfaW5kZXhdLnggPSAwO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21faXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpICE9IHNlbGYuY29uZmlnLmN1cl9pbmRleCkge1xyXG4gICAgICAgICAgICAgIGRvbV9pdGVtc1tpXS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkb21faXRlbXNbaV0ueCA9IDA7IC8vIOWwhuiKgueCueeahOS9jee9ruiuvue9ruS4ujBcclxuICAgICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIOiuvue9rua7muWKqOeahOeKtuaAgVxyXG4gIF9wcm90by5zZXRUb3VjaFN0YXR1cyA9IGZ1bmN0aW9uKHN0YXR1cykge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHNlbGYuZG9tLmNvbi5fenN5U2xpZGVyX3RvdWNodGF0dXMgPSBzdGF0dXM7XHJcbiAgfTtcclxuXHJcbiAgLy8g6I635Y+WIOa7muWKqOeahOeKtuaAgVxyXG4gIF9wcm90by5nZXRUb3VjaFN0YXR1cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHJldHVybiBzZWxmLmRvbS5jb24uX3pzeVNsaWRlcl90b3VjaHRhdHVzO1xyXG4gIH07XHJcblxyXG4gIGV4cG9ydCBkZWZhdWx0IHpzeVNsaWRlcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvY29tbW9uL2xheWEuenN5U2xpZGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 23 */
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./laya_game/src/module/com/messageCenter.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.MessageCenterModule = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); //io\n\n\nvar _utils = __webpack_require__(/*! ../../config/utils.js */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _init_module = __webpack_require__(/*! ../init_module */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MessageCenterModule = exports.MessageCenterModule = function () {\n    function MessageCenterModule(options) {\n        _classCallCheck(this, MessageCenterModule);\n\n        this.ajaxTimeout = 30000;\n        this.socket = null;\n        this.ajaxUrl = options.ajaxUrl || {};\n        this.cmd = {};\n        this.registedAction = {};\n        this.websocketurl = options.websocketurl || \"\";\n        //启用primus的话，默认开启加解密\n        this.lib = options.lib || \"socketio\";\n        this.publicKey = options.publicKey || \"\";\n        this._commKey = \"\";\n        this.encryptedString = \"\";\n        this.token = options.token;\n        this.jwtToken = \"\";\n        this.endCallBack = options.endCallBack; //断开连接后的回调\n        this.unLoginCallBack = options.unLoginCallBack; //连接成功后如未登录时的回调\n        this.logInfo = options.logInfo; // 打印信息\n    }\n\n    //注册\n\n\n    _createClass(MessageCenterModule, [{\n        key: 'registerAction',\n        value: function registerAction(key, callback) {\n            if (typeof callback === \"function\") {\n                this.registedAction[key] = callback;\n            }\n\n            return this;\n        }\n\n        //取消注册\n\n    }, {\n        key: 'unRegisterAction',\n        value: function unRegisterAction(key) {\n            if (typeof this.registedAction[key] !== \"undefined\") {\n                delete this.registedAction[key];\n            }\n\n            return this;\n        }\n\n        //触发\n\n    }, {\n        key: 'dispatchAction',\n        value: function dispatchAction(key, data, type) {\n            var callback = this.registedAction[key];\n            if (typeof callback === \"function\") {\n                /*    if (type === \"ajax\") {\r\n                        callback(data);\r\n                    } else {\r\n                        callback(data.res || data.rep);\r\n                    }*/\n                callback(data);\n            } else {\n                //未注册过的行为静默失败，给出提示\n                _utils2.default.log(\"未注册行为：\" + key, data);\n            }\n        }\n\n        //获取数据\n\n    }, {\n        key: 'emit',\n        value: function emit(key, type, params, callback) {\n            // 说明未登录\n            if (typeof type === 'function') {\n                callback = type;\n            }\n            if ((typeof type === 'undefined' ? 'undefined' : _typeof(type)) === 'object') {\n                params = type;\n            }\n            //注册\n            this.registerAction(key, callback);\n\n            if (type === \"ajax\") {\n                this.emitAjax(key, params);\n            } else {\n                this.emitSocket({\n                    cmd: key,\n                    params: params\n                });\n            }\n        }\n\n        //获取ajax数据\n\n    }, {\n        key: 'emitAjax',\n        value: function emitAjax(key, params) {\n            var self = this;\n            var _url = this.ajaxUrl[key];\n            if (key === 'userAccount') {\n                var time = new Date().getTime();\n                _url = _url.replace(/\\*/, time);\n            }\n            window.$.ajax({\n                url: _url,\n                data: params,\n                timeout: this.ajaxTimeout,\n                success: function success(response) {\n                    _utils2.default.log(_url, response);\n\n                    response = response || {};\n                    self.dispatchAction(key, response, \"ajax\");\n                },\n                error: function error() {\n                    //异常处理\n                }\n            });\n        }\n\n        //获取socket数据\n\n    }, {\n        key: 'emitSocket',\n        value: function emitSocket(data) {\n            if (this.socket) {\n                if (this.lib === \"socketio\") {\n                    console.log(\"推送：\", data.cmd, data);\n                    this.socket.emit(\"router\", Base64.encode(JSON.stringify(data)));\n                } else {\n                    //为data增加token\n                    if (data.params) {\n                        data.params.jwt = this.jwtToken;\n                    } else {\n                        data.params = { jwt: this.jwtToken };\n                    }\n\n                    data.status = { time: new Date().getTime() };\n\n                    _utils2.default.log(\"推送：\", JSON.stringify(data));\n\n                    //加密\n                    var encryptData = CryptoJS.AES.encrypt(JSON.stringify(data), CryptoJS.enc.Utf8.parse(this._commKey), {\n                        mode: CryptoJS.mode.ECB,\n                        padding: CryptoJS.pad.Pkcs7\n                    });\n\n                    //发送加密数据\n                    this.socket.write(encryptData.toString());\n                }\n            } else {\n\n                this.endCallBack && this.endCallBack();\n            }\n        }\n\n        //生成commkey\n\n    }, {\n        key: 'generateCommKey',\n        value: function generateCommKey() {\n            try {\n                //默认32位编码\n                this._commKey = Date.parse(new Date()).toString() + Date.parse(new Date()).toString() + Date.parse(new Date()).toString().substring(0, 6);\n            } catch (e) {\n                _utils2.default.log(\"初始化commKey失败\", e);\n            }\n\n            return this;\n        }\n\n        //生成encryptedString\n\n    }, {\n        key: 'generateEncryptedString',\n        value: function generateEncryptedString() {\n            try {\n                var params = \"jwt=\" + this.token + \"&commKey=\" + this._commKey;\n                var jsencrypt = new window.JSEncrypt();\n                jsencrypt.setPublicKey(this.publicKey);\n                this.encryptedString = jsencrypt.encrypt(params);\n            } catch (e) {\n                _utils2.default.log(\"初始化encryptedString失败\", e);\n            }\n\n            return this;\n        }\n\n        //连接socket\n\n    }, {\n        key: 'connectSocket',\n        value: function connectSocket() {\n            var self = this;\n\n            if (this.lib === \"primus\") {\n                this.generateCommKey();\n                this.generateEncryptedString();\n            }\n            try {\n                if (this.lib === \"socketio\") {\n                    this.socket = window.io && window.io(this.websocketurl, { \"force new connection\": true });\n                } else if (this.lib === \"primus\") {\n                    this.socket = window.Primus.connect(this.websocketurl);\n                }\n            } catch (e) {\n                _utils2.default.log(e);\n                return;\n            }\n\n            if (this.lib === \"socketio\") {\n                this.socket.on('router', function (data) {\n                    var _data = JSON.parse(Base64.decode(data));\n                    _utils2.default.log(\"接收数据：\", _data.cmd, _data);\n\n                    this.dispatchAction(_data.cmd, _data, \"socket\");\n                }.bind(this));\n\n                this.socket.on('connect', function () {\n                    _utils2.default.log(\"连接已建立\");\n                });\n\n                this.socket.on('disconnect', function (data) {\n                    _utils2.default.log(\"连接已断开\");\n                });\n\n                this.socket.on('close', function (data) {\n                    _utils2.default.log(\"连接已关闭\");\n                });\n\n                this.socket.on('connect_error', function (error) {\n                    _utils2.default.log(\"连接发生错误\");\n                });\n\n                this.socket.on('reconnecting', function () {\n                    _utils2.default.log(\"重连中\");\n                });\n            } else if (this.lib === \"primus\") {\n\n                this.socket.on('outgoing::url', function (url) {\n                    url.query = 'login=' + self.encryptedString;\n                    console.log(\"outgoing::url\", url.query);\n                });\n\n                this.socket.on('open', function () {\n                    _utils2.default.log(\"连接成功\");\n\n                    self.unLoginCallBack && self.unLoginCallBack();\n                });\n\n                this.socket.on('data', function (data) {\n                    //解密\n                    var decryptstr = CryptoJS.AES.decrypt(data, CryptoJS.enc.Utf8.parse(this._commKey), {\n                        mode: CryptoJS.mode.ECB,\n                        padding: CryptoJS.pad.Pkcs7\n                    });\n\n                    var dataString = decryptstr.toString(CryptoJS.enc.Utf8);\n                    var parsedData = JSON.parse(dataString);\n\n                    // 打印信息\n                    self.logInfo(parsedData);\n\n                    //更新jwt token\n                    if (parsedData.cmd === \"conn::init\") {\n                        this.jwtToken = parsedData.res;\n                    }\n\n                    this.dispatchAction(parsedData.cmd, parsedData, \"socket\");\n                }.bind(this));\n\n                this.socket.on('error', function (data) {\n                    _utils2.default.log(\"连接出错\");\n                });\n\n                this.socket.on('reconnect', function () {\n                    _utils2.default.log(\"重连中\");\n                    var reload = function reload() {\n                        return window.location.reload();\n                    };\n                    _init_module.observer.publish('common::tips', '网络异常，请刷新界面！', reload, reload);\n                    _init_module.observer.publish('walk::stop');\n                    _init_module.observer.publish('game::reset');\n                });\n\n                this.socket.on('end', function () {\n                    _utils2.default.log(\"连接已关闭\");\n\n                    self.endCallBack && self.endCallBack();\n                });\n            }\n        }\n\n        //断开socket\n\n    }, {\n        key: 'disconnectSocket',\n        value: function disconnectSocket() {\n            if (this.socket) {\n                if (this.lib === \"socketio\") {\n                    this.socket.close();\n                    this.socket.removeAllListeners();\n                } else {\n                    this.socket.end();\n                }\n\n                this.socket = null;\n            }\n        }\n    }]);\n\n    return MessageCenterModule;\n}();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9tb2R1bGUvY29tL21lc3NhZ2VDZW50ZXIuanM/YzlkNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2lvXHJcbmltcG9ydCBVVElMUyBmcm9tICcuLi8uLi9jb25maWcvdXRpbHMuanMnO1xyXG5pbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gJy4uL2luaXRfbW9kdWxlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZXNzYWdlQ2VudGVyTW9kdWxlIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmFqYXhUaW1lb3V0ID0gMzAwMDA7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWpheFVybCA9IG9wdGlvbnMuYWpheFVybCB8fCB7fTtcclxuICAgICAgICB0aGlzLmNtZCA9IHt9O1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZWRBY3Rpb24gPSB7fTtcclxuICAgICAgICB0aGlzLndlYnNvY2tldHVybCA9IG9wdGlvbnMud2Vic29ja2V0dXJsIHx8IFwiXCI7XHJcbiAgICAgICAgLy/lkK/nlKhwcmltdXPnmoTor53vvIzpu5jorqTlvIDlkK/liqDop6Plr4ZcclxuICAgICAgICB0aGlzLmxpYiA9IG9wdGlvbnMubGliIHx8IFwic29ja2V0aW9cIjtcclxuICAgICAgICB0aGlzLnB1YmxpY0tleSA9IG9wdGlvbnMucHVibGljS2V5IHx8IFwiXCI7XHJcbiAgICAgICAgdGhpcy5fY29tbUtleSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5lbmNyeXB0ZWRTdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMudG9rZW4gPSBvcHRpb25zLnRva2VuO1xyXG4gICAgICAgIHRoaXMuand0VG9rZW4gPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuZW5kQ2FsbEJhY2sgPSBvcHRpb25zLmVuZENhbGxCYWNrOyAvL+aWreW8gOi/nuaOpeWQjueahOWbnuiwg1xyXG4gICAgICAgIHRoaXMudW5Mb2dpbkNhbGxCYWNrID0gb3B0aW9ucy51bkxvZ2luQ2FsbEJhY2s7IC8v6L+e5o6l5oiQ5Yqf5ZCO5aaC5pyq55m75b2V5pe255qE5Zue6LCDXHJcbiAgICAgICAgdGhpcy5sb2dJbmZvID0gb3B0aW9ucy5sb2dJbmZvOyAvLyDmiZPljbDkv6Hmga9cclxuICAgIH1cclxuXHJcbiAgICAvL+azqOWGjFxyXG4gICAgcmVnaXN0ZXJBY3Rpb24oa2V5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVkQWN0aW9uW2tleV0gPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5Y+W5raI5rOo5YaMXHJcbiAgICB1blJlZ2lzdGVyQWN0aW9uKGtleSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZWdpc3RlZEFjdGlvbltrZXldICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlZ2lzdGVkQWN0aW9uW2tleV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvL+inpuWPkVxyXG4gICAgZGlzcGF0Y2hBY3Rpb24oa2V5LCBkYXRhLCB0eXBlKSB7XHJcbiAgICAgICAgbGV0IGNhbGxiYWNrID0gdGhpcy5yZWdpc3RlZEFjdGlvbltrZXldO1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIC8qICAgIGlmICh0eXBlID09PSBcImFqYXhcIikge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhLnJlcyB8fCBkYXRhLnJlcCk7XHJcbiAgICAgICAgICAgIH0qL1xyXG4gICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/mnKrms6jlhozov4fnmoTooYzkuLrpnZnpu5jlpLHotKXvvIznu5nlh7rmj5DnpLpcclxuICAgICAgICAgICAgVVRJTFMubG9nKFwi5pyq5rOo5YaM6KGM5Li677yaXCIgKyBrZXksIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+iOt+WPluaVsOaNrlxyXG4gICAgZW1pdChrZXksIHR5cGUsIHBhcmFtcywgY2FsbGJhY2spIHtcclxuICAgICAgICAvLyDor7TmmI7mnKrnmbvlvZVcclxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2sgPSB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHBhcmFtcyA9IHR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5rOo5YaMXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckFjdGlvbihrZXksIGNhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiYWpheFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdEFqYXgoa2V5LCBwYXJhbXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdFNvY2tldCh7XHJcbiAgICAgICAgICAgICAgICBjbWQ6IGtleSxcclxuICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+iOt+WPlmFqYXjmlbDmja5cclxuICAgIGVtaXRBamF4KGtleSwgcGFyYW1zKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGxldCBfdXJsID0gdGhpcy5hamF4VXJsW2tleV07XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ3VzZXJBY2NvdW50Jykge1xyXG4gICAgICAgICAgICBsZXQgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICBfdXJsID0gX3VybC5yZXBsYWNlKC9cXCovLCB0aW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LiQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogX3VybCxcclxuICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxyXG4gICAgICAgICAgICB0aW1lb3V0OiB0aGlzLmFqYXhUaW1lb3V0LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgVVRJTFMubG9nKF91cmwsIHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlc3BvbnNlIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgc2VsZi5kaXNwYXRjaEFjdGlvbihrZXksIHJlc3BvbnNlLCBcImFqYXhcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8v5byC5bi45aSE55CGXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iOt+WPlnNvY2tldOaVsOaNrlxyXG4gICAgZW1pdFNvY2tldChkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpYiA9PT0gXCJzb2NrZXRpb1wiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaOqOmAge+8mlwiLCBkYXRhLmNtZCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KFwicm91dGVyXCIsIEJhc2U2NC5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoZGF0YSkpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v5Li6ZGF0YeWinuWKoHRva2VuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnBhcmFtcy5qd3QgPSB0aGlzLmp3dFRva2VuO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnBhcmFtcyA9IHsgand0OiB0aGlzLmp3dFRva2VuIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMgPSB7IHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH07XHJcblxyXG4gICAgICAgICAgICAgICAgVVRJTFMubG9nKFwi5o6o6YCB77yaXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL+WKoOWvhlxyXG4gICAgICAgICAgICAgICAgbGV0IGVuY3J5cHREYXRhID0gQ3J5cHRvSlMuQUVTLmVuY3J5cHQoSlNPTi5zdHJpbmdpZnkoZGF0YSksIENyeXB0b0pTLmVuYy5VdGY4LnBhcnNlKHRoaXMuX2NvbW1LZXkpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogQ3J5cHRvSlMubW9kZS5FQ0IsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogQ3J5cHRvSlMucGFkLlBrY3M3XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL+WPkemAgeWKoOWvhuaVsOaNrlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQud3JpdGUoZW5jcnlwdERhdGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2V7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVuZENhbGxCYWNrICYmIHRoaXMuZW5kQ2FsbEJhY2soKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v55Sf5oiQY29tbWtleVxyXG4gICAgZ2VuZXJhdGVDb21tS2V5KCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8v6buY6K6kMzLkvY3nvJbnoIFcclxuICAgICAgICAgICAgdGhpcy5fY29tbUtleSA9IERhdGUucGFyc2UobmV3IERhdGUoKSkudG9TdHJpbmcoKSArIERhdGUucGFyc2UobmV3IERhdGUoKSkudG9TdHJpbmcoKSArIERhdGUucGFyc2UobmV3IERhdGUoKSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgNik7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBVVElMUy5sb2coXCLliJ3lp4vljJZjb21tS2V55aSx6LSlXCIsIGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy/nlJ/miJBlbmNyeXB0ZWRTdHJpbmdcclxuICAgIGdlbmVyYXRlRW5jcnlwdGVkU3RyaW5nKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJhbXMgPSBcImp3dD1cIiArIHRoaXMudG9rZW4gKyBcIiZjb21tS2V5PVwiICsgdGhpcy5fY29tbUtleTtcclxuICAgICAgICAgICAgbGV0IGpzZW5jcnlwdCA9IG5ldyB3aW5kb3cuSlNFbmNyeXB0KCk7XHJcbiAgICAgICAgICAgIGpzZW5jcnlwdC5zZXRQdWJsaWNLZXkodGhpcy5wdWJsaWNLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmVuY3J5cHRlZFN0cmluZyA9IGpzZW5jcnlwdC5lbmNyeXB0KHBhcmFtcyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBVVElMUy5sb2coXCLliJ3lp4vljJZlbmNyeXB0ZWRTdHJpbmflpLHotKVcIiwgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvL+i/nuaOpXNvY2tldFxyXG4gICAgY29ubmVjdFNvY2tldCgpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxpYiA9PT0gXCJwcmltdXNcIikge1xyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlQ29tbUtleSgpO1xyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlRW5jcnlwdGVkU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpYiA9PT0gXCJzb2NrZXRpb1wiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldCA9IHdpbmRvdy5pbyAmJiB3aW5kb3cuaW8odGhpcy53ZWJzb2NrZXR1cmwsIHsgXCJmb3JjZSBuZXcgY29ubmVjdGlvblwiOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGliID09PSBcInByaW11c1wiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldCA9IHdpbmRvdy5QcmltdXMuY29ubmVjdCh0aGlzLndlYnNvY2tldHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIFVUSUxTLmxvZyhlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGliID09PSBcInNvY2tldGlvXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oJ3JvdXRlcicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBfZGF0YSA9IEpTT04ucGFyc2UoQmFzZTY0LmRlY29kZShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICBVVElMUy5sb2coXCLmjqXmlLbmlbDmja7vvJpcIiwgX2RhdGEuY21kLCBfZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEFjdGlvbihfZGF0YS5jbWQsIF9kYXRhLCBcInNvY2tldFwiKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBVVElMUy5sb2coXCLov57mjqXlt7Llu7rnq4tcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBVVElMUy5sb2coXCLov57mjqXlt7Lmlq3lvIBcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Nsb3NlJywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgVVRJTFMubG9nKFwi6L+e5o6l5bey5YWz6ZetXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIFVUSUxTLmxvZyhcIui/nuaOpeWPkeeUn+mUmeivr1wiKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbigncmVjb25uZWN0aW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBVVElMUy5sb2coXCLph43ov57kuK1cIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5saWIgPT09IFwicHJpbXVzXCIpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKCdvdXRnb2luZzo6dXJsJywgZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwucXVlcnkgPSAnbG9naW49JyArIHNlbGYuZW5jcnlwdGVkU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJvdXRnb2luZzo6dXJsXCIsIHVybC5xdWVyeSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oJ29wZW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIFVUSUxTLmxvZyhcIui/nuaOpeaIkOWKn1wiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLnVuTG9naW5DYWxsQmFjayAmJiBzZWxmLnVuTG9naW5DYWxsQmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKCdkYXRhJywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgLy/op6Plr4ZcclxuICAgICAgICAgICAgICAgIGxldCBkZWNyeXB0c3RyID0gQ3J5cHRvSlMuQUVTLmRlY3J5cHQoZGF0YSwgQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UodGhpcy5fY29tbUtleSksIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBDcnlwdG9KUy5tb2RlLkVDQixcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBDcnlwdG9KUy5wYWQuUGtjczdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBkYXRhU3RyaW5nID0gZGVjcnlwdHN0ci50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YVN0cmluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5omT5Y2w5L+h5oGvXHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ0luZm8ocGFyc2VkRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/mm7TmlrBqd3QgdG9rZW5cclxuICAgICAgICAgICAgICAgIGlmIChwYXJzZWREYXRhLmNtZCA9PT0gXCJjb25uOjppbml0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmp3dFRva2VuID0gcGFyc2VkRGF0YS5yZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEFjdGlvbihwYXJzZWREYXRhLmNtZCwgcGFyc2VkRGF0YSwgXCJzb2NrZXRcIik7XHJcblxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Vycm9yJywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgVVRJTFMubG9nKFwi6L+e5o6l5Ye66ZSZXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKCdyZWNvbm5lY3QnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIFVUSUxTLmxvZyhcIumHjei/nuS4rVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCByZWxvYWQgPSAoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5wdWJsaXNoKCdjb21tb246OnRpcHMnLCAn572R57uc5byC5bi477yM6K+35Yi35paw55WM6Z2i77yBJywgcmVsb2FkLCByZWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnd2Fsazo6c3RvcCcpO1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIucHVibGlzaCgnZ2FtZTo6cmVzZXQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbignZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBVVElMUy5sb2coXCLov57mjqXlt7LlhbPpl61cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5lbmRDYWxsQmFjayAmJiBzZWxmLmVuZENhbGxCYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aWreW8gHNvY2tldFxyXG4gICAgZGlzY29ubmVjdFNvY2tldCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGliID09PSBcInNvY2tldGlvXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LmVuZCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL21vZHVsZS9jb20vbWVzc2FnZUNlbnRlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBREE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 24 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./laya_game/src/module/com/observer.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//观察者\nvar ObserverModule = exports.ObserverModule = function () {\n    function ObserverModule() {\n        _classCallCheck(this, ObserverModule);\n\n        //订阅者的引用\n        this.subscribers = {};\n    }\n\n    //发布\n\n\n    _createClass(ObserverModule, [{\n        key: 'publish',\n        value: function publish(type) {\n            var _subscribers = this.subscribers[type];\n            if (_subscribers) {\n                for (var _len = arguments.length, data = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                    data[_key - 1] = arguments[_key];\n                }\n\n                for (var i = 0; i < _subscribers.length; i++) {\n                    _subscribers[i].apply(_subscribers, data);\n                }\n            } else {\n                console.log('未观察事件： ', type);\n            }\n\n            return this;\n        }\n\n        //订阅\n\n    }, {\n        key: 'subscribe',\n        value: function subscribe(type, handler) {\n            if (this.subscribers[type] === undefined) {\n                this.subscribers[type] = [];\n            }\n\n            this.subscribers[type].push(handler);\n\n            return this;\n        }\n\n        //取消订阅\n        //如果传递了handler，只取消该订阅，否则取消全部订阅\n\n    }, {\n        key: 'unsubscribe',\n        value: function unsubscribe(type, handler) {\n            var _subscribers = this.subscribers[type];\n            if (_subscribers) {\n                if (handler) {\n                    for (var i = _subscribers.length - 1; i >= 0; i--) {\n                        if (handler === _subscribers[i]) {\n                            _subscribers.splice(i, 1);\n                            break;\n                        }\n                    }\n                } else {\n                    for (var _i = _subscribers.length - 1; _i >= 0; _i--) {\n                        _subscribers.splice(_i, 1);\n                    }\n                }\n            }\n\n            return this;\n        }\n    }]);\n\n    return ObserverModule;\n}();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9tb2R1bGUvY29tL29ic2VydmVyLmpzP2FmMjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy/op4Llr5/ogIVcclxuZXhwb3J0IGNsYXNzIE9ic2VydmVyTW9kdWxlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8v6K6i6ZiF6ICF55qE5byV55SoXHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8v5Y+R5biDXHJcbiAgICBwdWJsaXNoKHR5cGUsIC4uLmRhdGEpIHtcclxuICAgICAgICBsZXQgX3N1YnNjcmliZXJzID0gdGhpcy5zdWJzY3JpYmVyc1t0eXBlXTtcclxuICAgICAgICBpZiAoX3N1YnNjcmliZXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX3N1YnNjcmliZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBfc3Vic2NyaWJlcnNbaV0oLi4uZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5pyq6KeC5a+f5LqL5Lu277yaICcsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy/orqLpmIVcclxuICAgIHN1YnNjcmliZSh0eXBlLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlcnNbdHlwZV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzW3R5cGVdID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN1YnNjcmliZXJzW3R5cGVdLnB1c2goaGFuZGxlcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5Y+W5raI6K6i6ZiFXHJcbiAgICAvL+WmguaenOS8oOmAkuS6hmhhbmRsZXLvvIzlj6rlj5bmtojor6XorqLpmIXvvIzlkKbliJnlj5bmtojlhajpg6jorqLpmIVcclxuICAgIHVuc3Vic2NyaWJlKHR5cGUsIGhhbmRsZXIpIHtcclxuICAgICAgICBsZXQgX3N1YnNjcmliZXJzID0gdGhpcy5zdWJzY3JpYmVyc1t0eXBlXTtcclxuICAgICAgICBpZiAoX3N1YnNjcmliZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gX3N1YnNjcmliZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIgPT09IF9zdWJzY3JpYmVyc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3Vic2NyaWJlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gX3N1YnNjcmliZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N1YnNjcmliZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvbW9kdWxlL2NvbS9vYnNlcnZlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBQUE7QUFGQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 25 */
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./laya_game/src/module/com/sceneManager.js ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SceneManagerModule = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../init_module.js */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//场景管理模块\nvar SceneManagerModule = exports.SceneManagerModule = function () {\n    function SceneManagerModule() {\n        _classCallCheck(this, SceneManagerModule);\n\n        this.currentScene = null;\n        this.nextScene = null;\n    }\n\n    //加载场景\n\n\n    _createClass(SceneManagerModule, [{\n        key: \"loadScene\",\n        value: function loadScene(sceneobj) {\n            this.nextScene = sceneobj || this.nextScene;\n\n            //如果当前场景不为空，那么调用当前场景的退出功能，并且订阅当前场景退出事件，以便触发loadNextScene加载下一个需要加载的场景\n            if (this.currentScene != null) {\n                _init_module.observer.subscribe(this.currentScene.sceneName + \"_exit\", this.loadNextScene.bind(this));\n                this.currentScene.onExit();\n            } else {\n                this.currentScene = this.nextScene;\n                //添加到stage上\n                Laya.stage.addChild(this.currentScene);\n                //发布场景加载事件\n                _init_module.observer.publish(this.currentScene.sceneName + \"_enter\");\n            }\n        }\n\n        //加载下一个场景\n\n    }, {\n        key: \"loadNextScene\",\n        value: function loadNextScene() {\n            //取消订阅\n            _init_module.observer.unsubscribe(this.currentScene.sceneName + \"_exit\");\n            //将当前场景置空\n            this.currentScene = null;\n            this.loadScene();\n        }\n    }]);\n\n    return SceneManagerModule;\n}();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9tb2R1bGUvY29tL3NjZW5lTWFuYWdlci5qcz85MWY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSAnLi4vaW5pdF9tb2R1bGUuanMnO1xyXG5cclxuLy/lnLrmma/nrqHnkIbmqKHlnZdcclxuZXhwb3J0IGNsYXNzIFNjZW5lTWFuYWdlck1vZHVsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTY2VuZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5uZXh0U2NlbmUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5Yqg6L295Zy65pmvXHJcbiAgICBsb2FkU2NlbmUoc2NlbmVvYmopIHtcclxuICAgICAgICB0aGlzLm5leHRTY2VuZSA9IHNjZW5lb2JqIHx8IHRoaXMubmV4dFNjZW5lO1xyXG5cclxuICAgICAgICAvL+WmguaenOW9k+WJjeWcuuaZr+S4jeS4uuepuu+8jOmCo+S5iOiwg+eUqOW9k+WJjeWcuuaZr+eahOmAgOWHuuWKn+iDve+8jOW5tuS4lOiuoumYheW9k+WJjeWcuuaZr+mAgOWHuuS6i+S7tu+8jOS7peS+v+inpuWPkWxvYWROZXh0U2NlbmXliqDovb3kuIvkuIDkuKrpnIDopoHliqDovb3nmoTlnLrmma9cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50U2NlbmUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUodGhpcy5jdXJyZW50U2NlbmUuc2NlbmVOYW1lICsgXCJfZXhpdFwiLCB0aGlzLmxvYWROZXh0U2NlbmUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjZW5lLm9uRXhpdCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjZW5lID0gdGhpcy5uZXh0U2NlbmU7XHJcbiAgICAgICAgICAgIC8v5re75Yqg5Yiwc3RhZ2XkuIpcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLmN1cnJlbnRTY2VuZSk7XHJcbiAgICAgICAgICAgIC8v5Y+R5biD5Zy65pmv5Yqg6L295LqL5Lu2XHJcbiAgICAgICAgICAgIG9ic2VydmVyLnB1Ymxpc2godGhpcy5jdXJyZW50U2NlbmUuc2NlbmVOYW1lICsgXCJfZW50ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5Yqg6L295LiL5LiA5Liq5Zy65pmvXHJcbiAgICBsb2FkTmV4dFNjZW5lKCkge1xyXG4gICAgICAgIC8v5Y+W5raI6K6i6ZiFXHJcbiAgICAgICAgb2JzZXJ2ZXIudW5zdWJzY3JpYmUodGhpcy5jdXJyZW50U2NlbmUuc2NlbmVOYW1lICsgXCJfZXhpdFwiKTtcclxuICAgICAgICAvL+WwhuW9k+WJjeWcuuaZr+e9ruepulxyXG4gICAgICAgIHRoaXMuY3VycmVudFNjZW5lID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvYWRTY2VuZSgpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL21vZHVsZS9jb20vc2NlbmVNYW5hZ2VyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 26 */
/* no static exports found */
/* all exports used */
/*!************************************************!*\
  !*** ./laya_game/src/pop/com/defaultBetPop.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   默认投币额提示\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar DefaultBetView = function (_defaultBetPopUI) {\n    _inherits(DefaultBetView, _defaultBetPopUI);\n\n    function DefaultBetView() {\n        _classCallCheck(this, DefaultBetView);\n\n        var _this = _possibleConstructorReturn(this, (DefaultBetView.__proto__ || Object.getPrototypeOf(DefaultBetView)).call(this));\n\n        _this.init();\n\n        DefaultBetView.instance = _this;\n        return _this;\n    }\n\n    _createClass(DefaultBetView, [{\n        key: 'init',\n        value: function init() {\n\n            this.subscribe();\n        }\n\n        // 订阅\n\n    }, {\n        key: 'subscribe',\n        value: function subscribe() {\n\n            // 投币成功\n            _init_module.observer.subscribe('pop::defaultbet', this.show.bind(this));\n        }\n    }, {\n        key: 'show',\n        value: function show(txt) {\n            this.dom_text.text = txt;\n\n            // this.dom_text.y = (this.height - this.dom_text.displayHeight) / 2;\n            this.zOrder = 12;\n\n            this.x = Laya.stage.width / 2;\n            this.y = Laya.stage.height / 2;\n\n            Laya.stage.addChild(this);\n            Laya.Tween.from(this, { scaleX: 0, scaleY: 0 }, 300, Laya.Ease.backOut);\n\n            Laya.timer.once(3 * 1000, this, this.removeSelf);\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return DefaultBetView;\n}(defaultBetPopUI);\n\nexports.default = DefaultBetView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL2RlZmF1bHRCZXRQb3AuanM/MjM4NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICAgIOm7mOiupOaKleW4gemineaPkOekulxyXG4gKi9cclxuaW1wb3J0IHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVmYXVsdEJldFZpZXcgZXh0ZW5kcyBkZWZhdWx0QmV0UG9wVUl7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG5cclxuICAgICAgICBEZWZhdWx0QmV0Vmlldy5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlIHx8IG5ldyB0aGlzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDorqLpmIVcclxuICAgIHN1YnNjcmliZSgpIHtcclxuXHJcbiAgICAgICAgLy8g5oqV5biB5oiQ5YqfXHJcbiAgICAgICAgb2JzZXJ2ZXIuc3Vic2NyaWJlKCdwb3A6OmRlZmF1bHRiZXQnLCB0aGlzLnNob3cuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNob3codHh0KXtcclxuICAgICAgICB0aGlzLmRvbV90ZXh0LnRleHQgPSB0eHQ7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuZG9tX3RleHQueSA9ICh0aGlzLmhlaWdodCAtIHRoaXMuZG9tX3RleHQuZGlzcGxheUhlaWdodCkgLyAyO1xyXG4gICAgICAgIHRoaXMuek9yZGVyID0gMTI7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IExheWEuc3RhZ2Uud2lkdGggLyAyO1xyXG4gICAgICAgIHRoaXMueSA9IExheWEuc3RhZ2UuaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzKTtcclxuICAgICAgICBMYXlhLlR3ZWVuLmZyb20odGhpcywge3NjYWxlWDogMCwgc2NhbGVZOiAwfSwgMzAwLCBMYXlhLkVhc2UuYmFja091dCk7XHJcblxyXG4gICAgICAgIExheWEudGltZXIub25jZSgzICogMTAwMCwgdGhpcywgdGhpcy5yZW1vdmVTZWxmKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3BvcC9jb20vZGVmYXVsdEJldFBvcC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTtBQUNBOzs7OztBQUpBOzs7OztBQU1BOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBOzs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBOUJBO0FBQ0E7QUFDQTs7OztBQVZBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 27 */
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./laya_game/src/pop/com/fudaiPop.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FudaiPopDialog = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(/*! ../../config/utils.js */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\r\n  排行榜\r\n*/\n\n\nvar FudaiPopDialog = exports.FudaiPopDialog = function (_fudaiPopUI) {\n  _inherits(FudaiPopDialog, _fudaiPopUI);\n\n  function FudaiPopDialog() {\n    var _ref;\n\n    _classCallCheck(this, FudaiPopDialog);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = FudaiPopDialog.__proto__ || Object.getPrototypeOf(FudaiPopDialog)).call.apply(_ref, [this].concat(args)));\n\n    _this.init();\n    return _this;\n  }\n\n  _createClass(FudaiPopDialog, [{\n    key: 'init',\n    value: function init() {\n      this.initDom();\n\n      this.initEvent();\n    }\n\n    // 注册\n\n  }, {\n    key: 'registerAction',\n    value: function registerAction(_ref2) {\n      var messageCenter = _ref2.messageCenter,\n          observer = _ref2.observer;\n\n      // 数据传输\n      messageCenter.registerAction(\"queen\", this.rendermfudai.bind(this));\n\n      // 订阅弹层\n      observer.subscribe(\"pop::fudai\", this.myShow.bind(this));\n    }\n  }, {\n    key: 'initDom',\n    value: function initDom() {\n      // 关闭按钮\n      this.dom_close_btn = this.getChildByName(\"close_btn\");\n    }\n\n    // 初始化事件\n\n  }, {\n    key: 'initEvent',\n    value: function initEvent() {\n      this.dom_close_btn.on(Laya.Event.CLICK, this, this.close);\n\n      // 未登录\n      // this.dom_unloaded.on(Laya.Event.CLICK, this, UTILS.gotoLogin);\n    }\n\n    // 加载中或者显示数据\n\n  }, {\n    key: 'isLoadingOrContent',\n    value: function isLoadingOrContent(type) {\n      // 暂无数据\n      if (type === 0) {\n\n        this.dom_loading.visible = true;\n        this.dom_loading.text = \"暂无数据……\";\n        this.tab_con.visible = false;\n        this.dom_unloaded.visible = false;\n\n        // 加载中\n      } else if (type === 1) {\n\n        this.dom_loading.visible = true;\n        this.dom_loading.text = \"加载中……\";\n        this.tab_con.visible = false;\n        this.dom_unloaded.visible = false;\n\n        // 显示内容\n      } else if (type === 2) {\n        this.dom_loading.visible = false;\n        this.tab_con.visible = true;\n        this.dom_unloaded.visible = false;\n\n        // 未登录\n      } else if (type === 3) {\n        this.dom_loading.visible = false;\n        this.tab_con.visible = false;\n        this.dom_unloaded.visible = true;\n      }\n    }\n  }, {\n    key: 'transformNum',\n    value: function transformNum(amount) {\n      if (amount >= 100000) {\n        amount = Math.floor(amount / 10000 * 100) / 100;\n        amount = amount + \"万\";\n      }\n      return amount;\n    }\n    // 女王赏金\n\n  }, {\n    key: 'rendermfudai',\n    value: function rendermfudai(data) {\n      var _this2 = this;\n\n      var fudaiData = data.res;\n      var result = [];\n      var config = [];\n\n      if (data.code !== 0) {\n        return;\n      }\n      _init_module.observer.publish(\"fudai::update\", fudaiData);\n      this.fudai_amount.text = _utils2.default.addThousandSymbol(fudaiData.amount);\n      // 配置\n      fudaiData.conf.forEach(function (item, index) {\n        var start = _this2.transformNum(Number(item.start));\n        // let share = this.transformNum(Number(item.share));\n        var fixed = _this2.transformNum(Number(item.fixed));\n        var _text1 = '\\u6295\\u5E01\\u989D\\u2265' + start + ',\\u6709\\u673A\\u4F1A\\u8D62' + item.share + '%\\u7684\\u5956\\u52B1';\n        var _text2 = '';\n\n        item.fixed ? _text2 = ',\\u6700\\u9AD8\\u53EF\\u5F97' + fixed : _text2 = '';\n\n        config.push({\n          descript: _text1 + _text2\n        });\n      });\n      this.list_config.array = config;\n\n      // 数据\n      fudaiData.list.forEach(function (item, index) {\n        var _fudaiData = fudaiData.list[index];\n\n        var _Time = _fudaiData.addTime.split(' ');\n        var cutIndex = _Time[1].lastIndexOf(\":\");\n        var _myTime = void 0;\n        _Time[1].slice(0, cutIndex);\n        _myTime = _Time[0] + ' ' + _Time[1].slice(0, cutIndex);\n\n        result.push({\n          name: _utils2.default.getActiveStr(_fudaiData.name, 10),\n          amount: _utils2.default.getActiveStr(parseInt(_fudaiData.winAmount), 10),\n          time: _myTime\n        });\n      });\n\n      this.list_fudai_all.array = result;\n\n      if (fudaiData.list.length === 0) {\n        this.isLoadingOrContent(0);\n      } else {\n        this.isLoadingOrContent(2);\n      }\n    }\n\n    // 出现\n\n  }, {\n    key: 'myShow',\n    value: function myShow() {\n      _init_module.messageCenter.emit('queen');\n      // 弹层显示\n      this.popup();\n    }\n  }]);\n\n  return FudaiPopDialog;\n}(fudaiPopUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL2Z1ZGFpUG9wLmpzPzEyMzIiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8qKlxyXG4gIOaOkuihjOamnFxyXG4qL1xyXG5pbXBvcnQgVVRJTFMgZnJvbSAnLi4vLi4vY29uZmlnL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XHJcbmV4cG9ydCBjbGFzcyBGdWRhaVBvcERpYWxvZyBleHRlbmRzIGZ1ZGFpUG9wVUkge1xyXG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3Mpe1xyXG4gICAgc3VwZXIoLi4uYXJncyk7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmluaXREb20oKTtcclxuXHJcbiAgICB0aGlzLmluaXRFdmVudCgpO1xyXG5cclxuICB9XHJcblxyXG4gIC8vIOazqOWGjFxyXG5cclxuICByZWdpc3RlckFjdGlvbih7bWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9KSB7XHJcbiAgICAvLyDmlbDmja7kvKDovpNcclxuICAgIG1lc3NhZ2VDZW50ZXIucmVnaXN0ZXJBY3Rpb24oXCJxdWVlblwiLCB0aGlzLnJlbmRlcm1mdWRhaS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAvLyDorqLpmIXlvLnlsYJcclxuICAgIG9ic2VydmVyLnN1YnNjcmliZShcInBvcDo6ZnVkYWlcIix0aGlzLm15U2hvdy5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG5cclxuICBpbml0RG9tKCkge1xyXG4gICAgLy8g5YWz6Zet5oyJ6ZKuXHJcbiAgICB0aGlzLmRvbV9jbG9zZV9idG4gPSB0aGlzLmdldENoaWxkQnlOYW1lKFwiY2xvc2VfYnRuXCIpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIOWIneWni+WMluS6i+S7tlxyXG4gIGluaXRFdmVudCgpIHtcclxuICAgIHRoaXMuZG9tX2Nsb3NlX2J0bi5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLmNsb3NlKTtcclxuXHJcbiAgICAvLyDmnKrnmbvlvZVcclxuICAgIC8vIHRoaXMuZG9tX3VubG9hZGVkLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIFVUSUxTLmdvdG9Mb2dpbik7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8g5Yqg6L295Lit5oiW6ICF5pi+56S65pWw5o2uXHJcbiAgaXNMb2FkaW5nT3JDb250ZW50KHR5cGUpIHtcclxuICAgIC8vIOaaguaXoOaVsOaNrlxyXG4gICAgaWYodHlwZSA9PT0gMCl7XHJcblxyXG4gICAgICB0aGlzLmRvbV9sb2FkaW5nLnZpc2libGU9dHJ1ZTtcclxuICAgICAgdGhpcy5kb21fbG9hZGluZy50ZXh0PVwi5pqC5peg5pWw5o2u4oCm4oCmXCI7XHJcbiAgICAgIHRoaXMudGFiX2Nvbi52aXNpYmxlPWZhbHNlO1xyXG4gICAgICB0aGlzLmRvbV91bmxvYWRlZC52aXNpYmxlPWZhbHNlO1xyXG5cclxuICAgIC8vIOWKoOi9veS4rVxyXG4gICAgfWVsc2UgaWYodHlwZSA9PT0gMSl7XHJcblxyXG4gICAgICB0aGlzLmRvbV9sb2FkaW5nLnZpc2libGU9dHJ1ZTtcclxuICAgICAgdGhpcy5kb21fbG9hZGluZy50ZXh0PVwi5Yqg6L295Lit4oCm4oCmXCI7XHJcbiAgICAgIHRoaXMudGFiX2Nvbi52aXNpYmxlPWZhbHNlO1xyXG4gICAgICB0aGlzLmRvbV91bmxvYWRlZC52aXNpYmxlPWZhbHNlO1xyXG5cclxuICAgIC8vIOaYvuekuuWGheWuuVxyXG4gICAgfWVsc2UgaWYodHlwZSA9PT0yKXtcclxuICAgICAgdGhpcy5kb21fbG9hZGluZy52aXNpYmxlPWZhbHNlO1xyXG4gICAgICB0aGlzLnRhYl9jb24udmlzaWJsZT10cnVlO1xyXG4gICAgICB0aGlzLmRvbV91bmxvYWRlZC52aXNpYmxlPWZhbHNlO1xyXG5cclxuICAgIC8vIOacqueZu+W9lVxyXG4gICAgfWVsc2UgaWYodHlwZSA9PT0zKXtcclxuICAgICAgdGhpcy5kb21fbG9hZGluZy52aXNpYmxlPWZhbHNlO1xyXG4gICAgICB0aGlzLnRhYl9jb24udmlzaWJsZT1mYWxzZTtcclxuICAgICAgdGhpcy5kb21fdW5sb2FkZWQudmlzaWJsZT10cnVlO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHRyYW5zZm9ybU51bShhbW91bnQpIHtcclxuICAgIGlmKGFtb3VudD49IDEwMDAwMCl7XHJcbiAgICAgICAgYW1vdW50ID0gTWF0aC5mbG9vcigoYW1vdW50LzEwMDAwKSoxMDApLzEwMDtcclxuICAgICAgICBhbW91bnQgPWFtb3VudCArIFwi5LiHXCI7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFtb3VudDtcclxuICB9XHJcbiAgLy8g5aWz546L6LWP6YeRXHJcbiAgcmVuZGVybWZ1ZGFpKGRhdGEpIHtcclxuXHJcbiAgICBsZXQgZnVkYWlEYXRhID0gZGF0YS5yZXMgO1xyXG4gICAgbGV0IHJlc3VsdCA9IFtdIDtcclxuICAgIGxldCBjb25maWcgPSBbXSA7XHJcblxyXG4gICAgaWYoZGF0YS5jb2RlICE9PSAwICl7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIG9ic2VydmVyLnB1Ymxpc2goXCJmdWRhaTo6dXBkYXRlXCIsIGZ1ZGFpRGF0YSk7XHJcbiAgICB0aGlzLmZ1ZGFpX2Ftb3VudC50ZXh0ID0gVVRJTFMuYWRkVGhvdXNhbmRTeW1ib2woZnVkYWlEYXRhLmFtb3VudCk7XHJcbiAgICAvLyDphY3nva5cclxuICAgIGZ1ZGFpRGF0YS5jb25mLmZvckVhY2goKGl0ZW0saW5kZXgpPT57XHJcbiAgICAgIGxldCBzdGFydCA9IHRoaXMudHJhbnNmb3JtTnVtKE51bWJlcihpdGVtLnN0YXJ0KSk7XHJcbiAgICAgIC8vIGxldCBzaGFyZSA9IHRoaXMudHJhbnNmb3JtTnVtKE51bWJlcihpdGVtLnNoYXJlKSk7XHJcbiAgICAgIGxldCBmaXhlZCA9IHRoaXMudHJhbnNmb3JtTnVtKE51bWJlcihpdGVtLmZpeGVkKSk7XHJcbiAgICAgIGxldCBfdGV4dDEgPSBg5oqV5biB6aKd4omlJHtzdGFydH0s5pyJ5py65Lya6LWiJHtpdGVtLnNoYXJlfSXnmoTlpZblirFgO1xyXG4gICAgICBsZXQgX3RleHQyID0gJyc7XHJcblxyXG4gICAgICBpdGVtLmZpeGVkID8gX3RleHQyID0gYCzmnIDpq5jlj6/lvpcke2ZpeGVkfWAgOiBfdGV4dDIgPSAnJztcclxuXHJcbiAgICAgIGNvbmZpZy5wdXNoKHtcclxuICAgICAgICBkZXNjcmlwdCA6X3RleHQxK190ZXh0MlxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIHRoaXMubGlzdF9jb25maWcuYXJyYXkgPSBjb25maWcgO1xyXG5cclxuICAgIC8vIOaVsOaNrlxyXG4gICAgZnVkYWlEYXRhLmxpc3QuZm9yRWFjaCgoaXRlbSAsIGluZGV4KSA9PiB7XHJcbiAgICAgIGxldCBfZnVkYWlEYXRhID0gZnVkYWlEYXRhLmxpc3RbaW5kZXhdO1xyXG5cclxuICAgICAgbGV0IF9UaW1lID1fZnVkYWlEYXRhLmFkZFRpbWUuc3BsaXQoJyAnKTtcclxuICAgICAgbGV0IGN1dEluZGV4ID0gX1RpbWVbMV0ubGFzdEluZGV4T2YoXCI6XCIpO1xyXG4gICAgICBsZXQgX215VGltZTtcclxuICAgICAgX1RpbWVbMV0uc2xpY2UoMCwgY3V0SW5kZXgpO1xyXG4gICAgICBfbXlUaW1lID0gX1RpbWVbMF0gKyAnICcrICBfVGltZVsxXS5zbGljZSgwLCBjdXRJbmRleCk7XHJcblxyXG5cclxuICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgIG5hbWU6IFVUSUxTLmdldEFjdGl2ZVN0cihfZnVkYWlEYXRhLm5hbWUsIDEwKSxcclxuICAgICAgICBhbW91bnQ6ICBVVElMUy5nZXRBY3RpdmVTdHIocGFyc2VJbnQoX2Z1ZGFpRGF0YS53aW5BbW91bnQpLCAxMCksXHJcbiAgICAgICAgdGltZTogX215VGltZVxyXG4gICAgICB9KVxyXG5cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5saXN0X2Z1ZGFpX2FsbC5hcnJheSA9IHJlc3VsdDtcclxuXHJcbiAgICBpZihmdWRhaURhdGEubGlzdC5sZW5ndGggPT09IDAgKXtcclxuICAgICAgdGhpcy5pc0xvYWRpbmdPckNvbnRlbnQoMCk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgdGhpcy5pc0xvYWRpbmdPckNvbnRlbnQoMik7XHJcbiAgICB9XHJcblxyXG5cclxuICB9XHJcblxyXG5cclxuICAvLyDlh7rnjrBcclxuICBteVNob3coKSB7XHJcbiAgICAgbWVzc2FnZUNlbnRlci5lbWl0KCdxdWVlbicpO1xyXG4gICAgLy8g5by55bGC5pi+56S6XHJcbiAgICB0aGlzLnBvcHVwKCk7XHJcbiAgfVxyXG5cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9wb3AvY29tL2Z1ZGFpUG9wLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFJQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7OztBQUxBOzs7OztBQUtBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQS9JQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 28 */
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./laya_game/src/pop/com/helpPop.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.HelpPopDialog = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _laya = __webpack_require__(/*! ../../common/laya.zsySlider */ 22);\n\nvar _laya2 = _interopRequireDefault(_laya);\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\r\n\t帮助弹层\r\n*/\n\n\nvar HelpPopDialog = exports.HelpPopDialog = function (_helpPopUI) {\n\t_inherits(HelpPopDialog, _helpPopUI);\n\n\tfunction HelpPopDialog() {\n\t\t_classCallCheck(this, HelpPopDialog);\n\n\t\tvar _this = _possibleConstructorReturn(this, (HelpPopDialog.__proto__ || Object.getPrototypeOf(HelpPopDialog)).call(this));\n\n\t\t_this.init();\n\t\treturn _this;\n\t}\n\n\t_createClass(HelpPopDialog, [{\n\t\tkey: 'init',\n\t\tvalue: function init() {\n\t\t\tthis.initDom();\n\t\t\tthis.initEvent();\n\t\t}\n\n\t\t// 注册\n\n\t}, {\n\t\tkey: 'registerAction',\n\t\tvalue: function registerAction(_ref) {\n\t\t\tvar messageCenter = _ref.messageCenter,\n\t\t\t    observer = _ref.observer;\n\n\n\t\t\tmessageCenter.registerAction(\"help\", this.renderConfig.bind(this));\n\t\t\t// 订阅弹层\n\t\t\tobserver.subscribe('pop::help', this.myShow.bind(this));\n\t\t}\n\t}, {\n\t\tkey: 'initDom',\n\t\tvalue: function initDom() {\n\n\t\t\tthis.multiply = this.help_glr.find(\"multiply\", true);\n\t\t\tthis.descript = this.help_glr.find(\"descript\", true);\n\n\t\t\tthis.config.on(Laya.Event.MOUSE_DOWN, self, function (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn;\n\t\t\t});\n\t\t\t// 初始化帮助页滑动效果\n\t\t\tnew _laya2.default(this.help_glr);\n\t\t}\n\t}, {\n\t\tkey: 'initEvent',\n\t\tvalue: function initEvent() {\n\t\t\tthis.getChildByName(\"close_btn1\").on(Laya.Event.CLICK, this, this.myClose);\n\t\t\tthis.getChildByName(\"close_btn2\").on(Laya.Event.CLICK, this, this.myClose);\n\t\t}\n\t}, {\n\t\tkey: 'transformNum',\n\t\tvalue: function transformNum(amount) {\n\t\t\tif (amount >= 100000) {\n\t\t\t\tamount = Math.floor(amount / 10000 * 100) / 100;\n\t\t\t\tamount = amount + \"万\";\n\t\t\t}\n\t\t\treturn amount;\n\t\t}\n\t}, {\n\t\tkey: 'renderConfig',\n\t\tvalue: function renderConfig(data) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar multiplyLevel = data.res.muls;\n\t\t\tvar descript = data.res.conf;\n\t\t\tvar config = [];\n\t\t\tif (Number(data.code) !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmultiplyLevel.forEach(function (item, index) {\n\t\t\t\t_this2.multiply[index].text = item.p + '倍';\n\t\t\t});\n\t\t\t// 配置\n\t\t\tdescript.forEach(function (item, index) {\n\t\t\t\tvar start = _this2.transformNum(Number(item.start));\n\t\t\t\t// let share = this.transformNum(Number(item.share));\n\t\t\t\tvar fixed = _this2.transformNum(Number(item.fixed));\n\t\t\t\tvar _text1 = '\\u6295\\u5E01\\u989D\\u2265' + start + ',\\u6709\\u673A\\u4F1A\\u8D62' + item.share + '%\\u7684\\u5956\\u52B1';\n\t\t\t\tvar _text2 = '';\n\n\t\t\t\titem.fixed ? _text2 = ',\\u6700\\u9AD8\\u53EF\\u5F97' + fixed : _text2 = '';\n\n\t\t\t\tconfig.push({\n\t\t\t\t\tdescript: _text1 + _text2\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.config.array = config;\n\t\t}\n\t}, {\n\t\tkey: 'myShow',\n\t\tvalue: function myShow() {\n\t\t\t_init_module.messageCenter.emit('help');\n\t\t\tthis.popup();\n\t\t}\n\t}, {\n\t\tkey: 'myClose',\n\t\tvalue: function myClose() {\n\t\t\tthis.close();\n\t\t}\n\t}]);\n\n\treturn HelpPopDialog;\n}(helpPopUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL2hlbHBQb3AuanM/ZDBkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyoqXHJcblx05biu5Yqp5by55bGCXHJcbiovXHJcbmltcG9ydCB6c3lTbGlkZXIgZnJvbSAnLi4vLi4vY29tbW9uL2xheWEuenN5U2xpZGVyJztcclxuaW1wb3J0IHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XHJcbmV4cG9ydCBjbGFzcyBIZWxwUG9wRGlhbG9nIGV4dGVuZHMgaGVscFBvcFVJe1xyXG5cdGNvbnN0cnVjdG9yKCl7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0fVxyXG5cclxuXHRpbml0KCkge1xyXG5cdFx0dGhpcy5pbml0RG9tKCk7XHJcblx0XHR0aGlzLmluaXRFdmVudCgpO1xyXG5cclxuXHR9XHJcblxyXG5cdC8vIOazqOWGjFxyXG5cdHJlZ2lzdGVyQWN0aW9uKHttZXNzYWdlQ2VudGVyLG9ic2VydmVyfSkge1xyXG5cclxuXHRcdG1lc3NhZ2VDZW50ZXIucmVnaXN0ZXJBY3Rpb24oXCJoZWxwXCIsIHRoaXMucmVuZGVyQ29uZmlnLmJpbmQodGhpcykpXHJcblx0XHQvLyDorqLpmIXlvLnlsYJcclxuXHRcdG9ic2VydmVyLnN1YnNjcmliZSgncG9wOjpoZWxwJywgdGhpcy5teVNob3cuYmluZCh0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRpbml0RG9tKCkge1xyXG5cclxuXHRcdHRoaXMubXVsdGlwbHkgPSB0aGlzLmhlbHBfZ2xyLmZpbmQoXCJtdWx0aXBseVwiICx0cnVlKTtcclxuXHRcdHRoaXMuZGVzY3JpcHQgPSB0aGlzLmhlbHBfZ2xyLmZpbmQoXCJkZXNjcmlwdFwiICx0cnVlKTtcclxuXHJcblx0XHR0aGlzLmNvbmZpZy5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHNlbGYsIChldmVudCkgPT4ge1xyXG4gICAgXHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIFx0cmV0dXJuO1xyXG4gICAgfSk7XHJcblx0ICAgIC8vIOWIneWni+WMluW4ruWKqemhtea7keWKqOaViOaenFxyXG5cdCAgICBuZXcgenN5U2xpZGVyKHRoaXMuaGVscF9nbHIpO1xyXG5cclxuXHR9XHJcblxyXG5cdGluaXRFdmVudCgpIHtcclxuXHRcdHRoaXMuZ2V0Q2hpbGRCeU5hbWUoXCJjbG9zZV9idG4xXCIpLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMgLCB0aGlzLm15Q2xvc2UpO1xyXG5cdFx0dGhpcy5nZXRDaGlsZEJ5TmFtZShcImNsb3NlX2J0bjJcIikub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5teUNsb3NlKTtcclxuXHR9XHJcbiAgdHJhbnNmb3JtTnVtKGFtb3VudCkge1xyXG4gICAgaWYoYW1vdW50Pj0gMTAwMDAwKXtcclxuICAgICAgICBhbW91bnQgPSBNYXRoLmZsb29yKChhbW91bnQvMTAwMDApKjEwMCkvMTAwO1xyXG4gICAgICAgIGFtb3VudCA9YW1vdW50ICsgXCLkuIdcIjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYW1vdW50O1xyXG4gIH1cclxuXHRyZW5kZXJDb25maWcoZGF0YSkge1xyXG5cdFx0bGV0IG11bHRpcGx5TGV2ZWwgPSBkYXRhLnJlcy5tdWxzO1xyXG5cdFx0bGV0IGRlc2NyaXB0ID0gZGF0YS5yZXMuY29uZjtcclxuXHRcdGxldCBjb25maWcgPSBbXSA7XHJcbiAgICBpZihOdW1iZXIoZGF0YS5jb2RlKSAhPT0gMCApe1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbXVsdGlwbHlMZXZlbC5mb3JFYWNoKChpdGVtLCBpbmRleCk9PntcclxuICAgIFx0dGhpcy5tdWx0aXBseVtpbmRleF0udGV4dCAgPSBpdGVtLnAgKyAn5YCNJztcclxuICAgIH0pXHJcbiAgICAvLyDphY3nva5cclxuICAgIGRlc2NyaXB0LmZvckVhY2goKGl0ZW0saW5kZXgpPT57XHJcbiAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnRyYW5zZm9ybU51bShOdW1iZXIoaXRlbS5zdGFydCkpO1xyXG4gICAgICAvLyBsZXQgc2hhcmUgPSB0aGlzLnRyYW5zZm9ybU51bShOdW1iZXIoaXRlbS5zaGFyZSkpO1xyXG4gICAgICBsZXQgZml4ZWQgPSB0aGlzLnRyYW5zZm9ybU51bShOdW1iZXIoaXRlbS5maXhlZCkpO1xyXG4gICAgICBsZXQgX3RleHQxID0gYOaKleW4gemineKJpSR7c3RhcnR9LOacieacuuS8mui1oiR7aXRlbS5zaGFyZX0l55qE5aWW5YqxYDtcclxuICAgICAgbGV0IF90ZXh0MiA9ICcnO1xyXG5cclxuICAgICAgaXRlbS5maXhlZCA/IF90ZXh0MiA9IGAs5pyA6auY5Y+v5b6XJHtmaXhlZH1gIDogX3RleHQyID0gJyc7XHJcblxyXG4gICAgICBjb25maWcucHVzaCh7XHJcbiAgICAgICAgZGVzY3JpcHQgOl90ZXh0MStfdGV4dDJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICB0aGlzLmNvbmZpZy5hcnJheSA9IGNvbmZpZyA7XHJcblx0fVxyXG5cclxuXHRteVNob3coKSB7XHJcblx0XHRtZXNzYWdlQ2VudGVyLmVtaXQoJ2hlbHAnKTtcclxuXHRcdHRoaXMucG9wdXAoKTtcclxuXHR9XHJcblxyXG5cdG15Q2xvc2UoKSB7XHJcblx0XHR0aGlzLmNsb3NlKCk7XHJcblx0fVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvcG9wL2NvbS9oZWxwUG9wLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFJQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7OztBQUxBOzs7OztBQUtBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBaEZBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 29 */
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./laya_game/src/pop/com/hinderPop.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\r\n *  公共弹层\r\n */\nvar HinderPopDialog = exports.HinderPopDialog = function (_hinderUI) {\n    _inherits(HinderPopDialog, _hinderUI);\n\n    function HinderPopDialog() {\n        var _ref;\n\n        _classCallCheck(this, HinderPopDialog);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = HinderPopDialog.__proto__ || Object.getPrototypeOf(HinderPopDialog)).call.apply(_ref, [this].concat(args)));\n\n        _this.init();\n        return _this;\n    }\n\n    _createClass(HinderPopDialog, [{\n        key: 'init',\n        value: function init() {\n\n            this.initConfig();\n        }\n    }, {\n        key: 'registerAction',\n        value: function registerAction(_ref2) {\n            var messageCenter = _ref2.messageCenter,\n                observer = _ref2.observer;\n\n\n            // 订阅弹层出现\n            observer.subscribe('hinder::tips', this.myShow.bind(this));\n        }\n    }, {\n        key: 'initConfig',\n        value: function initConfig() {\n            this.confirmCallBack = null; //确认回调\n            this.cancelCallBack = null; //取消回调\n        }\n    }, {\n        key: 'myShow',\n        value: function myShow(txt, confirmCallBack, cancelCallBack) {\n\n            this.confirmCallBack = confirmCallBack;\n            this.cancelCallBack = cancelCallBack;\n\n            // 需要取消回调\n            if (cancelCallBack) {\n                window.UIConfig.closeDialogOnSide = false;\n            } else {\n                Laya.timer.once(1500, this, this.myClose);\n            }\n\n            this.popup();\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose() {\n            this.close();\n            window.UIConfig.closeDialogOnSide = true;\n            this.confirmCallBack = null;\n            this.cancelCallBack = null;\n            Laya.timer.clear(this, this, this.myClose);\n        }\n    }]);\n\n    return HinderPopDialog;\n}(hinderUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL2hpbmRlclBvcC5qcz9jMDgwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqICDlhazlhbHlvLnlsYJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBIaW5kZXJQb3BEaWFsb2cgZXh0ZW5kcyBoaW5kZXJVSSB7XHJcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0Q29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJBY3Rpb24oeyBtZXNzYWdlQ2VudGVyLCBvYnNlcnZlciB9KSB7XHJcblxyXG4gICAgICAgIC8vIOiuoumYheW8ueWxguWHuueOsFxyXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgnaGluZGVyOjp0aXBzJywgdGhpcy5teVNob3cuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdENvbmZpZygpIHtcclxuICAgICAgICB0aGlzLmNvbmZpcm1DYWxsQmFjayA9IG51bGw7IC8v56Gu6K6k5Zue6LCDXHJcbiAgICAgICAgdGhpcy5jYW5jZWxDYWxsQmFjayA9IG51bGw7IC8v5Y+W5raI5Zue6LCDXHJcbiAgICB9XHJcblxyXG4gICAgbXlTaG93KHR4dCwgY29uZmlybUNhbGxCYWNrLCBjYW5jZWxDYWxsQmFjaykge1xyXG5cclxuICAgICAgICB0aGlzLmNvbmZpcm1DYWxsQmFjayA9IGNvbmZpcm1DYWxsQmFjaztcclxuICAgICAgICB0aGlzLmNhbmNlbENhbGxCYWNrID0gY2FuY2VsQ2FsbEJhY2s7XHJcblxyXG4gICAgICAgIC8vIOmcgOimgeWPlua2iOWbnuiwg1xyXG4gICAgICAgIGlmIChjYW5jZWxDYWxsQmFjaykge1xyXG4gICAgICAgICAgICB3aW5kb3cuVUlDb25maWcuY2xvc2VEaWFsb2dPblNpZGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDE1MDAsIHRoaXMsIHRoaXMubXlDbG9zZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBvcHVwKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG15Q2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIHdpbmRvdy5VSUNvbmZpZy5jbG9zZURpYWxvZ09uU2lkZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jb25maXJtQ2FsbEJhY2sgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsQ2FsbEJhY2sgPSBudWxsO1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcywgdGhpcy5teUNsb3NlKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3BvcC9jb20vaGluZGVyUG9wLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7QUFHQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBN0NBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 30 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./laya_game/src/pop/com/instructPop.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InstructPopDialog = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\r\n  宝藏说明弹层\r\n*/\n\nvar InstructPopDialog = exports.InstructPopDialog = function (_instructPopUI) {\n  _inherits(InstructPopDialog, _instructPopUI);\n\n  function InstructPopDialog() {\n    _classCallCheck(this, InstructPopDialog);\n\n    var _this = _possibleConstructorReturn(this, (InstructPopDialog.__proto__ || Object.getPrototypeOf(InstructPopDialog)).call(this));\n\n    _this.init();\n    return _this;\n  }\n\n  _createClass(InstructPopDialog, [{\n    key: \"init\",\n    value: function init() {\n      this.multiply = this.multiply_box.find(\"item\", true);\n      this.btn_close.on(Laya.Event.CLICK, this, this.myClose);\n    }\n\n    // 注册\n\n  }, {\n    key: \"registerAction\",\n    value: function registerAction(_ref) {\n      var messageCenter = _ref.messageCenter,\n          observer = _ref.observer;\n\n      messageCenter.registerAction(\"treasure\", this.renderMultiply.bind(this));\n      observer.subscribe('pop::instruct', this.myShow.bind(this));\n    }\n  }, {\n    key: \"renderMultiply\",\n    value: function renderMultiply(data) {\n      var _this2 = this;\n\n      console.log(data);\n      var multiplyLevel = data.res;\n\n      if (Number(data.code) !== 0) {\n        return;\n      }\n      multiplyLevel.forEach(function (item, index) {\n        _this2.multiply[index].text = item.p + '倍';\n      });\n    }\n  }, {\n    key: \"myShow\",\n    value: function myShow() {\n      _init_module.messageCenter.emit('treasure');\n      this.popup();\n    }\n  }, {\n    key: \"myClose\",\n    value: function myClose() {\n      this.close();\n    }\n  }]);\n\n  return InstructPopDialog;\n}(instructPopUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL2luc3RydWN0UG9wLmpzPzI0NTciXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8qKlxyXG4gIOWuneiXj+ivtOaYjuW8ueWxglxyXG4qL1xyXG5cclxuaW1wb3J0IHsgbWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9IGZyb20gJy4uLy4uL21vZHVsZS9pbml0X21vZHVsZSc7XHJcbmV4cG9ydCBjbGFzcyBJbnN0cnVjdFBvcERpYWxvZyBleHRlbmRzIGluc3RydWN0UG9wVUl7XHJcbiAgY29uc3RydWN0b3IoKXtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAgdGhpcy5tdWx0aXBseSA9IHRoaXMubXVsdGlwbHlfYm94LmZpbmQoXCJpdGVtXCIgLHRydWUpO1xyXG4gICAgIHRoaXMuYnRuX2Nsb3NlLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMgLCB0aGlzLm15Q2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8g5rOo5YaMXHJcbiAgcmVnaXN0ZXJBY3Rpb24oe21lc3NhZ2VDZW50ZXIsb2JzZXJ2ZXJ9KSB7XHJcbiAgICBtZXNzYWdlQ2VudGVyLnJlZ2lzdGVyQWN0aW9uKFwidHJlYXN1cmVcIiwgdGhpcy5yZW5kZXJNdWx0aXBseS5iaW5kKHRoaXMpKTtcclxuICAgIG9ic2VydmVyLnN1YnNjcmliZSgncG9wOjppbnN0cnVjdCcsIHRoaXMubXlTaG93LmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTXVsdGlwbHkoZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICBsZXQgbXVsdGlwbHlMZXZlbCA9IGRhdGEucmVzO1xyXG5cclxuICAgIGlmKE51bWJlcihkYXRhLmNvZGUpICE9PSAwICl7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIG11bHRpcGx5TGV2ZWwuZm9yRWFjaCgoaXRlbSwgaW5kZXgpPT57XHJcbiAgICAgIHRoaXMubXVsdGlwbHlbaW5kZXhdLnRleHQgID0gaXRlbS5wICsgJ+WAjSc7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgbXlTaG93KCkge1xyXG4gICAgbWVzc2FnZUNlbnRlci5lbWl0KCd0cmVhc3VyZScpO1xyXG4gICAgdGhpcy5wb3B1cCgpO1xyXG4gIH1cclxuXHJcbiAgbXlDbG9zZSgpIHtcclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9wb3AvY29tL2luc3RydWN0UG9wLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFLQTtBQUNBOzs7Ozs7QUFMQTs7OztBQUtBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFwQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 31 */
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./laya_game/src/pop/com/queenPop.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.QueenDialog = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _audio = __webpack_require__(/*! ../../module/com/audio */ 2);\n\nvar _audio2 = _interopRequireDefault(_audio);\n\nvar _laya = __webpack_require__(/*! ../../common/laya.custom */ 4);\n\nvar _utils = __webpack_require__(/*! ../../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 女王\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar QueenDialog = exports.QueenDialog = function (_queenUI) {\n    _inherits(QueenDialog, _queenUI);\n\n    function QueenDialog() {\n        var _ref;\n\n        _classCallCheck(this, QueenDialog);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = QueenDialog.__proto__ || Object.getPrototypeOf(QueenDialog)).call.apply(_ref, [this].concat(args)));\n\n        _this.createAnimate();\n        _this.initEvent();\n\n        return _this;\n    }\n\n    // 注册\n\n\n    _createClass(QueenDialog, [{\n        key: 'registerAction',\n        value: function registerAction(_ref2) {\n            var messageCenter = _ref2.messageCenter,\n                observer = _ref2.observer;\n\n            // 订阅弹层\n            observer.subscribe('pop::queen', this.myShow.bind(this));\n        }\n    }, {\n        key: 'initEvent',\n        value: function initEvent() {\n            var _this2 = this;\n\n            this.btn_close.on(Laya.Event.CLICK, this, function () {\n                _this2.myClose();\n            });\n        }\n    }, {\n        key: 'createAnimate',\n        value: function createAnimate() {\n            var skeletonPos = { x: 583, y: 341 };\n\n            // 创建骨骼动画\n            this.skeleton_queen = (0, _laya.createSkeleton)('images/animate/queen');\n            this.skeleton_queen.set(skeletonPos);\n            this.addChildAt(this.skeleton_queen, 0);\n        }\n\n        // 动态渲染\n\n    }, {\n        key: 'renderAni',\n        value: function renderAni() {\n            var dom_amount = this.queenAmount;\n            dom_amount.scaleX = 5;\n            dom_amount.scaleY = 5;\n            dom_amount.alpha = 0;\n            Laya.Tween.to(dom_amount, { scaleX: 1, scaleY: 1, alpha: 1 }, 800, Laya.Ease.backIn);\n\n            var dom_close = this.btn_close;\n            dom_close.scaleX = 5;\n            dom_close.scaleY = 5;\n            dom_close.alpha = 0;\n            Laya.Tween.to(dom_close, { scaleX: 1, scaleY: 1, alpha: 1 }, 800, Laya.Ease.backIn);\n        }\n\n        // 赢取金额，投币金额，动画完成的回调\n\n    }, {\n        key: 'myShow',\n        value: function myShow(win_amount, callBack) {\n            _audio2.default.getInstance().play('queen');\n            this.renderAni();\n\n            this.callBack = callBack;\n\n            this.skeleton_queen.play(\"queen\", false);\n\n            this.queenAmount.text = Number(win_amount);\n\n            this.popup();\n            Laya.timer.once(3000, this, this.myClose);\n        }\n    }, {\n        key: 'myClose',\n        value: function myClose() {\n            this.skeleton_queen.stop();\n            this.skeleton_queen.offAll();\n            this.callBack && this.callBack();\n            this.callBack = null;\n            Laya.timer.clear(this, this.close);\n\n            this.close();\n        }\n    }]);\n\n    return QueenDialog;\n}(queenUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL3F1ZWVuUG9wLmpzPzNjY2QiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWls+eOi1xyXG4gKi9cclxuaW1wb3J0IEF1ZGlvTXVkdWxlIGZyb20gJy4uLy4uL21vZHVsZS9jb20vYXVkaW8nO1xyXG5pbXBvcnQgeyBjcmVhdGVTa2VsZXRvbiB9IGZyb20gJy4uLy4uL2NvbW1vbi9sYXlhLmN1c3RvbSc7XHJcbmltcG9ydCBVVElMUyBmcm9tICcuLi8uLi9jb25maWcvdXRpbHMnO1xyXG5leHBvcnQgY2xhc3MgUXVlZW5EaWFsb2cgZXh0ZW5kcyBxdWVlblVJe1xyXG4gICAgY29uc3RydWN0b3IoLi4uYXJncyl7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuaW5pdEV2ZW50KCk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDms6jlhoxcclxuICAgIHJlZ2lzdGVyQWN0aW9uKHttZXNzYWdlQ2VudGVyLG9ic2VydmVyfSkge1xyXG4gICAgICAgIC8vIOiuoumYheW8ueWxglxyXG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZSgncG9wOjpxdWVlbicsIHRoaXMubXlTaG93LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRFdmVudCgpIHtcclxuICAgICAgICB0aGlzLmJ0bl9jbG9zZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm15Q2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUFuaW1hdGUoKXtcclxuICAgICAgICBsZXQgc2tlbGV0b25Qb3MgPSB7IHg6IDU4MywgeTogMzQxIH07XHJcblxyXG4gICAgICAgIC8vIOWIm+W7uumqqOmqvOWKqOeUu1xyXG4gICAgICAgIHRoaXMuc2tlbGV0b25fcXVlZW4gPSBjcmVhdGVTa2VsZXRvbignaW1hZ2VzL2FuaW1hdGUvcXVlZW4nKTtcclxuICAgICAgICB0aGlzLnNrZWxldG9uX3F1ZWVuLnNldChza2VsZXRvblBvcyk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZEF0KHRoaXMuc2tlbGV0b25fcXVlZW4sIDApO1xyXG4gICAgfVxyXG5cclxuICAgICAvLyDliqjmgIHmuLLmn5NcclxuICAgIHJlbmRlckFuaSgpIHtcclxuICAgICAgICBsZXQgZG9tX2Ftb3VudCA9IHRoaXMucXVlZW5BbW91bnQ7XHJcbiAgICAgICAgZG9tX2Ftb3VudC5zY2FsZVggPSA1O1xyXG4gICAgICAgIGRvbV9hbW91bnQuc2NhbGVZID0gNTtcclxuICAgICAgICBkb21fYW1vdW50LmFscGhhID0gMDtcclxuICAgICAgICBMYXlhLlR3ZWVuLnRvKGRvbV9hbW91bnQsIHtzY2FsZVg6MSwgc2NhbGVZOjEsIGFscGhhOiAxfSwgODAwLCBMYXlhLkVhc2UuYmFja0luKTtcclxuXHJcbiAgICAgICAgbGV0IGRvbV9jbG9zZSA9IHRoaXMuYnRuX2Nsb3NlO1xyXG4gICAgICAgIGRvbV9jbG9zZS5zY2FsZVggPSA1O1xyXG4gICAgICAgIGRvbV9jbG9zZS5zY2FsZVkgPSA1O1xyXG4gICAgICAgIGRvbV9jbG9zZS5hbHBoYSA9IDA7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byhkb21fY2xvc2UsIHtzY2FsZVg6MSwgc2NhbGVZOjEsIGFscGhhOiAxfSwgODAwLCBMYXlhLkVhc2UuYmFja0luKTtcclxuICAgIH1cclxuXHJcbiAgICAgLy8g6LWi5Y+W6YeR6aKd77yM5oqV5biB6YeR6aKd77yM5Yqo55S75a6M5oiQ55qE5Zue6LCDXHJcbiAgICBteVNob3cod2luX2Ftb3VudCwgY2FsbEJhY2spIHtcclxuICAgICAgICBBdWRpb011ZHVsZS5nZXRJbnN0YW5jZSgpLnBsYXkoJ3F1ZWVuJyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJBbmkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYWxsQmFjayA9IGNhbGxCYWNrO1xyXG5cclxuICAgICAgICB0aGlzLnNrZWxldG9uX3F1ZWVuLnBsYXkoXCJxdWVlblwiLGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5xdWVlbkFtb3VudC50ZXh0ID0gTnVtYmVyKHdpbl9hbW91bnQpO1xyXG5cclxuICAgICAgICB0aGlzLnBvcHVwKCk7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDMwMDAsIHRoaXMsIHRoaXMubXlDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbXlDbG9zZSgpIHtcclxuICAgICAgICB0aGlzLnNrZWxldG9uX3F1ZWVuLnN0b3AoKTtcclxuICAgICAgICB0aGlzLnNrZWxldG9uX3F1ZWVuLm9mZkFsbCgpO1xyXG4gICAgICAgIHRoaXMuY2FsbEJhY2sgJiYgdGhpcy5jYWxsQmFjaygpO1xyXG4gICAgICAgIHRoaXMuY2FsbEJhY2sgPSBudWxsO1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5jbG9zZSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9wb3AvY29tL3F1ZWVuUG9wLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFHQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBTkE7Ozs7O0FBTUE7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFMQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQURBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFyRUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 32 */
/* no static exports found */
/* all exports used */
/*!******************************************!*\
  !*** ./laya_game/src/pop/com/rankPop.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.RankPopDialog = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(/*! ../../config/utils.js */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _init_module = __webpack_require__(/*! ../../module/init_module */ 0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n/**\r\n\t排行榜\r\n*/\n\n\nvar RankPopDialog = exports.RankPopDialog = function (_rankPopUI) {\n\t_inherits(RankPopDialog, _rankPopUI);\n\n\tfunction RankPopDialog() {\n\t\tvar _ref;\n\n\t\t_classCallCheck(this, RankPopDialog);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\tvar _this = _possibleConstructorReturn(this, (_ref = RankPopDialog.__proto__ || Object.getPrototypeOf(RankPopDialog)).call.apply(_ref, [this].concat(args)));\n\n\t\t_this.init();\n\t\treturn _this;\n\t}\n\n\t_createClass(RankPopDialog, [{\n\t\tkey: 'init',\n\t\tvalue: function init() {\n\t\t\tthis.initDom();\n\n\t\t\tthis.initConfig();\n\n\t\t\tthis.initEvent();\n\t\t}\n\n\t\t// 注册\n\n\t}, {\n\t\tkey: 'registerAction',\n\t\tvalue: function registerAction(_ref2) {\n\t\t\tvar messageCenter = _ref2.messageCenter,\n\t\t\t    observer = _ref2.observer;\n\n\t\t\t// 数据传输\n\n\t\t\tmessageCenter.registerAction(\"day\", this.renderRankList.bind(this)); // 日周月\n\t\t\tmessageCenter.registerAction(\"week\", this.renderRankList.bind(this));\n\t\t\tmessageCenter.registerAction(\"month\", this.renderRankList.bind(this));\n\n\t\t\tmessageCenter.registerAction(\"top3\", this.renderRichList.bind(this)); //富豪榜\n\n\t\t\tmessageCenter.registerAction(\"myPrizeLog\", this.rendermMyPrizeLog.bind(this)); // 战绩\n\n\n\t\t\t// 订阅弹层\n\t\t\tobserver.subscribe(\"pop::rank\", this.myShow.bind(this));\n\t\t}\n\n\t\t// 触发\n\n\t}, {\n\t\tkey: 'dispatchAction',\n\t\tvalue: function dispatchAction(messageCenter) {\n\t\t\tthis.isLoadingOrContent(1);\n\n\t\t\tmessageCenter.emit('top3');\n\t\t\tthis.tab_nav.selectedIndex = this.config.index;\n\n\t\t\tif (this.config.index === 3) {\n\t\t\t\tmessageCenter.emit('myPrizeLog');\n\t\t\t} else {\n\t\t\t\tmessageCenter.emitAjax('day');\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'initDom',\n\t\tvalue: function initDom() {\n\t\t\t// 关闭按钮\n\t\t\tthis.dom_close_btn = this.getChildByName(\"close_btn\");\n\n\t\t\t// 土豪榜列表\n\t\t\tthis.dom_rich_list = this.getChildByName(\"richList\").find(\"item\", true);\n\t\t}\n\n\t\t// 初始化配置参数\n\n\t}, {\n\t\tkey: 'initConfig',\n\t\tvalue: function initConfig() {\n\t\t\tthis.config = {\n\t\t\t\tisFirstMyList: true, //第一次渲染我的战绩\n\t\t\t\tperioArr: [\"day\", \"week\", \"month\"], //日周月排行榜\n\t\t\t\tisFirst: true,\n\t\t\t\tindex: 0\n\t\t\t};\n\t\t}\n\n\t\t// 初始化事件\n\n\t}, {\n\t\tkey: 'initEvent',\n\t\tvalue: function initEvent() {\n\t\t\tthis.dom_close_btn.on(Laya.Event.CLICK, this, this.close);\n\n\t\t\t// 未登录\n\t\t\tthis.dom_unloaded.on(Laya.Event.CLICK, this, _utils2.default.gotoLogin);\n\n\t\t\t// tab切换\n\t\t\tthis.tab_nav.selectHandler = Laya.Handler.create(this, this.tabSwitchHandler, null, false);\n\t\t}\n\n\t\t// tab切换\n\n\t}, {\n\t\tkey: 'tabSwitchHandler',\n\t\tvalue: function tabSwitchHandler(index) {\n\t\t\tvar target = 0;\n\t\t\tvar type = void 0;\n\n\t\t\tif (index === 3) {\n\t\t\t\ttarget = 1;\n\t\t\t\tthis.isLoadingOrContent(1);\n\t\t\t\t// 发送分奖socket请求\n\t\t\t\t_init_module.messageCenter.emit('myPrizeLog');\n\t\t\t} else {\n\t\t\t\ttarget = 0;\n\t\t\t\ttype = this.config.perioArr[index];\n\n\t\t\t\t// 先是(1)加载中，，在请求成功后会执行(2)，显示数据\n\t\t\t\tthis.isLoadingOrContent(1);\n\n\t\t\t\t// 发送排行榜ajax请求\n\t\t\t\t_init_module.messageCenter.emitAjax(type);\n\t\t\t\t// this.renderRankList();\n\t\t\t}\n\n\t\t\tthis.tab_con.selectedIndex = target;\n\t\t}\n\n\t\t// 加载中或者显示数据\n\n\t}, {\n\t\tkey: 'isLoadingOrContent',\n\t\tvalue: function isLoadingOrContent(type) {\n\t\t\t// 暂无数据\n\t\t\tif (type === 0) {\n\n\t\t\t\tthis.dom_loading.visible = true;\n\t\t\t\tthis.dom_loading.text = \"暂无排名纪录……\";\n\t\t\t\tthis.tab_con.visible = false;\n\t\t\t\tthis.dom_unloaded.visible = false;\n\n\t\t\t\t// 加载中\n\t\t\t} else if (type === 1) {\n\n\t\t\t\tthis.dom_loading.visible = true;\n\t\t\t\tthis.dom_loading.text = \"加载中……\";\n\t\t\t\tthis.tab_con.visible = false;\n\t\t\t\tthis.dom_unloaded.visible = false;\n\n\t\t\t\t// 显示内容\n\t\t\t} else if (type === 2) {\n\t\t\t\tthis.dom_loading.visible = false;\n\t\t\t\tthis.tab_con.visible = true;\n\t\t\t\tthis.dom_unloaded.visible = false;\n\n\t\t\t\t// 未登录\n\t\t\t} else if (type === 3) {\n\t\t\t\tthis.dom_loading.visible = false;\n\t\t\t\tthis.tab_con.visible = false;\n\t\t\t\tthis.dom_unloaded.visible = true;\n\t\t\t}\n\t\t}\n\n\t\t// 富豪榜渲染\n\n\t}, {\n\t\tkey: 'renderRichList',\n\t\tvalue: function renderRichList(data) {\n\t\t\tvar infoArray = data.res;\n\t\t\t// let infoArray =[{\"amount\":578050333333300,\"name\":\"fffffffffffffffffffffffffff\"}];\n\t\t\tif (data.code !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.dom_rich_list.forEach(function (item, index) {\n\t\t\t\tvar _infoArray = infoArray[index];\n\t\t\t\tvar _dom_rank = item.getChildByName(\"rank\");\n\t\t\t\tvar _dom_name = item.getChildByName(\"name\");\n\t\t\t\tvar _dom_point = item.getChildByName(\"point\");\n\n\t\t\t\tif (_infoArray) {\n\t\t\t\t\t_dom_rank.index = index;\n\t\t\t\t\t_dom_name.text = _utils2.default.getActiveStr(_infoArray.name, 10);\n\t\t\t\t\t_dom_point.text = _utils2.default.getActiveStr(parseInt(_infoArray.amount), 8);\n\t\t\t\t} else {\n\t\t\t\t\t_dom_rank.index = index;\n\t\t\t\t\t_dom_name.text = \"虚位以待\";\n\t\t\t\t\t_dom_point.visible = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// 我的战绩\n\n\t}, {\n\t\tkey: 'rendermMyPrizeLog',\n\t\tvalue: function rendermMyPrizeLog(data) {\n\n\t\t\tvar myRewards = data.res;\n\t\t\tvar result = [];\n\n\t\t\tif (data.code !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmyRewards.forEach(function (item, index) {\n\t\t\t\tvar _myRewards = myRewards[index];\n\t\t\t\tvar _Time = _myRewards.addTime.split(' ');\n\t\t\t\tvar cutIndex = _Time[1].lastIndexOf(\":\");\n\t\t\t\tvar _myTime = void 0;\n\t\t\t\t_Time[1].slice(0, cutIndex);\n\t\t\t\t_myTime = _Time[0] + ' ' + _Time[1].slice(0, cutIndex);\n\n\t\t\t\tresult.push({\n\t\t\t\t\ttime: _myTime,\n\t\t\t\t\tamount: _utils2.default.getActiveStr(parseInt(_myRewards.winAmount), 10),\n\t\t\t\t\tqueen: {\n\t\t\t\t\t\tvisible: _myRewards.isQueen === 1 ? true : false\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// 我的战绩\n\t\t\tthis.list_rank_gains.array = result;\n\n\t\t\tif (myRewards.length === 0) {\n\n\t\t\t\t// 已经登陆\n\t\t\t\tif (_utils2.default.checkLoginStatus()) {\n\t\t\t\t\tthis.dom_loading.visible = true;\n\t\t\t\t\tthis.dom_loading.text = \"暂无奖励记录，赶紧去游戏赢大奖吧！\";\n\t\t\t\t\tthis.tab_con.visible = false;\n\t\t\t\t\tthis.dom_unloaded.visible = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.isLoadingOrContent(3);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.isLoadingOrContent(2);\n\t\t\t}\n\t\t}\n\n\t\t// 日周月排行榜\n\n\t}, {\n\t\tkey: 'renderRankList',\n\t\tvalue: function renderRankList(data) {\n\t\t\t/*\t\tlet data = {\r\n           \t\"code\":\"000\",\r\n           \t\"data\":[\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:3},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天l2l\",period:1,rank:1,rank_trend:3},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll11\",period:1,rank:1,rank_trend:3},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:1},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:2},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:3},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:3},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:3},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:3},\r\n   \t        \t{amount:\"500000.0000\",gameid:\"40080\",nickname:\"我的天ll\",period:1,rank:1,rank_trend:3}\r\n   \t        ],\r\n   \t        \"myRank\":{\r\n   \t        \tamount:\"407777770.0000\",\r\n   \t        \tnickname:\"啊哈哈哈阿斯顿福建某个地方，闪退vhhrtmwhrh\",\r\n   \t        \trank:\"29\",\r\n   \t        \trank_trend:\"1\"\r\n   \t        }\r\n       \t}*/\n\n\t\t\tif (data.code !== '000') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 我的排名\n\t\t\tvar newMyRank = data.myRank;\n\n\t\t\tif (_utils2.default.checkLoginStatus()) {\n\t\t\t\tthis.myRankBox.visible = true;\n\t\t\t\tthis.list_rank_all.height = 380;\n\t\t\t\tthis.my_rank.text = newMyRank.rank;\n\t\t\t\tthis.my_name.text = _utils2.default.getActiveStr(newMyRank.nickname, 10);\n\t\t\t\tthis.my_amount.text = _utils2.default.getActiveStr(parseInt(newMyRank.amount), 10);\n\t\t\t\tthis.my_trend.index = newMyRank.rank_trend === 3 ? 0 : newMyRank.rank_trend;\n\t\t\t} else {\n\t\t\t\tthis.myRankBox.visible = false;\n\t\t\t\tthis.list_rank_all.height = 430;\n\t\t\t}\n\n\t\t\tvar result = [];\n\t\t\tdata.data.forEach(function (item, index) {\n\t\t\t\tvar trend = Number(item.rank_trend);\n\n\t\t\t\tresult.push({\n\t\t\t\t\trankNum: index + 1,\n\t\t\t\t\tname: _utils2.default.getActiveStr(item.nickname, 10),\n\t\t\t\t\tpoint: _utils2.default.getActiveStr(parseInt(item.amount), 10),\n\t\t\t\t\ttrend: {\n\t\t\t\t\t\tindex: trend === 3 ? 0 : trend\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.tab_con.selectedIndex = 0;\n\t\t\tthis.list_rank_all.array = result;\n\n\t\t\tif (data.data.length === 0) {\n\t\t\t\t// 已经登陆\n\t\t\t\tif (_utils2.default.checkLoginStatus()) {\n\t\t\t\t\tthis.isLoadingOrContent(0);\n\t\t\t\t} else {\n\t\t\t\t\tthis.isLoadingOrContent(0); //日周月不用判断是否是登陆状态\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.isLoadingOrContent(2);\n\t\t\t}\n\t\t}\n\n\t\t// 出现\n\n\t}, {\n\t\tkey: 'myShow',\n\t\tvalue: function myShow(messageCenter, index) {\n\n\t\t\tthis.config.index = index;\n\t\t\tif (this.config.isFirst) {\n\t\t\t\t// 触发\n\t\t\t\tthis.dispatchAction(messageCenter);\n\t\t\t\tthis.config.isFirst = false;\n\t\t\t} else {\n\t\t\t\tif (index === 3) {\n\t\t\t\t\tthis.tab_nav.selectedIndex = 3;\n\t\t\t\t\tmessageCenter.emit('myPrizeLog');\n\t\t\t\t}\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tthis.tab_nav.selectedIndex = 0;\n\t\t\t\t\tmessageCenter.emitAjax('day');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 弹层显示\n\n\t\t\tthis.popup();\n\t\t}\n\t}]);\n\n\treturn RankPopDialog;\n}(rankPopUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL3JhbmtQb3AuanM/NWQ4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyoqXHJcblx05o6S6KGM5qacXHJcbiovXHJcbmltcG9ydCBVVElMUyBmcm9tICcuLi8uLi9jb25maWcvdXRpbHMuanMnO1xyXG5pbXBvcnQgeyBtZXNzYWdlQ2VudGVyLCBvYnNlcnZlcn0gZnJvbSAnLi4vLi4vbW9kdWxlL2luaXRfbW9kdWxlJztcclxuZXhwb3J0IGNsYXNzIFJhbmtQb3BEaWFsb2cgZXh0ZW5kcyByYW5rUG9wVUkge1xyXG5cdGNvbnN0cnVjdG9yKC4uLmFyZ3Mpe1xyXG5cdFx0c3VwZXIoLi4uYXJncyk7XHJcblx0XHR0aGlzLmluaXQoKTtcclxuXHR9XHJcblxyXG5cdGluaXQoKSB7XHJcblx0XHR0aGlzLmluaXREb20oKTtcclxuXHJcblx0XHR0aGlzLmluaXRDb25maWcoKTtcclxuXHJcblx0XHR0aGlzLmluaXRFdmVudCgpO1xyXG5cclxuXHR9XHJcblxyXG5cdC8vIOazqOWGjFxyXG5cclxuXHRyZWdpc3RlckFjdGlvbih7bWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9KSB7XHJcblx0XHQvLyDmlbDmja7kvKDovpNcclxuXHJcblx0XHRtZXNzYWdlQ2VudGVyLnJlZ2lzdGVyQWN0aW9uKFwiZGF5XCIsIHRoaXMucmVuZGVyUmFua0xpc3QuYmluZCh0aGlzKSk7ICAgLy8g5pel5ZGo5pyIXHJcblx0XHRtZXNzYWdlQ2VudGVyLnJlZ2lzdGVyQWN0aW9uKFwid2Vla1wiLCB0aGlzLnJlbmRlclJhbmtMaXN0LmJpbmQodGhpcykpO1xyXG5cdFx0bWVzc2FnZUNlbnRlci5yZWdpc3RlckFjdGlvbihcIm1vbnRoXCIsIHRoaXMucmVuZGVyUmFua0xpc3QuYmluZCh0aGlzKSk7XHJcblxyXG5cdFx0bWVzc2FnZUNlbnRlci5yZWdpc3RlckFjdGlvbihcInRvcDNcIix0aGlzLnJlbmRlclJpY2hMaXN0LmJpbmQodGhpcykpIC8v5a+M6LGq5qacXHJcblxyXG5cdFx0bWVzc2FnZUNlbnRlci5yZWdpc3RlckFjdGlvbihcIm15UHJpemVMb2dcIiwgdGhpcy5yZW5kZXJtTXlQcml6ZUxvZy5iaW5kKHRoaXMpKTsgIC8vIOaImOe7qVxyXG5cclxuXHJcblxyXG5cdFx0Ly8g6K6i6ZiF5by55bGCXHJcblx0XHRvYnNlcnZlci5zdWJzY3JpYmUoXCJwb3A6OnJhbmtcIix0aGlzLm15U2hvdy5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyDop6blj5FcclxuXHRkaXNwYXRjaEFjdGlvbihtZXNzYWdlQ2VudGVyKSB7XHJcblx0XHR0aGlzLmlzTG9hZGluZ09yQ29udGVudCgxKTtcclxuXHJcblx0XHRtZXNzYWdlQ2VudGVyLmVtaXQoJ3RvcDMnKTtcclxuXHRcdHRoaXMudGFiX25hdi5zZWxlY3RlZEluZGV4ID0gdGhpcy5jb25maWcuaW5kZXg7XHJcblxyXG5cdFx0aWYodGhpcy5jb25maWcuaW5kZXggPT09IDMpe1xyXG5cdFx0XHRtZXNzYWdlQ2VudGVyLmVtaXQoJ215UHJpemVMb2cnKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtZXNzYWdlQ2VudGVyLmVtaXRBamF4KCdkYXknKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRpbml0RG9tKCkge1xyXG5cdFx0Ly8g5YWz6Zet5oyJ6ZKuXHJcblx0XHR0aGlzLmRvbV9jbG9zZV9idG4gPSB0aGlzLmdldENoaWxkQnlOYW1lKFwiY2xvc2VfYnRuXCIpO1xyXG5cclxuXHRcdC8vIOWcn+ixquamnOWIl+ihqFxyXG5cdFx0dGhpcy5kb21fcmljaF9saXN0ID0gdGhpcy5nZXRDaGlsZEJ5TmFtZShcInJpY2hMaXN0XCIpLmZpbmQoXCJpdGVtXCIsdHJ1ZSk7XHJcblxyXG5cdH1cclxuXHJcblx0Ly8g5Yid5aeL5YyW6YWN572u5Y+C5pWwXHJcblx0aW5pdENvbmZpZygpIHtcclxuXHRcdHRoaXMuY29uZmlnID0ge1xyXG5cdFx0XHRpc0ZpcnN0TXlMaXN0IDogdHJ1ZSAsICAvL+esrOS4gOasoea4suafk+aIkeeahOaImOe7qVxyXG5cdFx0XHRwZXJpb0FyciA6IFtcImRheVwiLCBcIndlZWtcIiwgXCJtb250aFwiXSAsICAvL+aXpeWRqOaciOaOkuihjOamnFxyXG5cdFx0XHRpc0ZpcnN0IDogdHJ1ZSxcclxuXHRcdFx0aW5kZXggOiAwXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyDliJ3lp4vljJbkuovku7ZcclxuXHRpbml0RXZlbnQoKSB7XHJcblx0XHR0aGlzLmRvbV9jbG9zZV9idG4ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5jbG9zZSk7XHJcblxyXG5cdFx0Ly8g5pyq55m75b2VXHJcblx0XHR0aGlzLmRvbV91bmxvYWRlZC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCBVVElMUy5nb3RvTG9naW4pO1xyXG5cclxuXHRcdC8vIHRhYuWIh+aNolxyXG5cdFx0dGhpcy50YWJfbmF2LnNlbGVjdEhhbmRsZXIgPSBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMudGFiU3dpdGNoSGFuZGxlciwgbnVsbCwgZmFsc2UpO1xyXG5cclxuXHR9XHJcblxyXG5cdC8vIHRhYuWIh+aNolxyXG5cdHRhYlN3aXRjaEhhbmRsZXIoaW5kZXgpIHtcclxuXHRcdGxldCB0YXJnZXQgPSAwO1xyXG5cdFx0bGV0IHR5cGU7XHJcblxyXG5cdFx0aWYoaW5kZXggPT09IDMpe1xyXG5cdFx0XHR0YXJnZXQgPSAxO1xyXG5cdFx0XHR0aGlzLmlzTG9hZGluZ09yQ29udGVudCgxKTtcclxuXHRcdFx0Ly8g5Y+R6YCB5YiG5aWWc29ja2V06K+35rGCXHJcblx0XHRcdG1lc3NhZ2VDZW50ZXIuZW1pdCgnbXlQcml6ZUxvZycpO1xyXG5cclxuXHRcdH1lbHNle1xyXG5cdFx0XHR0YXJnZXQgPSAwO1xyXG5cdFx0XHR0eXBlID0gdGhpcy5jb25maWcucGVyaW9BcnJbaW5kZXhdO1xyXG5cclxuXHRcdFx0Ly8g5YWI5pivKDEp5Yqg6L295Lit77yM77yM5Zyo6K+35rGC5oiQ5Yqf5ZCO5Lya5omn6KGMKDIp77yM5pi+56S65pWw5o2uXHJcblx0XHRcdHRoaXMuaXNMb2FkaW5nT3JDb250ZW50KDEpO1xyXG5cclxuXHRcdFx0Ly8g5Y+R6YCB5o6S6KGM5qacYWpheOivt+axglxyXG5cdFx0XHRtZXNzYWdlQ2VudGVyLmVtaXRBamF4KHR5cGUpO1xyXG5cdFx0XHQvLyB0aGlzLnJlbmRlclJhbmtMaXN0KCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudGFiX2Nvbi5zZWxlY3RlZEluZGV4ID0gdGFyZ2V0O1xyXG5cclxuXHR9XHJcblxyXG5cdC8vIOWKoOi9veS4reaIluiAheaYvuekuuaVsOaNrlxyXG5cdGlzTG9hZGluZ09yQ29udGVudCh0eXBlKSB7XHJcblx0XHQvLyDmmoLml6DmlbDmja5cclxuXHRcdGlmKHR5cGUgPT09IDApe1xyXG5cclxuXHRcdFx0dGhpcy5kb21fbG9hZGluZy52aXNpYmxlPXRydWU7XHJcblx0XHRcdHRoaXMuZG9tX2xvYWRpbmcudGV4dD1cIuaaguaXoOaOkuWQjee6quW9leKApuKAplwiO1xyXG5cdFx0XHR0aGlzLnRhYl9jb24udmlzaWJsZT1mYWxzZTtcclxuXHRcdFx0dGhpcy5kb21fdW5sb2FkZWQudmlzaWJsZT1mYWxzZTtcclxuXHJcblx0XHQvLyDliqDovb3kuK1cclxuXHRcdH1lbHNlIGlmKHR5cGUgPT09IDEpe1xyXG5cclxuXHRcdFx0dGhpcy5kb21fbG9hZGluZy52aXNpYmxlPXRydWU7XHJcblx0XHRcdHRoaXMuZG9tX2xvYWRpbmcudGV4dD1cIuWKoOi9veS4reKApuKAplwiO1xyXG5cdFx0XHR0aGlzLnRhYl9jb24udmlzaWJsZT1mYWxzZTtcclxuXHRcdFx0dGhpcy5kb21fdW5sb2FkZWQudmlzaWJsZT1mYWxzZTtcclxuXHJcblx0XHQvLyDmmL7npLrlhoXlrrlcclxuXHRcdH1lbHNlIGlmKHR5cGUgPT09Mil7XHJcblx0XHRcdHRoaXMuZG9tX2xvYWRpbmcudmlzaWJsZT1mYWxzZTtcclxuXHRcdFx0dGhpcy50YWJfY29uLnZpc2libGU9dHJ1ZTtcclxuXHRcdFx0dGhpcy5kb21fdW5sb2FkZWQudmlzaWJsZT1mYWxzZTtcclxuXHJcblx0XHQvLyDmnKrnmbvlvZVcclxuXHRcdH1lbHNlIGlmKHR5cGUgPT09Myl7XHJcblx0XHRcdHRoaXMuZG9tX2xvYWRpbmcudmlzaWJsZT1mYWxzZTtcclxuXHRcdFx0dGhpcy50YWJfY29uLnZpc2libGU9ZmFsc2U7XHJcblx0XHRcdHRoaXMuZG9tX3VubG9hZGVkLnZpc2libGU9dHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHQvLyDlr4zosarmppzmuLLmn5NcclxuXHRyZW5kZXJSaWNoTGlzdChkYXRhKSB7XHJcblx0XHRsZXQgaW5mb0FycmF5ID0gZGF0YS5yZXM7XHJcblx0XHQvLyBsZXQgaW5mb0FycmF5ID1be1wiYW1vdW50XCI6NTc4MDUwMzMzMzMzMzAwLFwibmFtZVwiOlwiZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCJ9XTtcclxuXHRcdGlmKGRhdGEuY29kZSAhPT0gMCApe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kb21fcmljaF9saXN0LmZvckVhY2goKGl0ZW0gLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRsZXQgX2luZm9BcnJheSA9IGluZm9BcnJheVtpbmRleF07XHJcblx0XHRcdGxldCBfZG9tX3JhbmsgID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJhbmtcIik7XHJcblx0XHRcdGxldCBfZG9tX25hbWUgID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIik7XHJcblx0XHRcdGxldCBfZG9tX3BvaW50ID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcInBvaW50XCIpO1xyXG5cclxuXHRcdFx0aWYoX2luZm9BcnJheSl7XHJcblx0XHRcdFx0X2RvbV9yYW5rLmluZGV4ID0gaW5kZXg7XHJcblx0XHRcdFx0X2RvbV9uYW1lLnRleHQgID0gVVRJTFMuZ2V0QWN0aXZlU3RyKF9pbmZvQXJyYXkubmFtZSwgMTApO1xyXG5cdFx0XHRcdF9kb21fcG9pbnQudGV4dCA9IFVUSUxTLmdldEFjdGl2ZVN0cihwYXJzZUludChfaW5mb0FycmF5LmFtb3VudCksIDgpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRfZG9tX3JhbmsuaW5kZXggPSBpbmRleDtcclxuXHRcdFx0XHRfZG9tX25hbWUudGV4dCA9IFwi6Jma5L2N5Lul5b6FXCI7XHJcblx0XHRcdFx0X2RvbV9wb2ludC52aXNpYmxlID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cclxuXHJcblx0fVxyXG5cclxuXHQvLyDmiJHnmoTmiJjnu6lcclxuXHRyZW5kZXJtTXlQcml6ZUxvZyhkYXRhKSB7XHJcblxyXG5cdFx0bGV0IG15UmV3YXJkcyA9IGRhdGEucmVzIDtcclxuXHRcdGxldCByZXN1bHQgPSBbXSA7XHJcblxyXG5cdFx0aWYoZGF0YS5jb2RlICE9PSAwICl7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRteVJld2FyZHMuZm9yRWFjaCgoaXRlbSAsIGluZGV4KSA9PiB7XHJcblx0XHRcdGxldCBfbXlSZXdhcmRzID0gbXlSZXdhcmRzW2luZGV4XTtcclxuXHRcdFx0bGV0IF9UaW1lID1fbXlSZXdhcmRzLmFkZFRpbWUuc3BsaXQoJyAnKTtcclxuXHRcdFx0bGV0IGN1dEluZGV4ID0gX1RpbWVbMV0ubGFzdEluZGV4T2YoXCI6XCIpO1xyXG5cdFx0XHRsZXQgX215VGltZTtcclxuXHRcdFx0X1RpbWVbMV0uc2xpY2UoMCwgY3V0SW5kZXgpO1xyXG5cdFx0XHRfbXlUaW1lID0gX1RpbWVbMF0gKyAnICcrICBfVGltZVsxXS5zbGljZSgwLCBjdXRJbmRleCk7XHJcblxyXG5cdFx0XHRyZXN1bHQucHVzaCh7XHJcblx0XHRcdFx0dGltZTogX215VGltZSxcclxuXHRcdFx0XHRhbW91bnQ6ICBVVElMUy5nZXRBY3RpdmVTdHIocGFyc2VJbnQoX215UmV3YXJkcy53aW5BbW91bnQpLCAxMCksXHJcblx0XHRcdFx0cXVlZW46e1xyXG5cdFx0XHRcdFx0dmlzaWJsZSA6IF9teVJld2FyZHMuaXNRdWVlbiA9PT0gMSA/IHRydWUgOiBmYWxzZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHJcblx0XHR9KVxyXG5cclxuXHRcdC8vIOaIkeeahOaImOe7qVxyXG5cdFx0dGhpcy5saXN0X3JhbmtfZ2FpbnMuYXJyYXkgPSByZXN1bHQ7XHJcblxyXG5cdFx0aWYobXlSZXdhcmRzLmxlbmd0aCA9PT0gMCApe1xyXG5cclxuXHRcdFx0Ly8g5bey57uP55m76ZmGXHJcblx0XHRcdGlmKFVUSUxTLmNoZWNrTG9naW5TdGF0dXMoKSl7XHJcblx0XHRcdFx0dGhpcy5kb21fbG9hZGluZy52aXNpYmxlPXRydWU7XHJcblx0XHRcdFx0dGhpcy5kb21fbG9hZGluZy50ZXh0PVwi5pqC5peg5aWW5Yqx6K6w5b2V77yM6LW257Sn5Y675ri45oiP6LWi5aSn5aWW5ZCn77yBXCI7XHJcblx0XHRcdFx0dGhpcy50YWJfY29uLnZpc2libGU9ZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5kb21fdW5sb2FkZWQudmlzaWJsZT1mYWxzZTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5pc0xvYWRpbmdPckNvbnRlbnQoMyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhpcy5pc0xvYWRpbmdPckNvbnRlbnQoMik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyDml6XlkajmnIjmjpLooYzmppxcclxuXHRyZW5kZXJSYW5rTGlzdChkYXRhKSB7XHJcbi8qXHRcdGxldCBkYXRhID0ge1xyXG4gICAgICAgIFx0XCJjb2RlXCI6XCIwMDBcIixcclxuICAgICAgICBcdFwiZGF0YVwiOltcclxuXHQgICAgICAgIFx0e2Ftb3VudDpcIjUwMDAwMC4wMDAwXCIsZ2FtZWlkOlwiNDAwODBcIixuaWNrbmFtZTpcIuaIkeeahOWkqWxsXCIscGVyaW9kOjEscmFuazoxLHJhbmtfdHJlbmQ6M30sXHJcblx0ICAgICAgICBcdHthbW91bnQ6XCI1MDAwMDAuMDAwMFwiLGdhbWVpZDpcIjQwMDgwXCIsbmlja25hbWU6XCLmiJHnmoTlpKlsMmxcIixwZXJpb2Q6MSxyYW5rOjEscmFua190cmVuZDozfSxcclxuXHQgICAgICAgIFx0e2Ftb3VudDpcIjUwMDAwMC4wMDAwXCIsZ2FtZWlkOlwiNDAwODBcIixuaWNrbmFtZTpcIuaIkeeahOWkqWxsMTFcIixwZXJpb2Q6MSxyYW5rOjEscmFua190cmVuZDozfSxcclxuXHQgICAgICAgIFx0e2Ftb3VudDpcIjUwMDAwMC4wMDAwXCIsZ2FtZWlkOlwiNDAwODBcIixuaWNrbmFtZTpcIuaIkeeahOWkqWxsXCIscGVyaW9kOjEscmFuazoxLHJhbmtfdHJlbmQ6MX0sXHJcblx0ICAgICAgICBcdHthbW91bnQ6XCI1MDAwMDAuMDAwMFwiLGdhbWVpZDpcIjQwMDgwXCIsbmlja25hbWU6XCLmiJHnmoTlpKlsbFwiLHBlcmlvZDoxLHJhbms6MSxyYW5rX3RyZW5kOjJ9LFxyXG5cdCAgICAgICAgXHR7YW1vdW50OlwiNTAwMDAwLjAwMDBcIixnYW1laWQ6XCI0MDA4MFwiLG5pY2tuYW1lOlwi5oiR55qE5aSpbGxcIixwZXJpb2Q6MSxyYW5rOjEscmFua190cmVuZDozfSxcclxuXHQgICAgICAgIFx0e2Ftb3VudDpcIjUwMDAwMC4wMDAwXCIsZ2FtZWlkOlwiNDAwODBcIixuaWNrbmFtZTpcIuaIkeeahOWkqWxsXCIscGVyaW9kOjEscmFuazoxLHJhbmtfdHJlbmQ6M30sXHJcblx0ICAgICAgICBcdHthbW91bnQ6XCI1MDAwMDAuMDAwMFwiLGdhbWVpZDpcIjQwMDgwXCIsbmlja25hbWU6XCLmiJHnmoTlpKlsbFwiLHBlcmlvZDoxLHJhbms6MSxyYW5rX3RyZW5kOjN9LFxyXG5cdCAgICAgICAgXHR7YW1vdW50OlwiNTAwMDAwLjAwMDBcIixnYW1laWQ6XCI0MDA4MFwiLG5pY2tuYW1lOlwi5oiR55qE5aSpbGxcIixwZXJpb2Q6MSxyYW5rOjEscmFua190cmVuZDozfSxcclxuXHQgICAgICAgIFx0e2Ftb3VudDpcIjUwMDAwMC4wMDAwXCIsZ2FtZWlkOlwiNDAwODBcIixuaWNrbmFtZTpcIuaIkeeahOWkqWxsXCIscGVyaW9kOjEscmFuazoxLHJhbmtfdHJlbmQ6M31cclxuXHQgICAgICAgIF0sXHJcblx0ICAgICAgICBcIm15UmFua1wiOntcclxuXHQgICAgICAgIFx0YW1vdW50OlwiNDA3Nzc3NzcwLjAwMDBcIixcclxuXHQgICAgICAgIFx0bmlja25hbWU6XCLllYrlk4jlk4jlk4jpmL/mlq/pob/npo/lu7rmn5DkuKrlnLDmlrnvvIzpl6rpgIB2aGhydG13aHJoXCIsXHJcblx0ICAgICAgICBcdHJhbms6XCIyOVwiLFxyXG5cdCAgICAgICAgXHRyYW5rX3RyZW5kOlwiMVwiXHJcblx0ICAgICAgICB9XHJcbiAgICBcdH0qL1xyXG5cclxuXHRcdGlmKGRhdGEuY29kZSAhPT0gJzAwMCcpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHQvLyDmiJHnmoTmjpLlkI1cclxuXHRcdGxldCBuZXdNeVJhbmsgPSBkYXRhLm15UmFuaztcclxuXHJcblx0XHRpZihVVElMUy5jaGVja0xvZ2luU3RhdHVzKCkpe1xyXG5cdFx0XHR0aGlzLm15UmFua0JveC52aXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5saXN0X3JhbmtfYWxsLmhlaWdodCA9IDM4MDtcclxuXHRcdFx0dGhpcy5teV9yYW5rLnRleHQgPW5ld015UmFuay5yYW5rO1xyXG5cdFx0XHR0aGlzLm15X25hbWUudGV4dCA9IFVUSUxTLmdldEFjdGl2ZVN0cihuZXdNeVJhbmsubmlja25hbWUgLCAxMCk7XHJcblx0XHRcdHRoaXMubXlfYW1vdW50LnRleHQgPVVUSUxTLmdldEFjdGl2ZVN0cihwYXJzZUludChuZXdNeVJhbmsuYW1vdW50KSAsIDEwKTtcclxuXHRcdFx0dGhpcy5teV90cmVuZC5pbmRleCA9IG5ld015UmFuay5yYW5rX3RyZW5kID09PSAzID8gMCA6IG5ld015UmFuay5yYW5rX3RyZW5kIDtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHR0aGlzLm15UmFua0JveC52aXNpYmxlID0gZmFsc2U7XHJcblx0XHRcdHRoaXMubGlzdF9yYW5rX2FsbC5oZWlnaHQgPSA0MzA7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHJlc3VsdCA9IFtdO1xyXG5cdFx0ZGF0YS5kYXRhLmZvckVhY2goKGl0ZW0gLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRsZXQgdHJlbmQgPSBOdW1iZXIoaXRlbS5yYW5rX3RyZW5kKTtcclxuXHJcblx0XHRcdHJlc3VsdC5wdXNoKHtcclxuXHRcdFx0XHRyYW5rTnVtIDogaW5kZXgrMSxcclxuXHRcdFx0XHRuYW1lIDogVVRJTFMuZ2V0QWN0aXZlU3RyKGl0ZW0ubmlja25hbWUgLCAxMCksXHJcblx0XHRcdFx0cG9pbnQgOiBVVElMUy5nZXRBY3RpdmVTdHIocGFyc2VJbnQoaXRlbS5hbW91bnQpICwgMTApLFxyXG5cdFx0XHRcdHRyZW5kIDogIHtcclxuXHRcdFx0XHRcdGluZGV4IDogdHJlbmQgPT09IDMgPyAwIDogdHJlbmRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9KVxyXG5cclxuXHRcdHRoaXMudGFiX2Nvbi5zZWxlY3RlZEluZGV4ID0wO1xyXG5cdFx0dGhpcy5saXN0X3JhbmtfYWxsLmFycmF5ID0gcmVzdWx0O1xyXG5cclxuXHRcdGlmKGRhdGEuZGF0YS5sZW5ndGggPT09IDAgKXtcclxuXHRcdFx0Ly8g5bey57uP55m76ZmGXHJcblx0XHRcdGlmKFVUSUxTLmNoZWNrTG9naW5TdGF0dXMoKSl7XHJcblx0XHRcdFx0dGhpcy5pc0xvYWRpbmdPckNvbnRlbnQoMCk7XHJcblxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR0aGlzLmlzTG9hZGluZ09yQ29udGVudCgwKTsgICAgICAvL+aXpeWRqOaciOS4jeeUqOWIpOaWreaYr+WQpuaYr+eZu+mZhueKtuaAgVxyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhpcy5pc0xvYWRpbmdPckNvbnRlbnQoMik7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0Ly8g5Ye6546wXHJcblx0bXlTaG93KG1lc3NhZ2VDZW50ZXIsIGluZGV4KSB7XHJcblxyXG5cdFx0dGhpcy5jb25maWcuaW5kZXggPSBpbmRleDtcclxuXHRcdGlmKHRoaXMuY29uZmlnLmlzRmlyc3Qpe1xyXG5cdFx0XHQvLyDop6blj5FcclxuXHRcdFx0dGhpcy5kaXNwYXRjaEFjdGlvbihtZXNzYWdlQ2VudGVyKTtcclxuXHRcdFx0dGhpcy5jb25maWcuaXNGaXJzdCA9IGZhbHNlO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdFx0aWYoaW5kZXggPT09IDMpe1xyXG5cdFx0XHRcdFx0dGhpcy50YWJfbmF2LnNlbGVjdGVkSW5kZXggPSAzO1xyXG5cdFx0XHRcdFx0bWVzc2FnZUNlbnRlci5lbWl0KCdteVByaXplTG9nJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKGluZGV4ID09PSAwKXtcclxuXHRcdFx0XHRcdHRoaXMudGFiX25hdi5zZWxlY3RlZEluZGV4ID0gMDtcclxuXHRcdFx0XHRcdG1lc3NhZ2VDZW50ZXIuZW1pdEFqYXgoJ2RheScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyDlvLnlsYLmmL7npLpcclxuXHJcblx0XHR0aGlzLnBvcHVwKCk7XHJcblx0fVxyXG5cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9wb3AvY29tL3JhbmtQb3AuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7O0FBTEE7Ozs7O0FBS0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUZBO0FBR0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUhBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUExVEEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 33 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./laya_game/src/pop/com/rechargePop.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\r\n *  充值页\r\n */\n\n// 键盘\n\nvar RechargePopDialog = exports.RechargePopDialog = function (_rechargePopUI) {\n    _inherits(RechargePopDialog, _rechargePopUI);\n\n    function RechargePopDialog() {\n        var _ref;\n\n        _classCallCheck(this, RechargePopDialog);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = RechargePopDialog.__proto__ || Object.getPrototypeOf(RechargePopDialog)).call.apply(_ref, [this].concat(args)));\n\n        _this.init();\n        return _this;\n    }\n\n    _createClass(RechargePopDialog, [{\n        key: 'init',\n        value: function init() {\n\n            this.initDom();\n\n            this.initConfig();\n\n            // 初始化事件\n            this.initEvent();\n\n            this.keyBoardNumber = new window.Tools.KeyBoardNumber();\n        }\n\n        // 注册\n\n    }, {\n        key: 'registerAction',\n        value: function registerAction(_ref2) {\n            var messageCenter = _ref2.messageCenter,\n                observer = _ref2.observer;\n\n            // messageCenter.registerAction(\"rankInfomation\", this.renderUserAmount.bind(this))\n\n            // 订阅弹层\n            observer.subscribe('pop::recharge', this.myShow.bind(this));\n        }\n    }, {\n        key: 'initDom',\n        value: function initDom() {\n            // 关闭按钮\n            this.dom_close_btn = this.getChildByName(\"close_btn\");\n\n            // 输入框值\n            this.input_txt = this.btn_input.getChildByName('input_txt');\n            this.input_txt.text = '100';\n            this.dom_exchange.text = window.recharge;\n        }\n\n        // 初始化配置参数\n\n    }, {\n        key: 'initConfig',\n        value: function initConfig() {\n            this.config = {\n                rechargeNum: ['10', '50', '100', '500'],\n                info: '请输入大于0的整数'\n            };\n        }\n    }, {\n        key: 'initEvent',\n        value: function initEvent() {\n            // 关闭按钮\n            this.dom_close_btn.on(Laya.Event.CLICK, this, this.close);\n            // 确定充值\n            this.btn_buy.on(Laya.Event.CLICK, this, this.ensureFn);\n\n            // 输入框\n            this.btn_input.on(Laya.Event.CLICK, this, this.showKeyBoardNumber.bind(this));\n\n            this.tab_nav.selectHandler = Laya.Handler.create(this, this.tabBtnChoose, null, false);\n        }\n\n        // 显示键盘\n\n    }, {\n        key: 'showKeyBoardNumber',\n        value: function showKeyBoardNumber() {\n            this.keyBoardNumber.enter('', {\n                length: 8,\n                close: this.hideKeyBoardNumber.bind(this),\n                input: null\n            });\n        }\n\n        // 键盘退出\n\n    }, {\n        key: 'hideKeyBoardNumber',\n        value: function hideKeyBoardNumber(type, value) {\n            var _index = this.config.rechargeNum.indexOf(String(value));\n\n            if (type === \"confirm\" && value) {\n                this.input_txt.text = value;\n                this.tab_nav.selectedIndex = _index;\n            } else if (type === \"confirm\" && !value) {\n                this.input_txt.text = this.config.rechargeNum[2];\n                this.tab_nav.selectedIndex = 2;\n            }\n        }\n\n        // 选中金额的tab切换\n\n    }, {\n        key: 'tabBtnChoose',\n        value: function tabBtnChoose(index) {\n            if (index === -1) {\n                return;\n            }\n\n            this.input_txt.text = this.config.rechargeNum[index];\n        }\n\n        // 确定购买\n\n    }, {\n        key: 'ensureFn',\n        value: function ensureFn() {\n            var pplgameId = window.gameId;\n            var gameName = window.tradeName;\n            var shuoldPay = this.input_txt.text;\n            var gameplatform = window.platform;\n            var currentUrl = window.redirect_uri;\n            var _targetUrl = '';\n            if (Number(shuoldPay) > 0) {\n                _targetUrl = '/?act=payment&gameId=' + pplgameId + '&tradeName=' + gameName + '&amount=' + shuoldPay + '&platform=' + gameplatform + '&redirect_uri=' + currentUrl;\n\n                window.location.href = _targetUrl;\n            }\n        }\n\n        // 出现\n\n    }, {\n        key: 'myShow',\n        value: function myShow() {\n            this.popup();\n        }\n    }]);\n\n    return RechargePopDialog;\n}(rechargePopUI);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy9wb3AvY29tL3JlY2hhcmdlUG9wLmpzPzdjZTUiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogIOWFheWAvOmhtVxyXG4gKi9cclxuXHJcbi8vIOmUruebmFxyXG5cclxuZXhwb3J0IGNsYXNzIFJlY2hhcmdlUG9wRGlhbG9nIGV4dGVuZHMgcmVjaGFyZ2VQb3BVSSB7XHJcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJncyk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0RG9tKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdENvbmZpZygpO1xyXG5cclxuICAgICAgICAvLyDliJ3lp4vljJbkuovku7ZcclxuICAgICAgICB0aGlzLmluaXRFdmVudCgpO1xyXG5cclxuICAgICAgICB0aGlzLmtleUJvYXJkTnVtYmVyID0gbmV3IHdpbmRvdy5Ub29scy5LZXlCb2FyZE51bWJlcigpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5rOo5YaMXHJcbiAgICByZWdpc3RlckFjdGlvbih7bWVzc2FnZUNlbnRlciwgb2JzZXJ2ZXJ9KSB7XHJcbiAgICAgICAgLy8gbWVzc2FnZUNlbnRlci5yZWdpc3RlckFjdGlvbihcInJhbmtJbmZvbWF0aW9uXCIsIHRoaXMucmVuZGVyVXNlckFtb3VudC5iaW5kKHRoaXMpKVxyXG5cclxuICAgICAgICAvLyDorqLpmIXlvLnlsYJcclxuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoJ3BvcDo6cmVjaGFyZ2UnLCB0aGlzLm15U2hvdy5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGluaXREb20oKSB7XHJcbiAgICAgICAvLyDlhbPpl63mjInpkq5cclxuICAgICAgICB0aGlzLmRvbV9jbG9zZV9idG4gPSB0aGlzLmdldENoaWxkQnlOYW1lKFwiY2xvc2VfYnRuXCIpO1xyXG5cclxuICAgICAgICAvLyDovpPlhaXmoYblgLxcclxuICAgICAgICB0aGlzLmlucHV0X3R4dCA9IHRoaXMuYnRuX2lucHV0LmdldENoaWxkQnlOYW1lKCdpbnB1dF90eHQnKTtcclxuICAgICAgICB0aGlzLmlucHV0X3R4dC50ZXh0ID0gJzEwMCc7XHJcbiAgICAgICAgdGhpcy5kb21fZXhjaGFuZ2UudGV4dCA9IHdpbmRvdy5yZWNoYXJnZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDliJ3lp4vljJbphY3nva7lj4LmlbBcclxuICAgIGluaXRDb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIHJlY2hhcmdlTnVtOiBbJzEwJywgJzUwJywgJzEwMCcsICc1MDAnXSxcclxuICAgICAgICAgICAgaW5mbzogJ+ivt+i+k+WFpeWkp+S6jjDnmoTmlbTmlbAnXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRFdmVudCgpIHtcclxuICAgICAgICAvLyDlhbPpl63mjInpkq5cclxuICAgICAgICB0aGlzLmRvbV9jbG9zZV9idG4ub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5jbG9zZSk7XHJcbiAgICAgICAgLy8g56Gu5a6a5YWF5YC8XHJcbiAgICAgICAgdGhpcy5idG5fYnV5Lm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuZW5zdXJlRm4pO1xyXG5cclxuICAgICAgICAvLyDovpPlhaXmoYZcclxuICAgICAgICB0aGlzLmJ0bl9pbnB1dC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLnNob3dLZXlCb2FyZE51bWJlci5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy50YWJfbmF2LnNlbGVjdEhhbmRsZXIgPSBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMudGFiQnRuQ2hvb3NlLCBudWxsLCBmYWxzZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIOaYvuekuumUruebmFxyXG4gICAgc2hvd0tleUJvYXJkTnVtYmVyKCkge1xyXG4gICAgICAgIHRoaXMua2V5Qm9hcmROdW1iZXIuZW50ZXIoJycsIHtcclxuICAgICAgICAgICAgbGVuZ3RoOiA4LFxyXG4gICAgICAgICAgICBjbG9zZTogdGhpcy5oaWRlS2V5Qm9hcmROdW1iZXIuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgaW5wdXQ6IG51bGxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6ZSu55uY6YCA5Ye6XHJcbiAgICBoaWRlS2V5Qm9hcmROdW1iZXIodHlwZSwgdmFsdWUpIHtcclxuICAgICAgICBsZXQgX2luZGV4ID0gdGhpcy5jb25maWcucmVjaGFyZ2VOdW0uaW5kZXhPZihTdHJpbmcodmFsdWUpKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiY29uZmlybVwiICYmIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRfdHh0LnRleHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy50YWJfbmF2LnNlbGVjdGVkSW5kZXggPSBfaW5kZXg7XHJcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PT0gXCJjb25maXJtXCIgJiYgIXZhbHVlKXtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dF90eHQudGV4dCA9IHRoaXMuY29uZmlnLnJlY2hhcmdlTnVtWzJdO1xyXG4gICAgICAgICAgICB0aGlzLnRhYl9uYXYuc2VsZWN0ZWRJbmRleCA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOmAieS4remHkemineeahHRhYuWIh+aNolxyXG4gICAgdGFiQnRuQ2hvb3NlKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmlucHV0X3R4dC50ZXh0ID0gdGhpcy5jb25maWcucmVjaGFyZ2VOdW1baW5kZXhdO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDnoa7lrprotK3kubBcclxuICAgIGVuc3VyZUZuKCkge1xyXG4gICAgICAgIGxldCBwcGxnYW1lSWQgPSB3aW5kb3cuZ2FtZUlkO1xyXG4gICAgICAgIGxldCBnYW1lTmFtZSA9IHdpbmRvdy50cmFkZU5hbWU7XHJcbiAgICAgICAgbGV0IHNodW9sZFBheSA9IHRoaXMuaW5wdXRfdHh0LnRleHQ7XHJcbiAgICAgICAgbGV0IGdhbWVwbGF0Zm9ybSA9IHdpbmRvdy5wbGF0Zm9ybTtcclxuICAgICAgICBsZXQgY3VycmVudFVybCA9IHdpbmRvdy5yZWRpcmVjdF91cmk7XHJcbiAgICAgICAgbGV0IF90YXJnZXRVcmwgPSAnJztcclxuICAgICAgICBpZiAoTnVtYmVyKHNodW9sZFBheSkgPiAwKSB7XHJcbiAgICAgICAgICAgIF90YXJnZXRVcmwgPSBgLz9hY3Q9cGF5bWVudCZnYW1lSWQ9JHtwcGxnYW1lSWR9JnRyYWRlTmFtZT0ke2dhbWVOYW1lfSZhbW91bnQ9JHtzaHVvbGRQYXl9JnBsYXRmb3JtPSR7Z2FtZXBsYXRmb3JtfSZyZWRpcmVjdF91cmk9JHtjdXJyZW50VXJsfWA7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IF90YXJnZXRVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOWHuueOsFxyXG4gICAgbXlTaG93KCkge1xyXG4gICAgICAgIHRoaXMucG9wdXAoKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbGF5YV9nYW1lL3NyYy9wb3AvY29tL3JlY2hhcmdlUG9wLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBSUE7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTs7OztBQWhIQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 34 */
/* no static exports found */
/* all exports used */
/*!*********************************************!*\
  !*** ./laya_game/src/uiScene/com/bezier.js ***!
  \*********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.animate_bezier_move = animate_bezier_move;\n// var animate_bezier_move = (function () {\n\n\nfunction animate_bezier_move(sprite, ps, pe, time, callback, time_fn) {\n  var getBezierPoint = function getBezierPoint(p0, p1, p2, t) {\n    var x, y;\n    x = Math.ceil(getBezierVal(p0.x, p1.x, p2.x, t));\n    y = Math.ceil(getBezierVal(p0.y, p1.y, p2.y, t));\n    return {\n      x: x,\n      y: y\n    };\n  };\n  var getBezierVal = function getBezierVal(a, b, c, t) {\n    return Math.pow(1 - t, 2) * a + 2 * t * (1 - t) * b + Math.pow(t, 2) * c;\n  };\n  var getMiddlePoint = function getMiddlePoint(p1, p2) {\n    /* 贝塞尔曲线的偏移点 y为两者y最小值, x另一个的x 保持始终呈拱形 */\n    var p = {};\n    if (p1.y > p2.y) {\n      p.y = p2.y;\n      p.x = p1.x;\n    } else {\n      p.y = p1.y;\n      p.x = p2.x;\n    }\n    return p;\n  };\n  // 开始结束\n  var Ease = Laya.Ease;\n  var time_fn = time_fn ? Ease[time_fn] : Ease['cubicOut'];\n  var pc = getMiddlePoint(ps, pe);\n\n  var x_step = 1;\n  var nums_step = time / 16;\n  var x_space = pe.x - ps.x;\n  var y_space = pe.y - ps.y;\n\n  if (x_space < 0) {\n    x_step = -1 * x_step;\n  }\n  var y_step = y_space / x_space * x_step;\n\n  sprite.x = ps.x;\n  sprite.y = ps.y;\n\n  Laya.timer.loop(16, sprite, moveLoop);\n\n  var num = 0;\n\n  function moveLoop() {\n    var t = time_fn(num, 0, 1, nums_step);\n    num++;\n    var p = getBezierPoint(ps, pc, pe, t);\n    sprite.x = p.x;\n    sprite.y = p.y;\n    if (num >= nums_step) {\n      Laya.timer.clear(sprite, moveLoop);\n      if (callback && typeof callback == 'function') {\n        callback();\n      }\n    }\n  }\n}\n// return animate_bezier_move;\n// }\n// })();\n\n\n//https://www.desmos.com/calculator/lzl99vqirw//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2NvbS9iZXppZXIuanM/YWEwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB2YXIgYW5pbWF0ZV9iZXppZXJfbW92ZSA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuZXhwb3J0ICBmdW5jdGlvbiBhbmltYXRlX2Jlemllcl9tb3ZlKHNwcml0ZSwgcHMsIHBlLCB0aW1lLCBjYWxsYmFjaywgdGltZV9mbikge1xyXG4gICAgICB2YXIgZ2V0QmV6aWVyUG9pbnQgPSBmdW5jdGlvbiAocDAsIHAxLCBwMiwgdCkge1xyXG4gICAgICB2YXIgeCwgeTtcclxuICAgICAgeCA9IE1hdGguY2VpbChnZXRCZXppZXJWYWwocDAueCwgcDEueCwgcDIueCwgdCkpO1xyXG4gICAgICB5ID0gTWF0aC5jZWlsKGdldEJlemllclZhbChwMC55LCBwMS55LCBwMi55LCB0KSk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogeCxcclxuICAgICAgICB5OiB5XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEJlemllclZhbCA9IGZ1bmN0aW9uIChhLCBiLCBjLCB0KSB7XHJcbiAgICAgIHJldHVybiAoTWF0aC5wb3coMSAtIHQsIDIpICogYSArIDIgKiB0ICogKDEgLSB0KSAqIGIgKyBNYXRoLnBvdyh0LCAyKSAqIGMpO1xyXG4gICAgfTtcclxuICAgIHZhciBnZXRNaWRkbGVQb2ludCA9IGZ1bmN0aW9uIChwMSwgcDIpIHtcclxuICAgICAgLyog6LSd5aGe5bCU5puy57q/55qE5YGP56e754K5IHnkuLrkuKTogIV55pyA5bCP5YC8LCB45Y+m5LiA5Liq55qEeCDkv53mjIHlp4vnu4jlkYjmi7HlvaIgKi9cclxuICAgICAgdmFyIHAgPSB7fTtcclxuICAgICAgaWYgKHAxLnkgPiBwMi55KSB7XHJcbiAgICAgICAgcC55ID0gcDIueTtcclxuICAgICAgICBwLnggPSBwMS54O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHAueSA9IHAxLnk7XHJcbiAgICAgICAgcC54ID0gcDIueDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcDtcclxuICAgIH07XHJcbiAgICAvLyDlvIDlp4vnu5PmnZ9cclxuICAgIHZhciBFYXNlID0gTGF5YS5FYXNlO1xyXG4gICAgdmFyIHRpbWVfZm4gPSB0aW1lX2ZuID8gRWFzZVt0aW1lX2ZuXSA6IEVhc2VbJ2N1YmljT3V0J107XHJcbiAgICB2YXIgcGMgPSBnZXRNaWRkbGVQb2ludChwcywgcGUpO1xyXG5cclxuICAgIHZhciB4X3N0ZXAgPSAxO1xyXG4gICAgdmFyIG51bXNfc3RlcCA9IHRpbWUgLyAxNjtcclxuICAgIHZhciB4X3NwYWNlID0gcGUueCAtIHBzLng7XHJcbiAgICB2YXIgeV9zcGFjZSA9IHBlLnkgLSBwcy55O1xyXG5cclxuICAgIGlmICh4X3NwYWNlIDwgMCkge1xyXG4gICAgICB4X3N0ZXAgPSAtMSAqIHhfc3RlcDtcclxuICAgIH1cclxuICAgIHZhciB5X3N0ZXAgPSB5X3NwYWNlIC8geF9zcGFjZSAqIHhfc3RlcDtcclxuXHJcbiAgICBzcHJpdGUueCA9IHBzLng7XHJcbiAgICBzcHJpdGUueSA9IHBzLnk7XHJcblxyXG4gICAgTGF5YS50aW1lci5sb29wKDE2LCBzcHJpdGUsIG1vdmVMb29wKTtcclxuXHJcbiAgICB2YXIgbnVtID0gMDtcclxuXHJcbiAgICBmdW5jdGlvbiBtb3ZlTG9vcCgpIHtcclxuICAgICAgdmFyIHQgPSB0aW1lX2ZuKG51bSwgMCwgMSwgbnVtc19zdGVwKTtcclxuICAgICAgbnVtKys7XHJcbiAgICAgIHZhciBwID0gZ2V0QmV6aWVyUG9pbnQocHMsIHBjLCBwZSwgdCk7XHJcbiAgICAgIHNwcml0ZS54ID0gcC54O1xyXG4gICAgICBzcHJpdGUueSA9IHAueTtcclxuICAgICAgaWYgKG51bSA+PSBudW1zX3N0ZXApIHtcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHNwcml0ZSwgbW92ZUxvb3ApO1xyXG4gICAgICAgIGlmIChjYWxsYmFjayAmJiB0eXBlb2YgKGNhbGxiYWNrKSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvLyByZXR1cm4gYW5pbWF0ZV9iZXppZXJfbW92ZTtcclxuLy8gfVxyXG4vLyB9KSgpO1xyXG5cclxuXHJcbi8vaHR0cHM6Ly93d3cuZGVzbW9zLmNvbS9jYWxjdWxhdG9yL2x6bDk5dnFpcndcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvdWlTY2VuZS9jb20vYmV6aWVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUdBO0FBSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 35 */
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./laya_game/src/uiScene/com/gainNotice.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(/*! ../../config/utils */ 1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GainNoticeUIView = function (_gainNoticeUI) {\n    _inherits(GainNoticeUIView, _gainNoticeUI);\n\n    function GainNoticeUIView() {\n        _classCallCheck(this, GainNoticeUIView);\n\n        var _this = _possibleConstructorReturn(this, (GainNoticeUIView.__proto__ || Object.getPrototypeOf(GainNoticeUIView)).call(this));\n\n        _this.init();\n\n        GainNoticeUIView.instance = _this;\n        return _this;\n    }\n\n    _createClass(GainNoticeUIView, [{\n        key: 'init',\n        value: function init() {\n            // 数据集合\n            this.noticeDate = [];\n\n            this.y = 320;\n        }\n    }, {\n        key: 'enter',\n        value: function enter(data) {\n            Laya.timer.clear(this, this.show);\n            this.noticeDate.push(data.commMsg);\n            // 是否已经添加进舞台\n            if (!this.parent) {\n                Laya.timer.once(10 * 1000, this, this.show);\n            }\n        }\n\n        // 渲染数据\n\n    }, {\n        key: 'renderDate',\n        value: function renderDate(name, amount, gameName) {\n            this.domName.text = _utils2.default.getActiveStr(name);\n            this.domAmount.text = _utils2.default.getActiveStr(amount);\n            this.domGame.text = _utils2.default.getActiveStr(gameName);\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            var _this2 = this;\n\n            var data = this.noticeDate.shift();\n            var during = 300;\n            if (typeof data === 'undefined') {\n                this.removeSelf();\n\n                return;\n            }\n            this.renderDate(data.nickName, data.winAmount, data.gameName);\n            this.x = -(this.width + 20);\n            Laya.stage.addChild(this);\n            Laya.Tween.to(this, { x: 10 }, during, Laya.Ease.backOut, Laya.Handler.create(this, function () {\n                Laya.Tween.to(_this2, { x: -(_this2.width + 20) }, during, Laya.Ease.backIn, Laya.Handler.create(_this2, _this2.show), 1500);\n            }));\n        }\n    }], [{\n        key: 'getInstance',\n        value: function getInstance() {\n            return this.instance || new this();\n        }\n    }]);\n\n    return GainNoticeUIView;\n}(gainNoticeUI);\n\nexports.default = GainNoticeUIView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2NvbS9nYWluTm90aWNlLmpzPzRlM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVUSUxTIGZyb20gJy4uLy4uL2NvbmZpZy91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYWluTm90aWNlVUlWaWV3IGV4dGVuZHMgZ2Fpbk5vdGljZVVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG5cclxuICAgICAgICBHYWluTm90aWNlVUlWaWV3Lmluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgbmV3IHRoaXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8vIOaVsOaNrumbhuWQiFxyXG4gICAgICAgIHRoaXMubm90aWNlRGF0ZSA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnkgPSAzMjA7XHJcbiAgICB9XHJcblxyXG4gICAgZW50ZXIoZGF0YSkge1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5zaG93KTtcclxuICAgICAgICB0aGlzLm5vdGljZURhdGUucHVzaChkYXRhLmNvbW1Nc2cpO1xyXG4gICAgICAgIC8vIOaYr+WQpuW3sue7j+a3u+WKoOi/m+iInuWPsFxyXG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5vbmNlKDEwKjEwMDAsIHRoaXMsIHRoaXMuc2hvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOa4suafk+aVsOaNrlxyXG4gICAgcmVuZGVyRGF0ZShuYW1lLCBhbW91bnQsIGdhbWVOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5kb21OYW1lLnRleHQgPSBVVElMUy5nZXRBY3RpdmVTdHIobmFtZSk7XHJcbiAgICAgICAgdGhpcy5kb21BbW91bnQudGV4dCA9IFVUSUxTLmdldEFjdGl2ZVN0cihhbW91bnQpO1xyXG4gICAgICAgIHRoaXMuZG9tR2FtZS50ZXh0ID0gVVRJTFMuZ2V0QWN0aXZlU3RyKGdhbWVOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5ub3RpY2VEYXRlLnNoaWZ0KCk7XHJcbiAgICAgICAgbGV0IGR1cmluZyA9IDMwMDtcclxuICAgICAgICBpZih0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVNlbGYoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW5kZXJEYXRlKGRhdGEubmlja05hbWUsIGRhdGEud2luQW1vdW50LCBkYXRhLmdhbWVOYW1lKTtcclxuICAgICAgICB0aGlzLnggPSAtKHRoaXMud2lkdGgrMjApO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLCB7IHg6MTB9LCBkdXJpbmcsIExheWEuRWFzZS5iYWNrT3V0LCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLCB7IHg6IC0odGhpcy53aWR0aCsyMCl9LCBkdXJpbmcsIExheWEuRWFzZS5iYWNrSW4sIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5zaG93KSwgMTUwMCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3VpU2NlbmUvY29tL2dhaW5Ob3RpY2UuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUxBO0FBTUE7QUFDQTs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUF6Q0E7QUFDQTtBQUNBOzs7O0FBWEE7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 36 */
/* no static exports found */
/* all exports used */
/*!**********************************************!*\
  !*** ./laya_game/src/uiScene/com/options.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n*单个选项按钮\r\n* Options ui visualization of the data that model contains.\r\n* @class      OptionsUIView (name)\r\n*/\nvar OptionsUIView = function (_Laya$Sprite) {\n    _inherits(OptionsUIView, _Laya$Sprite);\n\n    function OptionsUIView(options) {\n        _classCallCheck(this, OptionsUIView);\n\n        var _this = _possibleConstructorReturn(this, (OptionsUIView.__proto__ || Object.getPrototypeOf(OptionsUIView)).call(this));\n\n        _this.options = options;\n        _this.init();\n        return _this;\n    }\n\n    _createClass(OptionsUIView, [{\n        key: 'init',\n        value: function init() {\n            this.options = Object.assign({\n                initX: 20,\n                disY: 14\n            }, this.options);\n\n            this.options.buttonSource = Laya.loader.getRes(this.options.buttonUrl);\n\n            var sizeObj = this.computeSize();\n            this.set(sizeObj);\n            this.createBg(sizeObj);\n            this.createButtons();\n            this.initEvent();\n\n            this.hide();\n        }\n\n        // 计算尺寸\n\n    }, {\n        key: 'computeSize',\n        value: function computeSize() {\n            var buttonW = this.options.buttonSource.sourceWidth;\n            var buttonH = this.options.buttonSource.sourceHeight;\n            var length = this.options.itemList.length;\n\n            return {\n                width: buttonW + this.options.initX * 2,\n                height: length * buttonH + this.options.disY * (length + 1) + 15\n            };\n        }\n    }, {\n        key: 'createBg',\n        value: function createBg(sizeObj) {\n            var img = new Laya.Image(this.options.bgUrl);\n            // img.sizeGrid = \"25,25,25,25\";\n            img.set(sizeObj);\n\n            this.addChild(img);\n        }\n    }, {\n        key: 'createButtons',\n        value: function createButtons() {\n            var _this2 = this;\n\n            var w = this.options.buttonSource.sourceWidth;\n            var h = this.options.buttonSource.sourceHeight;\n\n            this.options.itemList.forEach(function (item, index) {\n                var button = new Laya.Button(_this2.options.buttonUrl, item);\n                button.set({\n                    stateNum: 1,\n                    labelFont: _this2.options.labelFont,\n                    x: _this2.options.initX,\n                    y: h * index + _this2.options.disY * (index + 1),\n                    width: w,\n                    height: h\n                });\n                _this2.addChild(button);\n            });\n        }\n    }, {\n        key: 'initEvent',\n        value: function initEvent() {\n            var _this3 = this;\n\n            this.findType('Button').forEach(function (item, index) {\n                item.on(Laya.Event.CLICK, _this3, function () {\n                    _this3.options.clickHandler(_this3.options.itemList[index]);\n                    _this3.hide();\n                });\n            });\n        }\n    }, {\n        key: 'toggle',\n        value: function toggle() {\n            if (this.visible) {\n                this.hide();\n            } else {\n                this.show();\n            }\n        }\n\n        // 设置中心点\n\n    }, {\n        key: 'setAnchor',\n        value: function setAnchor() {\n            var attr = null;\n            if (this.x === 0) {\n                attr = { pivotX: 0.5 * this.width, pivotY: this.height, x: 0.5 * this.width, y: 0 };\n            } else {\n                attr = { pivotX: 0, pivotY: 0, x: 0, y: -1 * this.height };\n            }\n\n            this.set(attr);\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            this.visible = true;\n            this.setAnchor();\n            Laya.Tween.from(this, { scaleX: 0, scaleY: 0 }, 200, Laya.Ease.backOut, Laya.Handler.create(this, this.setAnchor));\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.visible = false;\n        }\n    }]);\n\n    return OptionsUIView;\n}(Laya.Sprite);\n\nexports.default = OptionsUIView;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2NvbS9vcHRpb25zLmpzPzZmZGMiXSwic291cmNlc0NvbnRlbnQiOlsiICAgIC8qKlxyXG4gKuWNleS4qumAiemhueaMiemSrlxyXG4gKiBPcHRpb25zIHVpIHZpc3VhbGl6YXRpb24gb2YgdGhlIGRhdGEgdGhhdCBtb2RlbCBjb250YWlucy5cclxuICogQGNsYXNzICAgICAgT3B0aW9uc1VJVmlldyAobmFtZSlcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wdGlvbnNVSVZpZXcgZXh0ZW5kcyBMYXlhLlNwcml0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICAgICBpbml0WDogMjAsXHJcbiAgICAgICAgICAgIGRpc1k6IDE0XHJcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmJ1dHRvblNvdXJjZSA9IExheWEubG9hZGVyLmdldFJlcyh0aGlzLm9wdGlvbnMuYnV0dG9uVXJsKTtcclxuXHJcbiAgICAgICAgbGV0IHNpemVPYmogPSB0aGlzLmNvbXB1dGVTaXplKCk7XHJcbiAgICAgICAgdGhpcy5zZXQoc2l6ZU9iaik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCZyhzaXplT2JqKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbnMoKTtcclxuICAgICAgICB0aGlzLmluaXRFdmVudCgpO1xyXG5cclxuICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDorqHnrpflsLrlr7hcclxuICAgIGNvbXB1dGVTaXplKCkge1xyXG4gICAgICAgIGxldCBidXR0b25XID0gdGhpcy5vcHRpb25zLmJ1dHRvblNvdXJjZS5zb3VyY2VXaWR0aDtcclxuICAgICAgICBsZXQgYnV0dG9uSCA9IHRoaXMub3B0aW9ucy5idXR0b25Tb3VyY2Uuc291cmNlSGVpZ2h0O1xyXG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLm9wdGlvbnMuaXRlbUxpc3QubGVuZ3RoO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB3aWR0aDogYnV0dG9uVyArIHRoaXMub3B0aW9ucy5pbml0WCAqIDIsXHJcbiAgICAgICAgICAgIGhlaWdodDogbGVuZ3RoICogYnV0dG9uSCArIHRoaXMub3B0aW9ucy5kaXNZICogKGxlbmd0aCArIDEpICsxNVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCZyhzaXplT2JqKSB7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBMYXlhLkltYWdlKHRoaXMub3B0aW9ucy5iZ1VybCk7XHJcbiAgICAgICAgLy8gaW1nLnNpemVHcmlkID0gXCIyNSwyNSwyNSwyNVwiO1xyXG4gICAgICAgIGltZy5zZXQoc2l6ZU9iaik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoaW1nKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCdXR0b25zKCkge1xyXG4gICAgICAgIGxldCB3PSB0aGlzLm9wdGlvbnMuYnV0dG9uU291cmNlLnNvdXJjZVdpZHRoO1xyXG4gICAgICAgIGxldCBoID0gdGhpcy5vcHRpb25zLmJ1dHRvblNvdXJjZS5zb3VyY2VIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5pdGVtTGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYnV0dG9uID0gbmV3IExheWEuQnV0dG9uKHRoaXMub3B0aW9ucy5idXR0b25VcmwsIGl0ZW0pO1xyXG4gICAgICAgICAgICBidXR0b24uc2V0KHtcclxuICAgICAgICAgICAgICAgIHN0YXRlTnVtOiAxLFxyXG4gICAgICAgICAgICAgICAgbGFiZWxGb250OiB0aGlzLm9wdGlvbnMubGFiZWxGb250LFxyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5vcHRpb25zLmluaXRYLFxyXG4gICAgICAgICAgICAgICAgeTogaCAqIGluZGV4ICsgdGhpcy5vcHRpb25zLmRpc1kgKiAoaW5kZXggKyAxKSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOncsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6aFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpbml0RXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5maW5kVHlwZSgnQnV0dG9uJykuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaXRlbS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuY2xpY2tIYW5kbGVyKHRoaXMub3B0aW9ucy5pdGVtTGlzdFtpbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6K6+572u5Lit5b+D54K5XHJcbiAgICBzZXRBbmNob3IoKSB7XHJcbiAgICAgICAgbGV0IGF0dHIgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLnggPT09IDApIHtcclxuICAgICAgICAgICAgYXR0ciA9IHsgcGl2b3RYOiAwLjUgKiB0aGlzLndpZHRoLCBwaXZvdFk6IHRoaXMuaGVpZ2h0LCB4OiAwLjUgKiB0aGlzLndpZHRoLCB5OiAwIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXR0ciA9IHsgcGl2b3RYOiAwLCBwaXZvdFk6IDAsIHg6IDAsIHk6IC0xICogdGhpcy5oZWlnaHQgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0KGF0dHIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldEFuY2hvcigpO1xyXG4gICAgICAgIExheWEuVHdlZW4uZnJvbSh0aGlzLCB7IHNjYWxlWDogMCwgc2NhbGVZOiAwIH0sIDIwMCwgTGF5YS5FYXNlLmJhY2tPdXQsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5zZXRBbmNob3IpKTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBsYXlhX2dhbWUvc3JjL3VpU2NlbmUvY29tL29wdGlvbnMuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FBS0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBSkE7QUFLQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBcEdBO0FBQ0E7QUFEQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 37 */
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./laya_game/src/uiScene/com/walkRouter.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PenguinWalk = PenguinWalk;\nvar ORTHOGONAL = 7;\nvar LIMIT = { x: 1220, y: 500 };\nvar directions = ['l', 'r', 'u', 'd', 'lu', 'ru', 'ld', 'rd'];\nvar obstacles = [{ x: { start: 0, end: 130 }, y: { start: 0, end: 70 } }, { x: { start: 0, end: 100 }, y: { start: 150, end: 380 } }, { x: { start: 1000, end: 1220 }, y: { start: 0, end: 235 } }];\n\n/*\r\n * 企鹅走路\r\n * @params from 开始坐标\r\n * @params to 终点坐标\r\n */\nfunction PenguinWalk(from, to) {\n    var route = [],\n        chosable = [],\n        counter = Math.ceil((LIMIT.x + LIMIT.y) / ORTHOGONAL); // 理论最远距离\n\n    // 获取x轴可走方向(x坐标差值大于半小格)\n    if (Math.abs(from.x - to.x) > ORTHOGONAL / 2) {\n        chosable.push(from.x < to.x ? 'r' : 'l');\n    }\n\n    // 获取y轴可走方向(y坐标差值大于半小格)\n    if (Math.abs(from.y - to.y) > ORTHOGONAL / 2) {\n        chosable.push(from.y < to.y ? 'd' : 'u');\n    }\n\n    // 如果有两个方向，则合成斜方向，并放到数组开头\n    if (chosable.length == 2) {\n        chosable.splice(0, 0, chosable[0] + chosable[1]);\n    }\n\n    var base = { x: from.x, y: from.y };\n    while (counter-- > 0) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = chosable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var d = _step.value;\n\n                var firstD = d.charAt(0),\n                    lastD = d.charAt(d.length - 1);\n\n                // 判断x轴和y轴是否越界\n                if (firstD == 'r' && base.x > to.x || firstD == 'l' && base.x < to.x || lastD == 'u' && base.y < to.y || lastD == 'd' && base.y > to.y) {\n                    continue;\n                }\n\n                // 根据方向移动x轴和y轴\n                var temp = {\n                    x: firstD == 'r' ? base.x + ORTHOGONAL : firstD == 'l' ? base.x - ORTHOGONAL : base.x,\n                    y: lastD == 'u' ? base.y - ORTHOGONAL : lastD == 'd' ? base.y + ORTHOGONAL : base.y\n                };\n\n                // 判断是否可走到此位置\n                var walkable = true;\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = obstacles[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var v = _step2.value;\n\n                        if (v.x.start < temp.x && v.x.end > temp.x && v.y.start < temp.y && v.y.end > temp.y) {\n                            walkable = false;\n                            break;\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n\n                if (walkable) {\n                    route.push({ x: temp.x, y: temp.y, d: d });\n                    base.x = temp.x;\n                    base.y = temp.y;\n                    break;\n                }\n            }\n\n            // 判断是否结束\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        if (Math.abs(base.x - to.x) <= ORTHOGONAL && Math.abs(base.y - to.y) <= ORTHOGONAL) {\n            return route;\n        }\n    }\n\n    return [];\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbGF5YV9nYW1lL3NyYy91aVNjZW5lL2NvbS93YWxrUm91dGVyLmpzPzExNTciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgT1JUSE9HT05BTCA9IDc7XHJcbmNvbnN0IExJTUlUID0ge3g6MTIyMCwgeTo1MDB9O1xyXG5jb25zdCBkaXJlY3Rpb25zID0gWydsJywgJ3InLCAndScsICdkJywgJ2x1JywgJ3J1JywgJ2xkJywgJ3JkJ107XHJcbmNvbnN0IG9ic3RhY2xlcyA9IFtcclxuICAgIHt4OntzdGFydDowLCBlbmQ6MTMwfSwgeTp7c3RhcnQ6MCwgZW5kOjcwfX0sXHJcbiAgICB7eDp7c3RhcnQ6MCwgZW5kOjEwMH0sIHk6e3N0YXJ0OjE1MCwgZW5kOjM4MH19LFxyXG4gICAge3g6e3N0YXJ0OjEwMDAsIGVuZDoxMjIwfSwgeTp7c3RhcnQ6MCwgZW5kOjIzNX19XHJcbl07XHJcblxyXG4vKlxyXG4gKiDkvIHpuYXotbDot69cclxuICogQHBhcmFtcyBmcm9tIOW8gOWni+WdkOagh1xyXG4gKiBAcGFyYW1zIHRvIOe7iOeCueWdkOagh1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFBlbmd1aW5XYWxrKGZyb20sIHRvKSB7XHJcbiAgICBsZXQgcm91dGUgPSBbXSxcclxuICAgICAgICBjaG9zYWJsZSA9IFtdLFxyXG4gICAgICAgIGNvdW50ZXIgPSBNYXRoLmNlaWwoKExJTUlULnggKyBMSU1JVC55KSAvIE9SVEhPR09OQUwpOyAvLyDnkIborrrmnIDov5zot53nprtcclxuXHJcbiAgICAvLyDojrflj5Z46L205Y+v6LWw5pa55ZCRKHjlnZDmoIflt67lgLzlpKfkuo7ljYrlsI/moLwpXHJcbiAgICBpZiAoTWF0aC5hYnMoZnJvbS54LXRvLngpID4gT1JUSE9HT05BTC8yKSB7XHJcbiAgICAgICAgY2hvc2FibGUucHVzaChmcm9tLnggPCB0by54ID8gJ3InIDogJ2wnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDojrflj5Z56L205Y+v6LWw5pa55ZCRKHnlnZDmoIflt67lgLzlpKfkuo7ljYrlsI/moLwpXHJcbiAgICBpZiAoTWF0aC5hYnMoZnJvbS55LXRvLnkpID4gT1JUSE9HT05BTC8yKSB7XHJcbiAgICAgICAgY2hvc2FibGUucHVzaChmcm9tLnkgPCB0by55ID8gJ2QnIDogJ3UnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlpoLmnpzmnInkuKTkuKrmlrnlkJHvvIzliJnlkIjmiJDmlpzmlrnlkJHvvIzlubbmlL7liLDmlbDnu4TlvIDlpLRcclxuICAgIGlmIChjaG9zYWJsZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgIGNob3NhYmxlLnNwbGljZSgwLCAwLCBjaG9zYWJsZVswXStjaG9zYWJsZVsxXSlcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYmFzZSA9IHt4OmZyb20ueCwgeTpmcm9tLnl9O1xyXG4gICAgd2hpbGUgKGNvdW50ZXItLSA+IDApIHtcclxuICAgICAgICBmb3IgKGxldCBkIG9mIGNob3NhYmxlKSB7XHJcbiAgICAgICAgICAgIGxldCBmaXJzdEQgPSBkLmNoYXJBdCgwKSxcclxuICAgICAgICAgICAgICAgIGxhc3REID0gZC5jaGFyQXQoZC5sZW5ndGgtMSk7XHJcblxyXG4gICAgICAgICAgICAvLyDliKTmlq146L205ZKMeei9tOaYr+WQpui2iueVjFxyXG4gICAgICAgICAgICBpZiAoKGZpcnN0RCA9PSAncicgJiYgYmFzZS54ID4gdG8ueCkgfHwgKGZpcnN0RCA9PSAnbCcgJiYgYmFzZS54IDwgdG8ueCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGxhc3REID09ICd1JyAmJiBiYXNlLnkgPCB0by55KSB8fCAobGFzdEQgPT0gJ2QnICYmIGJhc2UueSA+IHRvLnkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g5qC55o2u5pa55ZCR56e75YqoeOi9tOWSjHnovbRcclxuICAgICAgICAgICAgbGV0IHRlbXAgPSB7XHJcbiAgICAgICAgICAgICAgICB4IDogZmlyc3REID09ICdyJyA/IChiYXNlLngrT1JUSE9HT05BTCkgOiBmaXJzdEQgPT0gJ2wnID8gKGJhc2UueC1PUlRIT0dPTkFMKSA6IGJhc2UueCxcclxuICAgICAgICAgICAgICAgIHkgOiBsYXN0RCA9PSAndScgPyAoYmFzZS55LU9SVEhPR09OQUwpIDogbGFzdEQgPT0gJ2QnID8gKGJhc2UueStPUlRIT0dPTkFMKSA6IGJhc2UueVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5Y+v6LWw5Yiw5q2k5L2N572uXHJcbiAgICAgICAgICAgIGxldCB3YWxrYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHYgb2Ygb2JzdGFjbGVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodi54LnN0YXJ0IDwgdGVtcC54ICYmIHYueC5lbmQgPiB0ZW1wLnggJiYgdi55LnN0YXJ0IDwgdGVtcC55ICYmIHYueS5lbmQgPiB0ZW1wLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YWxrYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAod2Fsa2FibGUpIHtcclxuICAgICAgICAgICAgICAgIHJvdXRlLnB1c2goe3g6dGVtcC54LCB5OnRlbXAueSwgZDpkfSk7XHJcbiAgICAgICAgICAgICAgICBiYXNlLnggPSB0ZW1wLng7XHJcbiAgICAgICAgICAgICAgICBiYXNlLnkgPSB0ZW1wLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5Yik5pat5piv5ZCm57uT5p2fXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGJhc2UueC10by54KSA8PSBPUlRIT0dPTkFMICYmIE1hdGguYWJzKGJhc2UueS10by55KSA8PSBPUlRIT0dPTkFMKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb3V0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtdO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGxheWFfZ2FtZS9zcmMvdWlTY2VuZS9jb20vd2Fsa1JvdXRlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFjQTtBQWRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTs7Ozs7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQWpCQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBa0JBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ]);